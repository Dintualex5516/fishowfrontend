(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(c){if(c.ep)return;c.ep=!0;const m=o(c);fetch(c.href,m)}})();function mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gi={exports:{}},Ln={},hi={exports:{}},Ie={};var Ou;function fp(){if(Ou)return Ie;Ou=1;var n=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function w(j,F,Y){this.props=j,this.context=F,this.refs=R,this.updater=Y||P}w.prototype.isReactComponent={},w.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=w.prototype;function D(j,F,Y){this.props=j,this.context=F,this.refs=R,this.updater=Y||P}var S=D.prototype=new k;S.constructor=D,N(S,w.prototype),S.isPureReactComponent=!0;var L=Array.isArray,V=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function q(j,F,Y){var ie,de={},me=null,le=null;if(F!=null)for(ie in F.ref!==void 0&&(le=F.ref),F.key!==void 0&&(me=""+F.key),F)V.call(F,ie)&&!I.hasOwnProperty(ie)&&(de[ie]=F[ie]);var be=arguments.length-2;if(be===1)de.children=Y;else if(1<be){for(var Fe=Array(be),rt=0;rt<be;rt++)Fe[rt]=arguments[rt+2];de.children=Fe}if(j&&j.defaultProps)for(ie in be=j.defaultProps,be)de[ie]===void 0&&(de[ie]=be[ie]);return{$$typeof:n,type:j,key:me,ref:le,props:de,_owner:T.current}}function se(j,F){return{$$typeof:n,type:j.type,key:F,ref:j.ref,props:j.props,_owner:j._owner}}function ve(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function we(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return F[Y]})}var te=/\/+/g;function W(j,F){return typeof j=="object"&&j!==null&&j.key!=null?we(""+j.key):F.toString(36)}function ke(j,F,Y,ie,de){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var le=!1;if(j===null)le=!0;else switch(me){case"string":case"number":le=!0;break;case"object":switch(j.$$typeof){case n:case l:le=!0}}if(le)return le=j,de=de(le),j=ie===""?"."+W(le,0):ie,L(de)?(Y="",j!=null&&(Y=j.replace(te,"$&/")+"/"),ke(de,F,Y,"",function(rt){return rt})):de!=null&&(ve(de)&&(de=se(de,Y+(!de.key||le&&le.key===de.key?"":(""+de.key).replace(te,"$&/")+"/")+j)),F.push(de)),1;if(le=0,ie=ie===""?".":ie+":",L(j))for(var be=0;be<j.length;be++){me=j[be];var Fe=ie+W(me,be);le+=ke(me,F,Y,Fe,de)}else if(Fe=E(j),typeof Fe=="function")for(j=Fe.call(j),be=0;!(me=j.next()).done;)me=me.value,Fe=ie+W(me,be++),le+=ke(me,F,Y,Fe,de);else if(me==="object")throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return le}function ye(j,F,Y){if(j==null)return j;var ie=[],de=0;return ke(j,ie,"","",function(me){return F.call(Y,me,de++)}),ie}function je(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var K={current:null},M={transition:null},J={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:M,ReactCurrentOwner:T};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:ye,forEach:function(j,F,Y){ye(j,function(){F.apply(this,arguments)},Y)},count:function(j){var F=0;return ye(j,function(){F++}),F},toArray:function(j){return ye(j,function(F){return F})||[]},only:function(j){if(!ve(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ie.Component=w,Ie.Fragment=o,Ie.Profiler=c,Ie.PureComponent=D,Ie.StrictMode=d,Ie.Suspense=h,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Ie.act=ae,Ie.cloneElement=function(j,F,Y){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=N({},j.props),de=j.key,me=j.ref,le=j._owner;if(F!=null){if(F.ref!==void 0&&(me=F.ref,le=T.current),F.key!==void 0&&(de=""+F.key),j.type&&j.type.defaultProps)var be=j.type.defaultProps;for(Fe in F)V.call(F,Fe)&&!I.hasOwnProperty(Fe)&&(ie[Fe]=F[Fe]===void 0&&be!==void 0?be[Fe]:F[Fe])}var Fe=arguments.length-2;if(Fe===1)ie.children=Y;else if(1<Fe){be=Array(Fe);for(var rt=0;rt<Fe;rt++)be[rt]=arguments[rt+2];ie.children=be}return{$$typeof:n,type:j.type,key:de,ref:me,props:ie,_owner:le}},Ie.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:m,_context:j},j.Consumer=j},Ie.createElement=q,Ie.createFactory=function(j){var F=q.bind(null,j);return F.type=j,F},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(j){return{$$typeof:x,render:j}},Ie.isValidElement=ve,Ie.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:je}},Ie.memo=function(j,F){return{$$typeof:y,type:j,compare:F===void 0?null:F}},Ie.startTransition=function(j){var F=M.transition;M.transition={};try{j()}finally{M.transition=F}},Ie.unstable_act=ae,Ie.useCallback=function(j,F){return K.current.useCallback(j,F)},Ie.useContext=function(j){return K.current.useContext(j)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(j){return K.current.useDeferredValue(j)},Ie.useEffect=function(j,F){return K.current.useEffect(j,F)},Ie.useId=function(){return K.current.useId()},Ie.useImperativeHandle=function(j,F,Y){return K.current.useImperativeHandle(j,F,Y)},Ie.useInsertionEffect=function(j,F){return K.current.useInsertionEffect(j,F)},Ie.useLayoutEffect=function(j,F){return K.current.useLayoutEffect(j,F)},Ie.useMemo=function(j,F){return K.current.useMemo(j,F)},Ie.useReducer=function(j,F,Y){return K.current.useReducer(j,F,Y)},Ie.useRef=function(j){return K.current.useRef(j)},Ie.useState=function(j){return K.current.useState(j)},Ie.useSyncExternalStore=function(j,F,Y){return K.current.useSyncExternalStore(j,F,Y)},Ie.useTransition=function(){return K.current.useTransition()},Ie.version="18.3.1",Ie}var zu;function Ai(){return zu||(zu=1,hi.exports=fp()),hi.exports}var Mu;function pp(){if(Mu)return Ln;Mu=1;var n=Ai(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(x,h,y){var b,v={},E=null,P=null;y!==void 0&&(E=""+y),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(P=h.ref);for(b in h)d.call(h,b)&&!m.hasOwnProperty(b)&&(v[b]=h[b]);if(x&&x.defaultProps)for(b in h=x.defaultProps,h)v[b]===void 0&&(v[b]=h[b]);return{$$typeof:l,type:x,key:E,ref:P,props:v,_owner:c.current}}return Ln.Fragment=o,Ln.jsx=f,Ln.jsxs=f,Ln}var $u;function xp(){return $u||($u=1,gi.exports=pp()),gi.exports}var r=xp(),p=Ai();const Oi=mp(p);var Gs={},yi={exports:{}},Rt={},bi={exports:{}},vi={};var Uu;function gp(){return Uu||(Uu=1,(function(n){function l(M,J){var ae=M.length;M.push(J);e:for(;0<ae;){var j=ae-1>>>1,F=M[j];if(0<c(F,J))M[j]=J,M[ae]=F,ae=j;else break e}}function o(M){return M.length===0?null:M[0]}function d(M){if(M.length===0)return null;var J=M[0],ae=M.pop();if(ae!==J){M[0]=ae;e:for(var j=0,F=M.length,Y=F>>>1;j<Y;){var ie=2*(j+1)-1,de=M[ie],me=ie+1,le=M[me];if(0>c(de,ae))me<F&&0>c(le,de)?(M[j]=le,M[me]=ae,j=me):(M[j]=de,M[ie]=ae,j=ie);else if(me<F&&0>c(le,ae))M[j]=le,M[me]=ae,j=me;else break e}}return J}function c(M,J){var ae=M.sortIndex-J.sortIndex;return ae!==0?ae:M.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var f=Date,x=f.now();n.unstable_now=function(){return f.now()-x}}var h=[],y=[],b=1,v=null,E=3,P=!1,N=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var J=o(y);J!==null;){if(J.callback===null)d(y);else if(J.startTime<=M)d(y),J.sortIndex=J.expirationTime,l(h,J);else break;J=o(y)}}function L(M){if(R=!1,S(M),!N)if(o(h)!==null)N=!0,je(V);else{var J=o(y);J!==null&&K(L,J.startTime-M)}}function V(M,J){N=!1,R&&(R=!1,k(q),q=-1),P=!0;var ae=E;try{for(S(J),v=o(h);v!==null&&(!(v.expirationTime>J)||M&&!we());){var j=v.callback;if(typeof j=="function"){v.callback=null,E=v.priorityLevel;var F=j(v.expirationTime<=J);J=n.unstable_now(),typeof F=="function"?v.callback=F:v===o(h)&&d(h),S(J)}else d(h);v=o(h)}if(v!==null)var Y=!0;else{var ie=o(y);ie!==null&&K(L,ie.startTime-J),Y=!1}return Y}finally{v=null,E=ae,P=!1}}var T=!1,I=null,q=-1,se=5,ve=-1;function we(){return!(n.unstable_now()-ve<se)}function te(){if(I!==null){var M=n.unstable_now();ve=M;var J=!0;try{J=I(!0,M)}finally{J?W():(T=!1,I=null)}}else T=!1}var W;if(typeof D=="function")W=function(){D(te)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ye=ke.port2;ke.port1.onmessage=te,W=function(){ye.postMessage(null)}}else W=function(){w(te,0)};function je(M){I=M,T||(T=!0,W())}function K(M,J){q=w(function(){M(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){N||P||(N=!0,je(V))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return o(h)},n.unstable_next=function(M){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var ae=E;E=J;try{return M()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=E;E=M;try{return J()}finally{E=ae}},n.unstable_scheduleCallback=function(M,J,ae){var j=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?j+ae:j):ae=j,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,M={id:b++,callback:J,priorityLevel:M,startTime:ae,expirationTime:F,sortIndex:-1},ae>j?(M.sortIndex=ae,l(y,M),o(h)===null&&M===o(y)&&(R?(k(q),q=-1):R=!0,K(L,ae-j))):(M.sortIndex=F,l(h,M),N||P||(N=!0,je(V))),M},n.unstable_shouldYield=we,n.unstable_wrapCallback=function(M){var J=E;return function(){var ae=E;E=J;try{return M.apply(this,arguments)}finally{E=ae}}}})(vi)),vi}var Hu;function hp(){return Hu||(Hu=1,bi.exports=gp()),bi.exports}var Vu;function yp(){if(Vu)return Rt;Vu=1;var n=Ai(),l=hp();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,c={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)d.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},v={};function E(e){return h.call(v,e)?!0:h.call(b,e)?!1:y.test(e)?v[e]=!0:(b[e]=!0,!1)}function P(e,t,a,s){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,a,s){if(t===null||typeof t>"u"||P(e,t,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,a,s,i,u,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=g}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k,D);w[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k,D);w[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k,D);w[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,a,s){var i=w.hasOwnProperty(t)?w[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,a,i,s)&&(a=null),s||i===null?E(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):i.mustUseProperty?e[i.propertyName]=a===null?i.type===3?!1:"":a:(t=i.attributeName,s=i.attributeNamespace,a===null?e.removeAttribute(t):(i=i.type,a=i===3||i===4&&a===!0?"":""+a,s?e.setAttributeNS(s,t,a):e.setAttribute(t,a))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),we=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),M=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,j;function F(e){if(j===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var Y=!1;function ie(e,t){if(!e||Y)return"";Y=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var s=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){s=$}e.call(t.prototype)}else{try{throw Error()}catch($){s=$}e()}}catch($){if($&&s&&typeof $.stack=="string"){for(var i=$.stack.split(`
`),u=s.stack.split(`
`),g=i.length-1,C=u.length-1;1<=g&&0<=C&&i[g]!==u[C];)C--;for(;1<=g&&0<=C;g--,C--)if(i[g]!==u[C]){if(g!==1||C!==1)do if(g--,C--,0>C||i[g]!==u[C]){var _=`
`+i[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=C);break}}}finally{Y=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?F(e):""}function de(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case T:return"Portal";case se:return"Profiler";case q:return"StrictMode";case W:return"Suspense";case ke:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case ve:return(e._context.displayName||"Context")+".Provider";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case je:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function le(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rt(e){var t=Fe(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(g){s=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function z(e){e._valueTracker||(e._valueTracker=rt(e))}function oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Fe(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ge(e,t){var a=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Ee(e,t){var a=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;a=be(t.value!=null?t.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Te(e,t){t=t.checked,t!=null&&S(e,"checked",t,!1)}function gt(e,t){Te(e,t);var a=be(t.value),s=t.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ae(e,t.type,a):t.hasOwnProperty("defaultValue")&&Ae(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Ae(e,t,a){(t!=="number"||xe(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Ke=Array.isArray;function Me(e,t,a,s){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&s&&(e[a].defaultSelected=!0)}else{for(a=""+be(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qr(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(o(92));if(Ke(a)){if(1<a.length)throw Error(o(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:be(a)}}function Ka(e,t){var a=be(t.value),s=be(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function Qa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ya(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ya(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pa,cr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,a,s,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){Q.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function U(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function Z(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=a.indexOf("--")===0,i=U(a,t[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,i):e[a]=i}}var _e=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Re(e,t){if(t){if(_e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function $e(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Qr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,xa=null,ga=null;function td(e){if(e=bn(e)){if(typeof Ja!="function")throw Error(o(280));var t=e.stateNode;t&&(t=fs(t),Ja(e.stateNode,e.type,t))}}function rd(e){xa?ga?ga.push(e):ga=[e]:xa=e}function ad(){if(xa){var e=xa,t=ga;if(ga=xa=null,td(e),t)for(e=0;e<t.length;e++)td(t[e])}}function nd(e,t){return e(t)}function sd(){}var Il=!1;function ld(e,t,a){if(Il)return e(t,a);Il=!0;try{return nd(e,t,a)}finally{Il=!1,(xa!==null||ga!==null)&&(sd(),ad())}}function Xa(e,t){var a=e.stateNode;if(a===null)return null;var s=fs(a);if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var _l=!1;if(x)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{_l=!1}function hm(e,t,a,s,i,u,g,C,_){var $=Array.prototype.slice.call(arguments,3);try{t.apply(a,$)}catch(G){this.onError(G)}}var Za=!1,Wn=null,qn=!1,Ll=null,ym={onError:function(e){Za=!0,Wn=e}};function bm(e,t,a,s,i,u,g,C,_){Za=!1,Wn=null,hm.apply(ym,arguments)}function vm(e,t,a,s,i,u,g,C,_){if(bm.apply(this,arguments),Za){if(Za){var $=Wn;Za=!1,Wn=null}else throw Error(o(198));qn||(qn=!0,Ll=$)}}function Yr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function id(e){if(Yr(e)!==e)throw Error(o(188))}function wm(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var i=a.return;if(i===null)break;var u=i.alternate;if(u===null){if(s=i.return,s!==null){a=s;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===a)return id(i),e;if(u===s)return id(i),t;u=u.sibling}throw Error(o(188))}if(a.return!==s.return)a=i,s=u;else{for(var g=!1,C=i.child;C;){if(C===a){g=!0,a=i,s=u;break}if(C===s){g=!0,s=i,a=u;break}C=C.sibling}if(!g){for(C=u.child;C;){if(C===a){g=!0,a=u,s=i;break}if(C===s){g=!0,s=u,a=i;break}C=C.sibling}if(!g)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function dd(e){return e=wm(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=l.unstable_scheduleCallback,md=l.unstable_cancelCallback,km=l.unstable_shouldYield,jm=l.unstable_requestPaint,Ze=l.unstable_now,Nm=l.unstable_getCurrentPriorityLevel,Bl=l.unstable_ImmediatePriority,fd=l.unstable_UserBlockingPriority,Kn=l.unstable_NormalPriority,Sm=l.unstable_LowPriority,pd=l.unstable_IdlePriority,Qn=null,tr=null;function Cm(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Qn,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Tm,Em=Math.log,Dm=Math.LN2;function Tm(e){return e>>>=0,e===0?32:31-(Em(e)/Dm|0)|0}var Yn=64,Jn=4194304;function en(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xn(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,u=e.pingedLanes,g=a&268435455;if(g!==0){var C=g&~i;C!==0?s=en(C):(u&=g,u!==0&&(s=en(u)))}else g=a&~i,g!==0?s=en(g):u!==0&&(s=en(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&i)===0&&(i=s&-s,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)a=31-qt(t),i=1<<a,s|=e[a],t&=~i;return s}function Rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var g=31-qt(u),C=1<<g,_=i[g];_===-1?((C&a)===0||(C&s)!==0)&&(i[g]=Rm(C,t)):_<=t&&(e.expiredLanes|=C),u&=~C}}function Fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=Yn;return Yn<<=1,(Yn&4194240)===0&&(Yn=64),e}function Al(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function tn(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=a}function Im(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<a;){var i=31-qt(a),u=1<<i;t[i]=0,s[i]=-1,e[i]=-1,a&=~u}}function Ol(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-qt(a),i=1<<s;i&t|e[s]&t&&(e[s]|=t),a&=~i}}var Oe=0;function gd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var hd,zl,yd,bd,vd,Ml=!1,Gn=[],Nr=null,Sr=null,Cr=null,rn=new Map,an=new Map,Er=[],_m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(t.pointerId)}}function nn(e,t,a,s,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[i]},t!==null&&(t=bn(t),t!==null&&zl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lm(e,t,a,s,i){switch(t){case"focusin":return Nr=nn(Nr,e,t,a,s,i),!0;case"dragenter":return Sr=nn(Sr,e,t,a,s,i),!0;case"mouseover":return Cr=nn(Cr,e,t,a,s,i),!0;case"pointerover":var u=i.pointerId;return rn.set(u,nn(rn.get(u)||null,e,t,a,s,i)),!0;case"gotpointercapture":return u=i.pointerId,an.set(u,nn(an.get(u)||null,e,t,a,s,i)),!0}return!1}function kd(e){var t=Jr(e.target);if(t!==null){var a=Yr(t);if(a!==null){if(t=a.tag,t===13){if(t=od(a),t!==null){e.blockedOn=t,vd(e.priority,function(){yd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ue=s,a.target.dispatchEvent(s),Ue=null}else return t=bn(a),t!==null&&zl(t),e.blockedOn=a,!1;t.shift()}return!0}function jd(e,t,a){Zn(e)&&a.delete(t)}function Bm(){Ml=!1,Nr!==null&&Zn(Nr)&&(Nr=null),Sr!==null&&Zn(Sr)&&(Sr=null),Cr!==null&&Zn(Cr)&&(Cr=null),rn.forEach(jd),an.forEach(jd)}function sn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ml||(Ml=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bm)))}function ln(e){function t(i){return sn(i,e)}if(0<Gn.length){sn(Gn[0],e);for(var a=1;a<Gn.length;a++){var s=Gn[a];s.blockedOn===e&&(s.blockedOn=null)}}for(Nr!==null&&sn(Nr,e),Sr!==null&&sn(Sr,e),Cr!==null&&sn(Cr,e),rn.forEach(t),an.forEach(t),a=0;a<Er.length;a++)s=Er[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)kd(a),a.blockedOn===null&&Er.shift()}var ha=L.ReactCurrentBatchConfig,es=!0;function Fm(e,t,a,s){var i=Oe,u=ha.transition;ha.transition=null;try{Oe=1,$l(e,t,a,s)}finally{Oe=i,ha.transition=u}}function Am(e,t,a,s){var i=Oe,u=ha.transition;ha.transition=null;try{Oe=4,$l(e,t,a,s)}finally{Oe=i,ha.transition=u}}function $l(e,t,a,s){if(es){var i=Ul(e,t,a,s);if(i===null)so(e,t,s,ts,a),wd(e,s);else if(Lm(i,e,t,a,s))s.stopPropagation();else if(wd(e,s),t&4&&-1<_m.indexOf(e)){for(;i!==null;){var u=bn(i);if(u!==null&&hd(u),u=Ul(e,t,a,s),u===null&&so(e,t,s,ts,a),u===i)break;i=u}i!==null&&s.stopPropagation()}else so(e,t,s,null,a)}}var ts=null;function Ul(e,t,a,s){if(ts=null,e=Qr(s),e=Jr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(a=t.tag,a===13){if(e=od(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ts=e,null}function Nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case Bl:return 1;case fd:return 4;case Kn:case Sm:return 16;case pd:return 536870912;default:return 16}default:return 16}}var Dr=null,Hl=null,rs=null;function Sd(){if(rs)return rs;var e,t=Hl,a=t.length,s,i="value"in Dr?Dr.value:Dr.textContent,u=i.length;for(e=0;e<a&&t[e]===i[e];e++);var g=a-e;for(s=1;s<=g&&t[a-s]===i[u-s];s++);return rs=i.slice(e,1<s?1-s:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function Cd(){return!1}function _t(e){function t(a,s,i,u,g){this._reactName=a,this._targetInst=i,this.type=s,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(u):u[C]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ns:Cd,this.isPropagationStopped=Cd,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=_t(ya),on=ae({},ya,{view:0,detail:0}),Om=_t(on),Wl,ql,dn,ss=ae({},on,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&e.type==="mousemove"?(Wl=e.screenX-dn.screenX,ql=e.screenY-dn.screenY):ql=Wl=0,dn=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),Ed=_t(ss),zm=ae({},ss,{dataTransfer:0}),Mm=_t(zm),$m=ae({},on,{relatedTarget:0}),Kl=_t($m),Um=ae({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=_t(Um),Vm=ae({},ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wm=_t(Vm),qm=ae({},ya,{data:0}),Dd=_t(qm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ym[e])?!!t[e]:!1}function Ql(){return Jm}var Xm=ae({},on,{key:function(e){if(e.key){var t=Km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=_t(Xm),Zm=ae({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=_t(Zm),ef=ae({},on,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),tf=_t(ef),rf=ae({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),af=_t(rf),nf=ae({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sf=_t(nf),lf=[9,13,27,32],Yl=x&&"CompositionEvent"in window,cn=null;x&&"documentMode"in document&&(cn=document.documentMode);var of=x&&"TextEvent"in window&&!cn,Rd=x&&(!Yl||cn&&8<cn&&11>=cn),Pd=" ",Id=!1;function _d(e,t){switch(e){case"keyup":return lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function df(e,t){switch(e){case"compositionend":return Ld(t);case"keypress":return t.which!==32?null:(Id=!0,Pd);case"textInput":return e=t.data,e===Pd&&Id?null:e;default:return null}}function cf(e,t){if(ba)return e==="compositionend"||!Yl&&_d(e,t)?(e=Sd(),rs=Hl=Dr=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rd&&t.locale!=="ko"?null:t.data;default:return null}}var uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uf[e.type]:t==="textarea"}function Fd(e,t,a,s){rd(s),t=cs(t,"onChange"),0<t.length&&(a=new Vl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var un=null,mn=null;function mf(e){ec(e,0)}function ls(e){var t=Na(e);if(oe(t))return e}function ff(e,t){if(e==="change")return t}var Ad=!1;if(x){var Jl;if(x){var Xl="oninput"in document;if(!Xl){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Xl=typeof Od.oninput=="function"}Jl=Xl}else Jl=!1;Ad=Jl&&(!document.documentMode||9<document.documentMode)}function zd(){un&&(un.detachEvent("onpropertychange",Md),mn=un=null)}function Md(e){if(e.propertyName==="value"&&ls(mn)){var t=[];Fd(t,mn,e,Qr(e)),ld(mf,t)}}function pf(e,t,a){e==="focusin"?(zd(),un=t,mn=a,un.attachEvent("onpropertychange",Md)):e==="focusout"&&zd()}function xf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(mn)}function gf(e,t){if(e==="click")return ls(t)}function hf(e,t){if(e==="input"||e==="change")return ls(t)}function yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:yf;function fn(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var i=a[s];if(!h.call(t,i)||!Kt(e[i],t[i]))return!1}return!0}function $d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ud(e,t){var a=$d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$d(a)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vd(){for(var e=window,t=xe();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=xe(e.document)}return t}function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bf(e){var t=Vd(),a=e.focusedElem,s=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Hd(a.ownerDocument.documentElement,a)){if(s!==null&&Gl(a)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=a.textContent.length,u=Math.min(s.start,i);s=s.end===void 0?u:Math.min(s.end,i),!e.extend&&u>s&&(i=s,s=u,u=i),i=Ud(a,u);var g=Ud(a,s);i&&g&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vf=x&&"documentMode"in document&&11>=document.documentMode,va=null,Zl=null,pn=null,eo=!1;function Wd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eo||va==null||va!==xe(s)||(s=va,"selectionStart"in s&&Gl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pn&&fn(pn,s)||(pn=s,s=cs(Zl,"onSelect"),0<s.length&&(t=new Vl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=va)))}function os(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var wa={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},to={},qd={};x&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function is(e){if(to[e])return to[e];if(!wa[e])return e;var t=wa[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in qd)return to[e]=t[a];return e}var Kd=is("animationend"),Qd=is("animationiteration"),Yd=is("animationstart"),Jd=is("transitionend"),Xd=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Xd.set(e,t),m(t,[e])}for(var ro=0;ro<Gd.length;ro++){var ao=Gd[ro],wf=ao.toLowerCase(),kf=ao[0].toUpperCase()+ao.slice(1);Tr(wf,"on"+kf)}Tr(Kd,"onAnimationEnd"),Tr(Qd,"onAnimationIteration"),Tr(Yd,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Jd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jf=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function Zd(e,t,a){var s=e.type||"unknown-event";e.currentTarget=a,vm(s,t,void 0,e),e.currentTarget=null}function ec(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],i=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var g=s.length-1;0<=g;g--){var C=s[g],_=C.instance,$=C.currentTarget;if(C=C.listener,_!==u&&i.isPropagationStopped())break e;Zd(i,C,$),u=_}else for(g=0;g<s.length;g++){if(C=s[g],_=C.instance,$=C.currentTarget,C=C.listener,_!==u&&i.isPropagationStopped())break e;Zd(i,C,$),u=_}}}if(qn)throw e=Ll,qn=!1,Ll=null,e}function He(e,t){var a=t[mo];a===void 0&&(a=t[mo]=new Set);var s=e+"__bubble";a.has(s)||(tc(t,e,2,!1),a.add(s))}function no(e,t,a){var s=0;t&&(s|=4),tc(a,e,s,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function gn(e){if(!e[ds]){e[ds]=!0,d.forEach(function(a){a!=="selectionchange"&&(jf.has(a)||no(a,!1,e),no(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,no("selectionchange",!1,t))}}function tc(e,t,a,s){switch(Nd(t)){case 1:var i=Fm;break;case 4:i=Am;break;default:i=$l}a=i.bind(null,t,a,e),i=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function so(e,t,a,s,i){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var C=s.stateNode.containerInfo;if(C===i||C.nodeType===8&&C.parentNode===i)break;if(g===4)for(g=s.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===i||_.nodeType===8&&_.parentNode===i))return;g=g.return}for(;C!==null;){if(g=Jr(C),g===null)return;if(_=g.tag,_===5||_===6){s=u=g;continue e}C=C.parentNode}}s=s.return}ld(function(){var $=u,G=Qr(a),ee=[];e:{var X=Xd.get(e);if(X!==void 0){var ce=Vl,fe=e;switch(e){case"keypress":if(as(a)===0)break e;case"keydown":case"keyup":ce=Gm;break;case"focusin":fe="focus",ce=Kl;break;case"focusout":fe="blur",ce=Kl;break;case"beforeblur":case"afterblur":ce=Kl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=tf;break;case Kd:case Qd:case Yd:ce=Hm;break;case Jd:ce=af;break;case"scroll":ce=Om;break;case"wheel":ce=sf;break;case"copy":case"cut":case"paste":ce=Wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Td}var pe=(t&4)!==0,et=!pe&&e==="scroll",A=pe?X!==null?X+"Capture":null:X;pe=[];for(var B=$,O;B!==null;){O=B;var re=O.stateNode;if(O.tag===5&&re!==null&&(O=re,A!==null&&(re=Xa(B,A),re!=null&&pe.push(hn(B,re,O)))),et)break;B=B.return}0<pe.length&&(X=new ce(X,fe,null,a,G),ee.push({event:X,listeners:pe}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",X&&a!==Ue&&(fe=a.relatedTarget||a.fromElement)&&(Jr(fe)||fe[ur]))break e;if((ce||X)&&(X=G.window===G?G:(X=G.ownerDocument)?X.defaultView||X.parentWindow:window,ce?(fe=a.relatedTarget||a.toElement,ce=$,fe=fe?Jr(fe):null,fe!==null&&(et=Yr(fe),fe!==et||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=$),ce!==fe)){if(pe=Ed,re="onMouseLeave",A="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Td,re="onPointerLeave",A="onPointerEnter",B="pointer"),et=ce==null?X:Na(ce),O=fe==null?X:Na(fe),X=new pe(re,B+"leave",ce,a,G),X.target=et,X.relatedTarget=O,re=null,Jr(G)===$&&(pe=new pe(A,B+"enter",fe,a,G),pe.target=O,pe.relatedTarget=et,re=pe),et=re,ce&&fe)t:{for(pe=ce,A=fe,B=0,O=pe;O;O=ka(O))B++;for(O=0,re=A;re;re=ka(re))O++;for(;0<B-O;)pe=ka(pe),B--;for(;0<O-B;)A=ka(A),O--;for(;B--;){if(pe===A||A!==null&&pe===A.alternate)break t;pe=ka(pe),A=ka(A)}pe=null}else pe=null;ce!==null&&rc(ee,X,ce,pe,!1),fe!==null&&et!==null&&rc(ee,et,fe,pe,!0)}}e:{if(X=$?Na($):window,ce=X.nodeName&&X.nodeName.toLowerCase(),ce==="select"||ce==="input"&&X.type==="file")var he=ff;else if(Bd(X))if(Ad)he=hf;else{he=xf;var Ne=pf}else(ce=X.nodeName)&&ce.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=gf);if(he&&(he=he(e,$))){Fd(ee,he,a,G);break e}Ne&&Ne(e,X,$),e==="focusout"&&(Ne=X._wrapperState)&&Ne.controlled&&X.type==="number"&&Ae(X,"number",X.value)}switch(Ne=$?Na($):window,e){case"focusin":(Bd(Ne)||Ne.contentEditable==="true")&&(va=Ne,Zl=$,pn=null);break;case"focusout":pn=Zl=va=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Wd(ee,a,G);break;case"selectionchange":if(vf)break;case"keydown":case"keyup":Wd(ee,a,G)}var Se;if(Yl)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ba?_d(e,a)&&(Ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Rd&&a.locale!=="ko"&&(ba||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ba&&(Se=Sd()):(Dr=G,Hl="value"in Dr?Dr.value:Dr.textContent,ba=!0)),Ne=cs($,Ce),0<Ne.length&&(Ce=new Dd(Ce,e,null,a,G),ee.push({event:Ce,listeners:Ne}),Se?Ce.data=Se:(Se=Ld(a),Se!==null&&(Ce.data=Se)))),(Se=of?df(e,a):cf(e,a))&&($=cs($,"onBeforeInput"),0<$.length&&(G=new Dd("onBeforeInput","beforeinput",null,a,G),ee.push({event:G,listeners:$}),G.data=Se))}ec(ee,t)})}function hn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function cs(e,t){for(var a=t+"Capture",s=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=Xa(e,a),u!=null&&s.unshift(hn(e,u,i)),u=Xa(e,t),u!=null&&s.push(hn(e,u,i))),e=e.return}return s}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rc(e,t,a,s,i){for(var u=t._reactName,g=[];a!==null&&a!==s;){var C=a,_=C.alternate,$=C.stateNode;if(_!==null&&_===s)break;C.tag===5&&$!==null&&(C=$,i?(_=Xa(a,u),_!=null&&g.unshift(hn(a,_,C))):i||(_=Xa(a,u),_!=null&&g.push(hn(a,_,C)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Nf=/\r\n?/g,Sf=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Nf,`
`).replace(Sf,"")}function us(e,t,a){if(t=ac(t),ac(e)!==t&&a)throw Error(o(425))}function ms(){}var lo=null,oo=null;function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var co=typeof setTimeout=="function"?setTimeout:void 0,Cf=typeof clearTimeout=="function"?clearTimeout:void 0,nc=typeof Promise=="function"?Promise:void 0,Ef=typeof queueMicrotask=="function"?queueMicrotask:typeof nc<"u"?function(e){return nc.resolve(null).then(e).catch(Df)}:co;function Df(e){setTimeout(function(){throw e})}function uo(e,t){var a=t,s=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){e.removeChild(i),ln(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=i}while(a);ln(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ja=Math.random().toString(36).slice(2),rr="__reactFiber$"+ja,yn="__reactProps$"+ja,ur="__reactContainer$"+ja,mo="__reactEvents$"+ja,Tf="__reactListeners$"+ja,Rf="__reactHandles$"+ja;function Jr(e){var t=e[rr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ur]||a[rr]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=sc(e);e!==null;){if(a=e[rr])return a;e=sc(e)}return t}e=a,a=e.parentNode}return null}function bn(e){return e=e[rr]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function fs(e){return e[yn]||null}var fo=[],Sa=-1;function Pr(e){return{current:e}}function Ve(e){0>Sa||(e.current=fo[Sa],fo[Sa]=null,Sa--)}function ze(e,t){Sa++,fo[Sa]=e.current,e.current=t}var Ir={},ht=Pr(Ir),St=Pr(!1),Xr=Ir;function Ca(e,t){var a=e.type.contextTypes;if(!a)return Ir;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in a)i[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(e){return e=e.childContextTypes,e!=null}function ps(){Ve(St),Ve(ht)}function lc(e,t,a){if(ht.current!==Ir)throw Error(o(168));ze(ht,t),ze(St,a)}function oc(e,t,a){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(o(108,le(e)||"Unknown",i));return ae({},a,s)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,Xr=ht.current,ze(ht,e),ze(St,St.current),!0}function ic(e,t,a){var s=e.stateNode;if(!s)throw Error(o(169));a?(e=oc(e,t,Xr),s.__reactInternalMemoizedMergedChildContext=e,Ve(St),Ve(ht),ze(ht,e)):Ve(St),ze(St,a)}var mr=null,gs=!1,po=!1;function dc(e){mr===null?mr=[e]:mr.push(e)}function Pf(e){gs=!0,dc(e)}function _r(){if(!po&&mr!==null){po=!0;var e=0,t=Oe;try{var a=mr;for(Oe=1;e<a.length;e++){var s=a[e];do s=s(!0);while(s!==null)}mr=null,gs=!1}catch(i){throw mr!==null&&(mr=mr.slice(e+1)),ud(Bl,_r),i}finally{Oe=t,po=!1}}return null}var Ea=[],Da=0,hs=null,ys=0,Ot=[],zt=0,Gr=null,fr=1,pr="";function Zr(e,t){Ea[Da++]=ys,Ea[Da++]=hs,hs=e,ys=t}function cc(e,t,a){Ot[zt++]=fr,Ot[zt++]=pr,Ot[zt++]=Gr,Gr=e;var s=fr;e=pr;var i=32-qt(s)-1;s&=~(1<<i),a+=1;var u=32-qt(t)+i;if(30<u){var g=i-i%5;u=(s&(1<<g)-1).toString(32),s>>=g,i-=g,fr=1<<32-qt(t)+i|a<<i|s,pr=u+e}else fr=1<<u|a<<i|s,pr=e}function xo(e){e.return!==null&&(Zr(e,1),cc(e,1,0))}function go(e){for(;e===hs;)hs=Ea[--Da],Ea[Da]=null,ys=Ea[--Da],Ea[Da]=null;for(;e===Gr;)Gr=Ot[--zt],Ot[zt]=null,pr=Ot[--zt],Ot[zt]=null,fr=Ot[--zt],Ot[zt]=null}var Lt=null,Bt=null,We=!1,Qt=null;function uc(e,t){var a=Ht(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function mc(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Bt=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Gr!==null?{id:fr,overflow:pr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Ht(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,Lt=e,Bt=null,!0):!1;default:return!1}}function ho(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yo(e){if(We){var t=Bt;if(t){var a=t;if(!mc(e,t)){if(ho(e))throw Error(o(418));t=Rr(a.nextSibling);var s=Lt;t&&mc(e,t)?uc(s,a):(e.flags=e.flags&-4097|2,We=!1,Lt=e)}}else{if(ho(e))throw Error(o(418));e.flags=e.flags&-4097|2,We=!1,Lt=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function bs(e){if(e!==Lt)return!1;if(!We)return fc(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!io(e.type,e.memoizedProps)),t&&(t=Bt)){if(ho(e))throw pc(),Error(o(418));for(;t;)uc(e,t),t=Rr(t.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Bt=Rr(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Lt?Rr(e.stateNode.nextSibling):null;return!0}function pc(){for(var e=Bt;e;)e=Rr(e.nextSibling)}function Ta(){Bt=Lt=null,We=!1}function bo(e){Qt===null?Qt=[e]:Qt.push(e)}var If=L.ReactCurrentBatchConfig;function vn(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var s=a.stateNode}if(!s)throw Error(o(147,e));var i=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(g){var C=i.refs;g===null?delete C[u]:C[u]=g},t._stringRef=u,t)}if(typeof e!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xc(e){var t=e._init;return t(e._payload)}function gc(e){function t(A,B){if(e){var O=A.deletions;O===null?(A.deletions=[B],A.flags|=16):O.push(B)}}function a(A,B){if(!e)return null;for(;B!==null;)t(A,B),B=B.sibling;return null}function s(A,B){for(A=new Map;B!==null;)B.key!==null?A.set(B.key,B):A.set(B.index,B),B=B.sibling;return A}function i(A,B){return A=$r(A,B),A.index=0,A.sibling=null,A}function u(A,B,O){return A.index=O,e?(O=A.alternate,O!==null?(O=O.index,O<B?(A.flags|=2,B):O):(A.flags|=2,B)):(A.flags|=1048576,B)}function g(A){return e&&A.alternate===null&&(A.flags|=2),A}function C(A,B,O,re){return B===null||B.tag!==6?(B=ci(O,A.mode,re),B.return=A,B):(B=i(B,O),B.return=A,B)}function _(A,B,O,re){var he=O.type;return he===I?G(A,B,O.props.children,re,O.key):B!==null&&(B.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===je&&xc(he)===B.type)?(re=i(B,O.props),re.ref=vn(A,B,O),re.return=A,re):(re=Vs(O.type,O.key,O.props,null,A.mode,re),re.ref=vn(A,B,O),re.return=A,re)}function $(A,B,O,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==O.containerInfo||B.stateNode.implementation!==O.implementation?(B=ui(O,A.mode,re),B.return=A,B):(B=i(B,O.children||[]),B.return=A,B)}function G(A,B,O,re,he){return B===null||B.tag!==7?(B=oa(O,A.mode,re,he),B.return=A,B):(B=i(B,O),B.return=A,B)}function ee(A,B,O){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ci(""+B,A.mode,O),B.return=A,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return O=Vs(B.type,B.key,B.props,null,A.mode,O),O.ref=vn(A,null,B),O.return=A,O;case T:return B=ui(B,A.mode,O),B.return=A,B;case je:var re=B._init;return ee(A,re(B._payload),O)}if(Ke(B)||J(B))return B=oa(B,A.mode,O,null),B.return=A,B;vs(A,B)}return null}function X(A,B,O,re){var he=B!==null?B.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return he!==null?null:C(A,B,""+O,re);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return O.key===he?_(A,B,O,re):null;case T:return O.key===he?$(A,B,O,re):null;case je:return he=O._init,X(A,B,he(O._payload),re)}if(Ke(O)||J(O))return he!==null?null:G(A,B,O,re,null);vs(A,O)}return null}function ce(A,B,O,re,he){if(typeof re=="string"&&re!==""||typeof re=="number")return A=A.get(O)||null,C(B,A,""+re,he);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case V:return A=A.get(re.key===null?O:re.key)||null,_(B,A,re,he);case T:return A=A.get(re.key===null?O:re.key)||null,$(B,A,re,he);case je:var Ne=re._init;return ce(A,B,O,Ne(re._payload),he)}if(Ke(re)||J(re))return A=A.get(O)||null,G(B,A,re,he,null);vs(B,re)}return null}function fe(A,B,O,re){for(var he=null,Ne=null,Se=B,Ce=B=0,ut=null;Se!==null&&Ce<O.length;Ce++){Se.index>Ce?(ut=Se,Se=null):ut=Se.sibling;var Be=X(A,Se,O[Ce],re);if(Be===null){Se===null&&(Se=ut);break}e&&Se&&Be.alternate===null&&t(A,Se),B=u(Be,B,Ce),Ne===null?he=Be:Ne.sibling=Be,Ne=Be,Se=ut}if(Ce===O.length)return a(A,Se),We&&Zr(A,Ce),he;if(Se===null){for(;Ce<O.length;Ce++)Se=ee(A,O[Ce],re),Se!==null&&(B=u(Se,B,Ce),Ne===null?he=Se:Ne.sibling=Se,Ne=Se);return We&&Zr(A,Ce),he}for(Se=s(A,Se);Ce<O.length;Ce++)ut=ce(Se,A,Ce,O[Ce],re),ut!==null&&(e&&ut.alternate!==null&&Se.delete(ut.key===null?Ce:ut.key),B=u(ut,B,Ce),Ne===null?he=ut:Ne.sibling=ut,Ne=ut);return e&&Se.forEach(function(Ur){return t(A,Ur)}),We&&Zr(A,Ce),he}function pe(A,B,O,re){var he=J(O);if(typeof he!="function")throw Error(o(150));if(O=he.call(O),O==null)throw Error(o(151));for(var Ne=he=null,Se=B,Ce=B=0,ut=null,Be=O.next();Se!==null&&!Be.done;Ce++,Be=O.next()){Se.index>Ce?(ut=Se,Se=null):ut=Se.sibling;var Ur=X(A,Se,Be.value,re);if(Ur===null){Se===null&&(Se=ut);break}e&&Se&&Ur.alternate===null&&t(A,Se),B=u(Ur,B,Ce),Ne===null?he=Ur:Ne.sibling=Ur,Ne=Ur,Se=ut}if(Be.done)return a(A,Se),We&&Zr(A,Ce),he;if(Se===null){for(;!Be.done;Ce++,Be=O.next())Be=ee(A,Be.value,re),Be!==null&&(B=u(Be,B,Ce),Ne===null?he=Be:Ne.sibling=Be,Ne=Be);return We&&Zr(A,Ce),he}for(Se=s(A,Se);!Be.done;Ce++,Be=O.next())Be=ce(Se,A,Ce,Be.value,re),Be!==null&&(e&&Be.alternate!==null&&Se.delete(Be.key===null?Ce:Be.key),B=u(Be,B,Ce),Ne===null?he=Be:Ne.sibling=Be,Ne=Be);return e&&Se.forEach(function(up){return t(A,up)}),We&&Zr(A,Ce),he}function et(A,B,O,re){if(typeof O=="object"&&O!==null&&O.type===I&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case V:e:{for(var he=O.key,Ne=B;Ne!==null;){if(Ne.key===he){if(he=O.type,he===I){if(Ne.tag===7){a(A,Ne.sibling),B=i(Ne,O.props.children),B.return=A,A=B;break e}}else if(Ne.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===je&&xc(he)===Ne.type){a(A,Ne.sibling),B=i(Ne,O.props),B.ref=vn(A,Ne,O),B.return=A,A=B;break e}a(A,Ne);break}else t(A,Ne);Ne=Ne.sibling}O.type===I?(B=oa(O.props.children,A.mode,re,O.key),B.return=A,A=B):(re=Vs(O.type,O.key,O.props,null,A.mode,re),re.ref=vn(A,B,O),re.return=A,A=re)}return g(A);case T:e:{for(Ne=O.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===O.containerInfo&&B.stateNode.implementation===O.implementation){a(A,B.sibling),B=i(B,O.children||[]),B.return=A,A=B;break e}else{a(A,B);break}else t(A,B);B=B.sibling}B=ui(O,A.mode,re),B.return=A,A=B}return g(A);case je:return Ne=O._init,et(A,B,Ne(O._payload),re)}if(Ke(O))return fe(A,B,O,re);if(J(O))return pe(A,B,O,re);vs(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,B!==null&&B.tag===6?(a(A,B.sibling),B=i(B,O),B.return=A,A=B):(a(A,B),B=ci(O,A.mode,re),B.return=A,A=B),g(A)):a(A,B)}return et}var Ra=gc(!0),hc=gc(!1),ws=Pr(null),ks=null,Pa=null,vo=null;function wo(){vo=Pa=ks=null}function ko(e){var t=ws.current;Ve(ws),e._currentValue=t}function jo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Ia(e,t){ks=e,vo=Pa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Et=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(vo!==e)if(e={context:e,memoizedValue:t,next:null},Pa===null){if(ks===null)throw Error(o(308));Pa=e,ks.dependencies={lanes:0,firstContext:e}}else Pa=Pa.next=e;return t}var ea=null;function No(e){ea===null?ea=[e]:ea.push(e)}function yc(e,t,a,s){var i=t.interleaved;return i===null?(a.next=a,No(t)):(a.next=i.next,i.next=a),t.interleaved=a,xr(e,s)}function xr(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Lr=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Le&2)!==0){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,xr(e,a)}return i=s.interleaved,i===null?(t.next=t,No(s)):(t.next=i.next,i.next=t),s.interleaved=t,xr(e,a)}function js(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ol(e,a)}}function vc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var i=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};u===null?i=u=g:u=u.next=g,a=a.next}while(a!==null);u===null?i=u=t:u=u.next=t}else i=u=t;a={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Ns(e,t,a,s){var i=e.updateQueue;Lr=!1;var u=i.firstBaseUpdate,g=i.lastBaseUpdate,C=i.shared.pending;if(C!==null){i.shared.pending=null;var _=C,$=_.next;_.next=null,g===null?u=$:g.next=$,g=_;var G=e.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==g&&(C===null?G.firstBaseUpdate=$:C.next=$,G.lastBaseUpdate=_))}if(u!==null){var ee=i.baseState;g=0,G=$=_=null,C=u;do{var X=C.lane,ce=C.eventTime;if((s&X)===X){G!==null&&(G=G.next={eventTime:ce,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var fe=e,pe=C;switch(X=t,ce=a,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ee=fe.call(ce,ee,X);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,X=typeof fe=="function"?fe.call(ce,ee,X):fe,X==null)break e;ee=ae({},ee,X);break e;case 2:Lr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,X=i.effects,X===null?i.effects=[C]:X.push(C))}else ce={eventTime:ce,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?($=G=ce,_=ee):G=G.next=ce,g|=X;if(C=C.next,C===null){if(C=i.shared.pending,C===null)break;X=C,C=X.next,X.next=null,i.lastBaseUpdate=X,i.shared.pending=null}}while(!0);if(G===null&&(_=ee),i.baseState=_,i.firstBaseUpdate=$,i.lastBaseUpdate=G,t=i.shared.interleaved,t!==null){i=t;do g|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);aa|=g,e.lanes=g,e.memoizedState=ee}}function wc(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=a,typeof i!="function")throw Error(o(191,i));i.call(s)}}}var wn={},ar=Pr(wn),kn=Pr(wn),jn=Pr(wn);function ta(e){if(e===wn)throw Error(o(174));return e}function Co(e,t){switch(ze(jn,t),ze(kn,e),ze(ar,wn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dr(t,e)}Ve(ar),ze(ar,t)}function _a(){Ve(ar),Ve(kn),Ve(jn)}function kc(e){ta(jn.current);var t=ta(ar.current),a=dr(t,e.type);t!==a&&(ze(kn,e),ze(ar,a))}function Eo(e){kn.current===e&&(Ve(ar),Ve(kn))}var Qe=Pr(0);function Ss(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Do=[];function To(){for(var e=0;e<Do.length;e++)Do[e]._workInProgressVersionPrimary=null;Do.length=0}var Cs=L.ReactCurrentDispatcher,Ro=L.ReactCurrentBatchConfig,ra=0,Ye=null,lt=null,dt=null,Es=!1,Nn=!1,Sn=0,_f=0;function yt(){throw Error(o(321))}function Po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Kt(e[a],t[a]))return!1;return!0}function Io(e,t,a,s,i,u){if(ra=u,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cs.current=e===null||e.memoizedState===null?Af:Of,e=a(s,i),Nn){u=0;do{if(Nn=!1,Sn=0,25<=u)throw Error(o(301));u+=1,dt=lt=null,t.updateQueue=null,Cs.current=zf,e=a(s,i)}while(Nn)}if(Cs.current=Rs,t=lt!==null&&lt.next!==null,ra=0,dt=lt=Ye=null,Es=!1,t)throw Error(o(300));return e}function _o(){var e=Sn!==0;return Sn=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=e:dt=dt.next=e,dt}function $t(){if(lt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=dt===null?Ye.memoizedState:dt.next;if(t!==null)dt=t,lt=e;else{if(e===null)throw Error(o(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?Ye.memoizedState=dt=e:dt=dt.next=e}return dt}function Cn(e,t){return typeof t=="function"?t(e):t}function Lo(e){var t=$t(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=lt,i=s.baseQueue,u=a.pending;if(u!==null){if(i!==null){var g=i.next;i.next=u.next,u.next=g}s.baseQueue=i=u,a.pending=null}if(i!==null){u=i.next,s=s.baseState;var C=g=null,_=null,$=u;do{var G=$.lane;if((ra&G)===G)_!==null&&(_=_.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),s=$.hasEagerState?$.eagerState:e(s,$.action);else{var ee={lane:G,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};_===null?(C=_=ee,g=s):_=_.next=ee,Ye.lanes|=G,aa|=G}$=$.next}while($!==null&&$!==u);_===null?g=s:_.next=C,Kt(s,t.memoizedState)||(Et=!0),t.memoizedState=s,t.baseState=g,t.baseQueue=_,a.lastRenderedState=s}if(e=a.interleaved,e!==null){i=e;do u=i.lane,Ye.lanes|=u,aa|=u,i=i.next;while(i!==e)}else i===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Bo(e){var t=$t(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,i=a.pending,u=t.memoizedState;if(i!==null){a.pending=null;var g=i=i.next;do u=e(u,g.action),g=g.next;while(g!==i);Kt(u,t.memoizedState)||(Et=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function jc(){}function Nc(e,t){var a=Ye,s=$t(),i=t(),u=!Kt(s.memoizedState,i);if(u&&(s.memoizedState=i,Et=!0),s=s.queue,Fo(Ec.bind(null,a,s,e),[e]),s.getSnapshot!==t||u||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,En(9,Cc.bind(null,a,s,i,t),void 0,null),ct===null)throw Error(o(349));(ra&30)!==0||Sc(a,t,i)}return i}function Sc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Cc(e,t,a,s){t.value=a,t.getSnapshot=s,Dc(t)&&Tc(e)}function Ec(e,t,a){return a(function(){Dc(t)&&Tc(e)})}function Dc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Kt(e,a)}catch{return!0}}function Tc(e){var t=xr(e,1);t!==null&&Gt(t,e,1,-1)}function Rc(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},t.queue=e,e=e.dispatch=Ff.bind(null,Ye,e),[t.memoizedState,e]}function En(e,t,a,s){return e={tag:e,create:t,destroy:a,deps:s,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e)),e}function Pc(){return $t().memoizedState}function Ds(e,t,a,s){var i=nr();Ye.flags|=e,i.memoizedState=En(1|t,a,void 0,s===void 0?null:s)}function Ts(e,t,a,s){var i=$t();s=s===void 0?null:s;var u=void 0;if(lt!==null){var g=lt.memoizedState;if(u=g.destroy,s!==null&&Po(s,g.deps)){i.memoizedState=En(t,a,u,s);return}}Ye.flags|=e,i.memoizedState=En(1|t,a,u,s)}function Ic(e,t){return Ds(8390656,8,e,t)}function Fo(e,t){return Ts(2048,8,e,t)}function _c(e,t){return Ts(4,2,e,t)}function Lc(e,t){return Ts(4,4,e,t)}function Bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fc(e,t,a){return a=a!=null?a.concat([e]):null,Ts(4,4,Bc.bind(null,t,e),a)}function Ao(){}function Ac(e,t){var a=$t();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&Po(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Oc(e,t){var a=$t();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&Po(t,s[1])?s[0]:(e=e(),a.memoizedState=[e,t],e)}function zc(e,t,a){return(ra&21)===0?(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=a):(Kt(a,t)||(a=xd(),Ye.lanes|=a,aa|=a,e.baseState=!0),t)}function Lf(e,t){var a=Oe;Oe=a!==0&&4>a?a:4,e(!0);var s=Ro.transition;Ro.transition={};try{e(!1),t()}finally{Oe=a,Ro.transition=s}}function Mc(){return $t().memoizedState}function Bf(e,t,a){var s=zr(e);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},$c(e))Uc(t,a);else if(a=yc(e,t,a,s),a!==null){var i=Nt();Gt(a,e,s,i),Hc(a,t,s)}}function Ff(e,t,a){var s=zr(e),i={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(e))Uc(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,C=u(g,a);if(i.hasEagerState=!0,i.eagerState=C,Kt(C,g)){var _=t.interleaved;_===null?(i.next=i,No(t)):(i.next=_.next,_.next=i),t.interleaved=i;return}}catch{}finally{}a=yc(e,t,i,s),a!==null&&(i=Nt(),Gt(a,e,s,i),Hc(a,t,s))}}function $c(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Uc(e,t){Nn=Es=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Hc(e,t,a){if((a&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ol(e,a)}}var Rs={readContext:Mt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Af={readContext:Mt,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:Ic,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Ds(4194308,4,Bc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var a=nr();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var s=nr();return t=a!==void 0?a(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bf.bind(null,Ye,e),[s.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:Rc,useDebugValue:Ao,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=Rc(!1),t=e[0];return e=Lf.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var s=Ye,i=nr();if(We){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),ct===null)throw Error(o(349));(ra&30)!==0||Sc(s,t,a)}i.memoizedState=a;var u={value:a,getSnapshot:t};return i.queue=u,Ic(Ec.bind(null,s,u,e),[e]),s.flags|=2048,En(9,Cc.bind(null,s,u,a,t),void 0,null),a},useId:function(){var e=nr(),t=ct.identifierPrefix;if(We){var a=pr,s=fr;a=(s&~(1<<32-qt(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=Sn++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=_f++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Of={readContext:Mt,useCallback:Ac,useContext:Mt,useEffect:Fo,useImperativeHandle:Fc,useInsertionEffect:_c,useLayoutEffect:Lc,useMemo:Oc,useReducer:Lo,useRef:Pc,useState:function(){return Lo(Cn)},useDebugValue:Ao,useDeferredValue:function(e){var t=$t();return zc(t,lt.memoizedState,e)},useTransition:function(){var e=Lo(Cn)[0],t=$t().memoizedState;return[e,t]},useMutableSource:jc,useSyncExternalStore:Nc,useId:Mc,unstable_isNewReconciler:!1},zf={readContext:Mt,useCallback:Ac,useContext:Mt,useEffect:Fo,useImperativeHandle:Fc,useInsertionEffect:_c,useLayoutEffect:Lc,useMemo:Oc,useReducer:Bo,useRef:Pc,useState:function(){return Bo(Cn)},useDebugValue:Ao,useDeferredValue:function(e){var t=$t();return lt===null?t.memoizedState=e:zc(t,lt.memoizedState,e)},useTransition:function(){var e=Bo(Cn)[0],t=$t().memoizedState;return[e,t]},useMutableSource:jc,useSyncExternalStore:Nc,useId:Mc,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Oo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:ae({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ps={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Nt(),i=zr(e),u=gr(s,i);u.payload=t,a!=null&&(u.callback=a),t=Br(e,u,i),t!==null&&(Gt(t,e,i,s),js(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Nt(),i=zr(e),u=gr(s,i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Br(e,u,i),t!==null&&(Gt(t,e,i,s),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Nt(),s=zr(e),i=gr(a,s);i.tag=2,t!=null&&(i.callback=t),t=Br(e,i,s),t!==null&&(Gt(t,e,s,a),js(t,e,s))}};function Vc(e,t,a,s,i,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,g):t.prototype&&t.prototype.isPureReactComponent?!fn(a,s)||!fn(i,u):!0}function Wc(e,t,a){var s=!1,i=Ir,u=t.contextType;return typeof u=="object"&&u!==null?u=Mt(u):(i=Ct(t)?Xr:ht.current,s=t.contextTypes,u=(s=s!=null)?Ca(e,i):Ir),t=new t(a,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function qc(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function zo(e,t,a,s){var i=e.stateNode;i.props=a,i.state=e.memoizedState,i.refs={},So(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=Mt(u):(u=Ct(t)?Xr:ht.current,i.context=Ca(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Oo(e,t,u,a),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ps.enqueueReplaceState(i,i.state,null),Ns(e,a,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function La(e,t){try{var a="",s=t;do a+=de(s),s=s.return;while(s);var i=a}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function Mo(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function $o(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Mf=typeof WeakMap=="function"?WeakMap:Map;function Kc(e,t,a){a=gr(-1,a),a.tag=3,a.payload={element:null};var s=t.value;return a.callback=function(){Os||(Os=!0,ri=s),$o(e,t)},a}function Qc(e,t,a){a=gr(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;a.payload=function(){return s(i)},a.callback=function(){$o(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(a.callback=function(){$o(e,t),typeof s!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),a}function Yc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Mf;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(a)||(i.add(a),e=ep.bind(null,e,t,a),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xc(e,t,a,s,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=gr(-1,1),t.tag=2,Br(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var $f=L.ReactCurrentOwner,Et=!1;function jt(e,t,a,s){t.child=e===null?hc(t,null,a,s):Ra(t,e.child,a,s)}function Gc(e,t,a,s,i){a=a.render;var u=t.ref;return Ia(t,i),s=Io(e,t,a,s,u,i),a=_o(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hr(e,t,i)):(We&&a&&xo(t),t.flags|=1,jt(e,t,s,i),t.child)}function Zc(e,t,a,s,i){if(e===null){var u=a.type;return typeof u=="function"&&!di(u)&&u.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=u,eu(e,t,u,s,i)):(e=Vs(a.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&i)===0){var g=u.memoizedProps;if(a=a.compare,a=a!==null?a:fn,a(g,s)&&e.ref===t.ref)return hr(e,t,i)}return t.flags|=1,e=$r(u,s),e.ref=t.ref,e.return=t,t.child=e}function eu(e,t,a,s,i){if(e!==null){var u=e.memoizedProps;if(fn(u,s)&&e.ref===t.ref)if(Et=!1,t.pendingProps=s=u,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,hr(e,t,i)}return Uo(e,t,a,s,i)}function tu(e,t,a){var s=t.pendingProps,i=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Fa,Ft),Ft|=a;else{if((a&1073741824)===0)return e=u!==null?u.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Fa,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:a,ze(Fa,Ft),Ft|=s}else u!==null?(s=u.baseLanes|a,t.memoizedState=null):s=a,ze(Fa,Ft),Ft|=s;return jt(e,t,i,a),t.child}function ru(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,a,s,i){var u=Ct(a)?Xr:ht.current;return u=Ca(t,u),Ia(t,i),a=Io(e,t,a,s,u,i),s=_o(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hr(e,t,i)):(We&&s&&xo(t),t.flags|=1,jt(e,t,a,i),t.child)}function au(e,t,a,s,i){if(Ct(a)){var u=!0;xs(t)}else u=!1;if(Ia(t,i),t.stateNode===null)_s(e,t),Wc(t,a,s),zo(t,a,s,i),s=!0;else if(e===null){var g=t.stateNode,C=t.memoizedProps;g.props=C;var _=g.context,$=a.contextType;typeof $=="object"&&$!==null?$=Mt($):($=Ct(a)?Xr:ht.current,$=Ca(t,$));var G=a.getDerivedStateFromProps,ee=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function";ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==s||_!==$)&&qc(t,g,s,$),Lr=!1;var X=t.memoizedState;g.state=X,Ns(t,s,g,i),_=t.memoizedState,C!==s||X!==_||St.current||Lr?(typeof G=="function"&&(Oo(t,a,G,s),_=t.memoizedState),(C=Lr||Vc(t,a,C,s,X,_,$))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=_),g.props=s,g.state=_,g.context=$,s=C):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{g=t.stateNode,bc(e,t),C=t.memoizedProps,$=t.type===t.elementType?C:Yt(t.type,C),g.props=$,ee=t.pendingProps,X=g.context,_=a.contextType,typeof _=="object"&&_!==null?_=Mt(_):(_=Ct(a)?Xr:ht.current,_=Ca(t,_));var ce=a.getDerivedStateFromProps;(G=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==ee||X!==_)&&qc(t,g,s,_),Lr=!1,X=t.memoizedState,g.state=X,Ns(t,s,g,i);var fe=t.memoizedState;C!==ee||X!==fe||St.current||Lr?(typeof ce=="function"&&(Oo(t,a,ce,s),fe=t.memoizedState),($=Lr||Vc(t,a,$,s,X,fe,_)||!1)?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,fe,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,fe,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=fe),g.props=s,g.state=fe,g.context=_,s=$):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),s=!1)}return Ho(e,t,a,s,u,i)}function Ho(e,t,a,s,i,u){ru(e,t);var g=(t.flags&128)!==0;if(!s&&!g)return i&&ic(t,a,!1),hr(e,t,u);s=t.stateNode,$f.current=t;var C=g&&typeof a.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&g?(t.child=Ra(t,e.child,null,u),t.child=Ra(t,null,C,u)):jt(e,t,C,u),t.memoizedState=s.state,i&&ic(t,a,!0),t.child}function nu(e){var t=e.stateNode;t.pendingContext?lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lc(e,t.context,!1),Co(e,t.containerInfo)}function su(e,t,a,s,i){return Ta(),bo(i),t.flags|=256,jt(e,t,a,s),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function lu(e,t,a){var s=t.pendingProps,i=Qe.current,u=!1,g=(t.flags&128)!==0,C;if((C=g)||(C=e!==null&&e.memoizedState===null?!1:(i&2)!==0),C?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ze(Qe,i&1),e===null)return yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=s.children,e=s.fallback,u?(s=t.mode,u=t.child,g={mode:"hidden",children:g},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=g):u=Ws(g,s,0,null),e=oa(e,s,a,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Wo(a),t.memoizedState=Vo,e):qo(t,g));if(i=e.memoizedState,i!==null&&(C=i.dehydrated,C!==null))return Uf(e,t,g,s,C,i,a);if(u){u=s.fallback,g=t.mode,i=e.child,C=i.sibling;var _={mode:"hidden",children:s.children};return(g&1)===0&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=_,t.deletions=null):(s=$r(i,_),s.subtreeFlags=i.subtreeFlags&14680064),C!==null?u=$r(C,u):(u=oa(u,g,a,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,g=e.child.memoizedState,g=g===null?Wo(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},u.memoizedState=g,u.childLanes=e.childLanes&~a,t.memoizedState=Vo,s}return u=e.child,e=u.sibling,s=$r(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=a),s.return=t,s.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function qo(e,t){return t=Ws({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,a,s){return s!==null&&bo(s),Ra(t,e.child,null,a),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uf(e,t,a,s,i,u,g){if(a)return t.flags&256?(t.flags&=-257,s=Mo(Error(o(422))),Is(e,t,g,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,i=t.mode,s=Ws({mode:"visible",children:s.children},i,0,null),u=oa(u,i,g,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&Ra(t,e.child,null,g),t.child.memoizedState=Wo(g),t.memoizedState=Vo,u);if((t.mode&1)===0)return Is(e,t,g,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var C=s.dgst;return s=C,u=Error(o(419)),s=Mo(u,s,void 0),Is(e,t,g,s)}if(C=(g&e.childLanes)!==0,Et||C){if(s=ct,s!==null){switch(g&-g){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(s.suspendedLanes|g))!==0?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,xr(e,i),Gt(s,e,i,-1))}return ii(),s=Mo(Error(o(421))),Is(e,t,g,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tp.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,Bt=Rr(i.nextSibling),Lt=t,We=!0,Qt=null,e!==null&&(Ot[zt++]=fr,Ot[zt++]=pr,Ot[zt++]=Gr,fr=e.id,pr=e.overflow,Gr=t),t=qo(t,s.children),t.flags|=4096,t)}function ou(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jo(e.return,t,a)}function Ko(e,t,a,s,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=a,u.tailMode=i)}function iu(e,t,a){var s=t.pendingProps,i=s.revealOrder,u=s.tail;if(jt(e,t,s.children,a),s=Qe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ou(e,a,t);else if(e.tag===19)ou(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ze(Qe,s),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Ss(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Ko(t,!1,i,a,u);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ss(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Ko(t,!0,a,null,u);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),aa|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=$r(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=$r(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Hf(e,t,a){switch(t.tag){case 3:nu(t),Ta();break;case 5:kc(t);break;case 1:Ct(t.type)&&xs(t);break;case 4:Co(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;ze(ws,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ze(Qe,Qe.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?lu(e,t,a):(ze(Qe,Qe.current&1),e=hr(e,t,a),e!==null?e.sibling:null);ze(Qe,Qe.current&1);break;case 19:if(s=(a&t.childLanes)!==0,(e.flags&128)!==0){if(s)return iu(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Qe,Qe.current),s)break;return null;case 22:case 23:return t.lanes=0,tu(e,t,a)}return hr(e,t,a)}var du,Qo,cu,uu;du=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qo=function(){},cu=function(e,t,a,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,ta(ar.current);var u=null;switch(a){case"input":i=ge(e,i),s=ge(e,s),u=[];break;case"select":i=ae({},i,{value:void 0}),s=ae({},s,{value:void 0}),u=[];break;case"textarea":i=fa(e,i),s=fa(e,s),u=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ms)}Re(a,s);var g;a=null;for($ in i)if(!s.hasOwnProperty($)&&i.hasOwnProperty($)&&i[$]!=null)if($==="style"){var C=i[$];for(g in C)C.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(c.hasOwnProperty($)?u||(u=[]):(u=u||[]).push($,null));for($ in s){var _=s[$];if(C=i?.[$],s.hasOwnProperty($)&&_!==C&&(_!=null||C!=null))if($==="style")if(C){for(g in C)!C.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in _)_.hasOwnProperty(g)&&C[g]!==_[g]&&(a||(a={}),a[g]=_[g])}else a||(u||(u=[]),u.push($,a)),a=_;else $==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,C=C?C.__html:void 0,_!=null&&C!==_&&(u=u||[]).push($,_)):$==="children"?typeof _!="string"&&typeof _!="number"||(u=u||[]).push($,""+_):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(c.hasOwnProperty($)?(_!=null&&$==="onScroll"&&He("scroll",e),u||C===_||(u=[])):(u=u||[]).push($,_))}a&&(u=u||[]).push("style",a);var $=u;(t.updateQueue=$)&&(t.flags|=4)}},uu=function(e,t,a,s){a!==s&&(t.flags|=4)};function Dn(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Vf(e,t,a){var s=t.pendingProps;switch(go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Ct(t.type)&&ps(),bt(t),null;case 3:return s=t.stateNode,_a(),Ve(St),Ve(ht),To(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qt!==null&&(si(Qt),Qt=null))),Qo(e,t),bt(t),null;case 5:Eo(t);var i=ta(jn.current);if(a=t.type,e!==null&&t.stateNode!=null)cu(e,t,a,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return bt(t),null}if(e=ta(ar.current),bs(t)){s=t.stateNode,a=t.type;var u=t.memoizedProps;switch(s[rr]=t,s[yn]=u,e=(t.mode&1)!==0,a){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(i=0;i<xn.length;i++)He(xn[i],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":Ee(s,u),He("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},He("invalid",s);break;case"textarea":qr(s,u),He("invalid",s)}Re(a,u),i=null;for(var g in u)if(u.hasOwnProperty(g)){var C=u[g];g==="children"?typeof C=="string"?s.textContent!==C&&(u.suppressHydrationWarning!==!0&&us(s.textContent,C,e),i=["children",C]):typeof C=="number"&&s.textContent!==""+C&&(u.suppressHydrationWarning!==!0&&us(s.textContent,C,e),i=["children",""+C]):c.hasOwnProperty(g)&&C!=null&&g==="onScroll"&&He("scroll",s)}switch(a){case"input":z(s),ne(s,u,!0);break;case"textarea":z(s),Qa(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=ms)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{g=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ya(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=g.createElement(a,{is:s.is}):(e=g.createElement(a),a==="select"&&(g=e,s.multiple?g.multiple=!0:s.size&&(g.size=s.size))):e=g.createElementNS(e,a),e[rr]=t,e[yn]=s,du(e,t,!1,!1),t.stateNode=e;e:{switch(g=$e(a,s),a){case"dialog":He("cancel",e),He("close",e),i=s;break;case"iframe":case"object":case"embed":He("load",e),i=s;break;case"video":case"audio":for(i=0;i<xn.length;i++)He(xn[i],e);i=s;break;case"source":He("error",e),i=s;break;case"img":case"image":case"link":He("error",e),He("load",e),i=s;break;case"details":He("toggle",e),i=s;break;case"input":Ee(e,s),i=ge(e,s),He("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ae({},s,{value:void 0}),He("invalid",e);break;case"textarea":qr(e,s),i=fa(e,s),He("invalid",e);break;default:i=s}Re(a,i),C=i;for(u in C)if(C.hasOwnProperty(u)){var _=C[u];u==="style"?Z(e,_):u==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&cr(e,_)):u==="children"?typeof _=="string"?(a!=="textarea"||_!=="")&&jr(e,_):typeof _=="number"&&jr(e,""+_):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?_!=null&&u==="onScroll"&&He("scroll",e):_!=null&&S(e,u,_,g))}switch(a){case"input":z(e),ne(e,s,!1);break;case"textarea":z(e),Qa(e);break;case"option":s.value!=null&&e.setAttribute("value",""+be(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Me(e,!!s.multiple,u,!1):s.defaultValue!=null&&Me(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ms)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)uu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(a=ta(jn.current),ta(ar.current),bs(t)){if(s=t.stateNode,a=t.memoizedProps,s[rr]=t,(u=s.nodeValue!==a)&&(e=Lt,e!==null))switch(e.tag){case 3:us(s.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(s.nodeValue,a,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[rr]=t,t.stateNode=s}return bt(t),null;case 13:if(Ve(Qe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)pc(),Ta(),t.flags|=98560,u=!1;else if(u=bs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[rr]=t}else Ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),u=!1}else Qt!==null&&(si(Qt),Qt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Qe.current&1)!==0?ot===0&&(ot=3):ii())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return _a(),Qo(e,t),e===null&&gn(t.stateNode.containerInfo),bt(t),null;case 10:return ko(t.type._context),bt(t),null;case 17:return Ct(t.type)&&ps(),bt(t),null;case 19:if(Ve(Qe),u=t.memoizedState,u===null)return bt(t),null;if(s=(t.flags&128)!==0,g=u.rendering,g===null)if(s)Dn(u,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ss(e),g!==null){for(t.flags|=128,Dn(u,!1),s=g.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=a,a=t.child;a!==null;)u=a,e=s,u.flags&=14680066,g=u.alternate,g===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,e=g.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ze(Qe,Qe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ze()>Aa&&(t.flags|=128,s=!0,Dn(u,!1),t.lanes=4194304)}else{if(!s)if(e=Ss(g),e!==null){if(t.flags|=128,s=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Dn(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!We)return bt(t),null}else 2*Ze()-u.renderingStartTime>Aa&&a!==1073741824&&(t.flags|=128,s=!0,Dn(u,!1),t.lanes=4194304);u.isBackwards?(g.sibling=t.child,t.child=g):(a=u.last,a!==null?a.sibling=g:t.child=g,u.last=g)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ze(),t.sibling=null,a=Qe.current,ze(Qe,s?a&1|2:a&1),t):(bt(t),null);case 22:case 23:return oi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Wf(e,t){switch(go(t),t.tag){case 1:return Ct(t.type)&&ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(),Ve(St),Ve(ht),To(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return _a(),null;case 10:return ko(t.type._context),null;case 22:case 23:return oi(),null;case 24:return null;default:return null}}var Ls=!1,vt=!1,qf=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ba(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){Xe(e,t,s)}else a.current=null}function Yo(e,t,a){try{a()}catch(s){Xe(e,t,s)}}var mu=!1;function Kf(e,t){if(lo=es,e=Vd(),Gl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var i=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var g=0,C=-1,_=-1,$=0,G=0,ee=e,X=null;t:for(;;){for(var ce;ee!==a||i!==0&&ee.nodeType!==3||(C=g+i),ee!==u||s!==0&&ee.nodeType!==3||(_=g+s),ee.nodeType===3&&(g+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)X=ee,ee=ce;for(;;){if(ee===e)break t;if(X===a&&++$===i&&(C=g),X===u&&++G===s&&(_=g),(ce=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ce}a=C===-1||_===-1?null:{start:C,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(oo={focusedElem:e,selectionRange:a},es=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var fe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,et=fe.memoizedState,A=t.stateNode,B=A.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Yt(t.type,pe),et);A.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){Xe(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return fe=mu,mu=!1,fe}function Tn(e,t,a){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&Yo(t,a,u)}i=i.next}while(i!==s)}}function Bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var s=a.create;a.destroy=s()}a=a.next}while(a!==t)}}function Jo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function fu(e){var t=e.alternate;t!==null&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[yn],delete t[mo],delete t[Tf],delete t[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pu(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ms));else if(s!==4&&(e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function Go(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Go(e,t,a),e=e.sibling;e!==null;)Go(e,t,a),e=e.sibling}var mt=null,Jt=!1;function Fr(e,t,a){for(a=a.child;a!==null;)gu(e,t,a),a=a.sibling}function gu(e,t,a){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 5:vt||Ba(a,t);case 6:var s=mt,i=Jt;mt=null,Fr(e,t,a),mt=s,Jt=i,mt!==null&&(Jt?(e=mt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):mt.removeChild(a.stateNode));break;case 18:mt!==null&&(Jt?(e=mt,a=a.stateNode,e.nodeType===8?uo(e.parentNode,a):e.nodeType===1&&uo(e,a),ln(e)):uo(mt,a.stateNode));break;case 4:s=mt,i=Jt,mt=a.stateNode.containerInfo,Jt=!0,Fr(e,t,a),mt=s,Jt=i;break;case 0:case 11:case 14:case 15:if(!vt&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var u=i,g=u.destroy;u=u.tag,g!==void 0&&((u&2)!==0||(u&4)!==0)&&Yo(a,t,g),i=i.next}while(i!==s)}Fr(e,t,a);break;case 1:if(!vt&&(Ba(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(C){Xe(a,t,C)}Fr(e,t,a);break;case 21:Fr(e,t,a);break;case 22:a.mode&1?(vt=(s=vt)||a.memoizedState!==null,Fr(e,t,a),vt=s):Fr(e,t,a);break;default:Fr(e,t,a)}}function hu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new qf),t.forEach(function(s){var i=rp.bind(null,e,s);a.has(s)||(a.add(s),s.then(i,i))})}}function Xt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var i=a[s];try{var u=e,g=t,C=g;e:for(;C!==null;){switch(C.tag){case 5:mt=C.stateNode,Jt=!1;break e;case 3:mt=C.stateNode.containerInfo,Jt=!0;break e;case 4:mt=C.stateNode.containerInfo,Jt=!0;break e}C=C.return}if(mt===null)throw Error(o(160));gu(u,g,i),mt=null,Jt=!1;var _=i.alternate;_!==null&&(_.return=null),i.return=null}catch($){Xe(i,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yu(t,e),t=t.sibling}function yu(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),sr(e),s&4){try{Tn(3,e,e.return),Bs(3,e)}catch(pe){Xe(e,e.return,pe)}try{Tn(5,e,e.return)}catch(pe){Xe(e,e.return,pe)}}break;case 1:Xt(t,e),sr(e),s&512&&a!==null&&Ba(a,a.return);break;case 5:if(Xt(t,e),sr(e),s&512&&a!==null&&Ba(a,a.return),e.flags&32){var i=e.stateNode;try{jr(i,"")}catch(pe){Xe(e,e.return,pe)}}if(s&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,g=a!==null?a.memoizedProps:u,C=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{C==="input"&&u.type==="radio"&&u.name!=null&&Te(i,u),$e(C,g);var $=$e(C,u);for(g=0;g<_.length;g+=2){var G=_[g],ee=_[g+1];G==="style"?Z(i,ee):G==="dangerouslySetInnerHTML"?cr(i,ee):G==="children"?jr(i,ee):S(i,G,ee,$)}switch(C){case"input":gt(i,u);break;case"textarea":Ka(i,u);break;case"select":var X=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var ce=u.value;ce!=null?Me(i,!!u.multiple,ce,!1):X!==!!u.multiple&&(u.defaultValue!=null?Me(i,!!u.multiple,u.defaultValue,!0):Me(i,!!u.multiple,u.multiple?[]:"",!1))}i[yn]=u}catch(pe){Xe(e,e.return,pe)}}break;case 6:if(Xt(t,e),sr(e),s&4){if(e.stateNode===null)throw Error(o(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(pe){Xe(e,e.return,pe)}}break;case 3:if(Xt(t,e),sr(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ln(t.containerInfo)}catch(pe){Xe(e,e.return,pe)}break;case 4:Xt(t,e),sr(e);break;case 13:Xt(t,e),sr(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(ti=Ze())),s&4&&hu(e);break;case 22:if(G=a!==null&&a.memoizedState!==null,e.mode&1?(vt=($=vt)||G,Xt(t,e),vt=$):Xt(t,e),sr(e),s&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!G&&(e.mode&1)!==0)for(ue=e,G=e.child;G!==null;){for(ee=ue=G;ue!==null;){switch(X=ue,ce=X.child,X.tag){case 0:case 11:case 14:case 15:Tn(4,X,X.return);break;case 1:Ba(X,X.return);var fe=X.stateNode;if(typeof fe.componentWillUnmount=="function"){s=X,a=X.return;try{t=s,fe.props=t.memoizedProps,fe.state=t.memoizedState,fe.componentWillUnmount()}catch(pe){Xe(s,a,pe)}}break;case 5:Ba(X,X.return);break;case 22:if(X.memoizedState!==null){wu(ee);continue}}ce!==null?(ce.return=X,ue=ce):wu(ee)}G=G.sibling}e:for(G=null,ee=e;;){if(ee.tag===5){if(G===null){G=ee;try{i=ee.stateNode,$?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(C=ee.stateNode,_=ee.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,C.style.display=U("display",g))}catch(pe){Xe(e,e.return,pe)}}}else if(ee.tag===6){if(G===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(pe){Xe(e,e.return,pe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;G===ee&&(G=null),ee=ee.return}G===ee&&(G=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Xt(t,e),sr(e),s&4&&hu(e);break;case 21:break;default:Xt(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(pu(a)){var s=a;break e}a=a.return}throw Error(o(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(jr(i,""),s.flags&=-33);var u=xu(e);Go(e,u,i);break;case 3:case 4:var g=s.stateNode.containerInfo,C=xu(e);Xo(e,C,g);break;default:throw Error(o(161))}}catch(_){Xe(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e,t,a){ue=e,bu(e)}function bu(e,t,a){for(var s=(e.mode&1)!==0;ue!==null;){var i=ue,u=i.child;if(i.tag===22&&s){var g=i.memoizedState!==null||Ls;if(!g){var C=i.alternate,_=C!==null&&C.memoizedState!==null||vt;C=Ls;var $=vt;if(Ls=g,(vt=_)&&!$)for(ue=i;ue!==null;)g=ue,_=g.child,g.tag===22&&g.memoizedState!==null?ku(i):_!==null?(_.return=g,ue=_):ku(i);for(;u!==null;)ue=u,bu(u),u=u.sibling;ue=i,Ls=C,vt=$}vu(e)}else(i.subtreeFlags&8772)!==0&&u!==null?(u.return=i,ue=u):vu(e)}}function vu(e){for(;ue!==null;){var t=ue;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Bs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vt)if(a===null)s.componentDidMount();else{var i=t.elementType===t.type?a.memoizedProps:Yt(t.type,a.memoizedProps);s.componentDidUpdate(i,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&wc(t,u,s);break;case 3:var g=t.updateQueue;if(g!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}wc(t,g,a)}break;case 5:var C=t.stateNode;if(a===null&&t.flags&4){a=C;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&a.focus();break;case"img":_.src&&(a.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var G=$.memoizedState;if(G!==null){var ee=G.dehydrated;ee!==null&&ln(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}vt||t.flags&512&&Jo(t)}catch(X){Xe(t,t.return,X)}}if(t===e){ue=null;break}if(a=t.sibling,a!==null){a.return=t.return,ue=a;break}ue=t.return}}function wu(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ue=a;break}ue=t.return}}function ku(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Bs(4,t)}catch(_){Xe(t,a,_)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(_){Xe(t,i,_)}}var u=t.return;try{Jo(t)}catch(_){Xe(t,u,_)}break;case 5:var g=t.return;try{Jo(t)}catch(_){Xe(t,g,_)}}}catch(_){Xe(t,t.return,_)}if(t===e){ue=null;break}var C=t.sibling;if(C!==null){C.return=t.return,ue=C;break}ue=t.return}}var Yf=Math.ceil,Fs=L.ReactCurrentDispatcher,Zo=L.ReactCurrentOwner,Ut=L.ReactCurrentBatchConfig,Le=0,ct=null,at=null,ft=0,Ft=0,Fa=Pr(0),ot=0,Rn=null,aa=0,As=0,ei=0,Pn=null,Dt=null,ti=0,Aa=1/0,yr=null,Os=!1,ri=null,Ar=null,zs=!1,Or=null,Ms=0,In=0,ai=null,$s=-1,Us=0;function Nt(){return(Le&6)!==0?Ze():$s!==-1?$s:$s=Ze()}function zr(e){return(e.mode&1)===0?1:(Le&2)!==0&&ft!==0?ft&-ft:If.transition!==null?(Us===0&&(Us=xd()),Us):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Nd(e.type)),e)}function Gt(e,t,a,s){if(50<In)throw In=0,ai=null,Error(o(185));tn(e,a,s),((Le&2)===0||e!==ct)&&(e===ct&&((Le&2)===0&&(As|=a),ot===4&&Mr(e,ft)),Tt(e,s),a===1&&Le===0&&(t.mode&1)===0&&(Aa=Ze()+500,gs&&_r()))}function Tt(e,t){var a=e.callbackNode;Pm(e,t);var s=Xn(e,e===ct?ft:0);if(s===0)a!==null&&md(a),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(a!=null&&md(a),t===1)e.tag===0?Pf(Nu.bind(null,e)):dc(Nu.bind(null,e)),Ef(function(){(Le&6)===0&&_r()}),a=null;else{switch(gd(s)){case 1:a=Bl;break;case 4:a=fd;break;case 16:a=Kn;break;case 536870912:a=pd;break;default:a=Kn}a=Iu(a,ju.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function ju(e,t){if($s=-1,Us=0,(Le&6)!==0)throw Error(o(327));var a=e.callbackNode;if(Oa()&&e.callbackNode!==a)return null;var s=Xn(e,e===ct?ft:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Hs(e,s);else{t=s;var i=Le;Le|=2;var u=Cu();(ct!==e||ft!==t)&&(yr=null,Aa=Ze()+500,sa(e,t));do try{Gf();break}catch(C){Su(e,C)}while(!0);wo(),Fs.current=u,Le=i,at!==null?t=0:(ct=null,ft=0,t=ot)}if(t!==0){if(t===2&&(i=Fl(e),i!==0&&(s=i,t=ni(e,i))),t===1)throw a=Rn,sa(e,0),Mr(e,s),Tt(e,Ze()),a;if(t===6)Mr(e,s);else{if(i=e.current.alternate,(s&30)===0&&!Jf(i)&&(t=Hs(e,s),t===2&&(u=Fl(e),u!==0&&(s=u,t=ni(e,u))),t===1))throw a=Rn,sa(e,0),Mr(e,s),Tt(e,Ze()),a;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:la(e,Dt,yr);break;case 3:if(Mr(e,s),(s&130023424)===s&&(t=ti+500-Ze(),10<t)){if(Xn(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=co(la.bind(null,e,Dt,yr),t);break}la(e,Dt,yr);break;case 4:if(Mr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var g=31-qt(s);u=1<<g,g=t[g],g>i&&(i=g),s&=~u}if(s=i,s=Ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Yf(s/1960))-s,10<s){e.timeoutHandle=co(la.bind(null,e,Dt,yr),s);break}la(e,Dt,yr);break;case 5:la(e,Dt,yr);break;default:throw Error(o(329))}}}return Tt(e,Ze()),e.callbackNode===a?ju.bind(null,e):null}function ni(e,t){var a=Pn;return e.current.memoizedState.isDehydrated&&(sa(e,t).flags|=256),e=Hs(e,t),e!==2&&(t=Dt,Dt=a,t!==null&&si(t)),e}function si(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function Jf(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var i=a[s],u=i.getSnapshot;i=i.value;try{if(!Kt(u(),i))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~ei,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-qt(t),s=1<<a;e[a]=-1,t&=~s}}function Nu(e){if((Le&6)!==0)throw Error(o(327));Oa();var t=Xn(e,0);if((t&1)===0)return Tt(e,Ze()),null;var a=Hs(e,t);if(e.tag!==0&&a===2){var s=Fl(e);s!==0&&(t=s,a=ni(e,s))}if(a===1)throw a=Rn,sa(e,0),Mr(e,t),Tt(e,Ze()),a;if(a===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,la(e,Dt,yr),Tt(e,Ze()),null}function li(e,t){var a=Le;Le|=1;try{return e(t)}finally{Le=a,Le===0&&(Aa=Ze()+500,gs&&_r())}}function na(e){Or!==null&&Or.tag===0&&(Le&6)===0&&Oa();var t=Le;Le|=1;var a=Ut.transition,s=Oe;try{if(Ut.transition=null,Oe=1,e)return e()}finally{Oe=s,Ut.transition=a,Le=t,(Le&6)===0&&_r()}}function oi(){Ft=Fa.current,Ve(Fa)}function sa(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Cf(a)),at!==null)for(a=at.return;a!==null;){var s=a;switch(go(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ps();break;case 3:_a(),Ve(St),Ve(ht),To();break;case 5:Eo(s);break;case 4:_a();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:ko(s.type._context);break;case 22:case 23:oi()}a=a.return}if(ct=e,at=e=$r(e.current,null),ft=Ft=t,ot=0,Rn=null,ei=As=aa=0,Dt=Pn=null,ea!==null){for(t=0;t<ea.length;t++)if(a=ea[t],s=a.interleaved,s!==null){a.interleaved=null;var i=s.next,u=a.pending;if(u!==null){var g=u.next;u.next=i,s.next=g}a.pending=s}ea=null}return e}function Su(e,t){do{var a=at;try{if(wo(),Cs.current=Rs,Es){for(var s=Ye.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Es=!1}if(ra=0,dt=lt=Ye=null,Nn=!1,Sn=0,Zo.current=null,a===null||a.return===null){ot=1,Rn=t,at=null;break}e:{var u=e,g=a.return,C=a,_=t;if(t=ft,C.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var $=_,G=C,ee=G.tag;if((G.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=G.alternate;X?(G.updateQueue=X.updateQueue,G.memoizedState=X.memoizedState,G.lanes=X.lanes):(G.updateQueue=null,G.memoizedState=null)}var ce=Jc(g);if(ce!==null){ce.flags&=-257,Xc(ce,g,C,u,t),ce.mode&1&&Yc(u,$,t),t=ce,_=$;var fe=t.updateQueue;if(fe===null){var pe=new Set;pe.add(_),t.updateQueue=pe}else fe.add(_);break e}else{if((t&1)===0){Yc(u,$,t),ii();break e}_=Error(o(426))}}else if(We&&C.mode&1){var et=Jc(g);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Xc(et,g,C,u,t),bo(La(_,C));break e}}u=_=La(_,C),ot!==4&&(ot=2),Pn===null?Pn=[u]:Pn.push(u),u=g;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var A=Kc(u,_,t);vc(u,A);break e;case 1:C=_;var B=u.type,O=u.stateNode;if((u.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ar===null||!Ar.has(O)))){u.flags|=65536,t&=-t,u.lanes|=t;var re=Qc(u,C,t);vc(u,re);break e}}u=u.return}while(u!==null)}Du(a)}catch(he){t=he,at===a&&a!==null&&(at=a=a.return);continue}break}while(!0)}function Cu(){var e=Fs.current;return Fs.current=Rs,e===null?Rs:e}function ii(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||(aa&268435455)===0&&(As&268435455)===0||Mr(ct,ft)}function Hs(e,t){var a=Le;Le|=2;var s=Cu();(ct!==e||ft!==t)&&(yr=null,sa(e,t));do try{Xf();break}catch(i){Su(e,i)}while(!0);if(wo(),Le=a,Fs.current=s,at!==null)throw Error(o(261));return ct=null,ft=0,ot}function Xf(){for(;at!==null;)Eu(at)}function Gf(){for(;at!==null&&!km();)Eu(at)}function Eu(e){var t=Pu(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Du(e):at=t,Zo.current=null}function Du(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Vf(a,t,Ft),a!==null){at=a;return}}else{if(a=Wf(a,t),a!==null){a.flags&=32767,at=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,at=null;return}}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ot===0&&(ot=5)}function la(e,t,a){var s=Oe,i=Ut.transition;try{Ut.transition=null,Oe=1,Zf(e,t,a,s)}finally{Ut.transition=i,Oe=s}return null}function Zf(e,t,a,s){do Oa();while(Or!==null);if((Le&6)!==0)throw Error(o(327));a=e.finishedWork;var i=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var u=a.lanes|a.childLanes;if(Im(e,u),e===ct&&(at=ct=null,ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||zs||(zs=!0,Iu(Kn,function(){return Oa(),null})),u=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||u){u=Ut.transition,Ut.transition=null;var g=Oe;Oe=1;var C=Le;Le|=4,Zo.current=null,Kf(e,a),yu(a,e),bf(oo),es=!!lo,oo=lo=null,e.current=a,Qf(a),jm(),Le=C,Oe=g,Ut.transition=u}else e.current=a;if(zs&&(zs=!1,Or=e,Ms=i),u=e.pendingLanes,u===0&&(Ar=null),Cm(a.stateNode),Tt(e,Ze()),t!==null)for(s=e.onRecoverableError,a=0;a<t.length;a++)i=t[a],s(i.value,{componentStack:i.stack,digest:i.digest});if(Os)throw Os=!1,e=ri,ri=null,e;return(Ms&1)!==0&&e.tag!==0&&Oa(),u=e.pendingLanes,(u&1)!==0?e===ai?In++:(In=0,ai=e):In=0,_r(),null}function Oa(){if(Or!==null){var e=gd(Ms),t=Ut.transition,a=Oe;try{if(Ut.transition=null,Oe=16>e?16:e,Or===null)var s=!1;else{if(e=Or,Or=null,Ms=0,(Le&6)!==0)throw Error(o(331));var i=Le;for(Le|=4,ue=e.current;ue!==null;){var u=ue,g=u.child;if((ue.flags&16)!==0){var C=u.deletions;if(C!==null){for(var _=0;_<C.length;_++){var $=C[_];for(ue=$;ue!==null;){var G=ue;switch(G.tag){case 0:case 11:case 15:Tn(8,G,u)}var ee=G.child;if(ee!==null)ee.return=G,ue=ee;else for(;ue!==null;){G=ue;var X=G.sibling,ce=G.return;if(fu(G),G===$){ue=null;break}if(X!==null){X.return=ce,ue=X;break}ue=ce}}}var fe=u.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var et=pe.sibling;pe.sibling=null,pe=et}while(pe!==null)}}ue=u}}if((u.subtreeFlags&2064)!==0&&g!==null)g.return=u,ue=g;else e:for(;ue!==null;){if(u=ue,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Tn(9,u,u.return)}var A=u.sibling;if(A!==null){A.return=u.return,ue=A;break e}ue=u.return}}var B=e.current;for(ue=B;ue!==null;){g=ue;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,ue=O;else e:for(g=B;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Bs(9,C)}}catch(he){Xe(C,C.return,he)}if(C===g){ue=null;break e}var re=C.sibling;if(re!==null){re.return=C.return,ue=re;break e}ue=C.return}}if(Le=i,_r(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Qn,e)}catch{}s=!0}return s}finally{Oe=a,Ut.transition=t}}return!1}function Tu(e,t,a){t=La(a,t),t=Kc(e,t,1),e=Br(e,t,1),t=Nt(),e!==null&&(tn(e,1,t),Tt(e,t))}function Xe(e,t,a){if(e.tag===3)Tu(e,e,a);else for(;t!==null;){if(t.tag===3){Tu(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ar===null||!Ar.has(s))){e=La(a,e),e=Qc(t,e,1),t=Br(t,e,1),e=Nt(),t!==null&&(tn(t,1,e),Tt(t,e));break}}t=t.return}}function ep(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&a,ct===e&&(ft&a)===a&&(ot===4||ot===3&&(ft&130023424)===ft&&500>Ze()-ti?sa(e,0):ei|=a),Tt(e,t)}function Ru(e,t){t===0&&((e.mode&1)===0?t=1:(t=Jn,Jn<<=1,(Jn&130023424)===0&&(Jn=4194304)));var a=Nt();e=xr(e,t),e!==null&&(tn(e,t,a),Tt(e,a))}function tp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ru(e,a)}function rp(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),Ru(e,a)}var Pu;Pu=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Et=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return Et=!1,Hf(e,t,a);Et=(e.flags&131072)!==0}else Et=!1,We&&(t.flags&1048576)!==0&&cc(t,ys,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;_s(e,t),e=t.pendingProps;var i=Ca(t,ht.current);Ia(t,a),i=Io(null,t,s,e,i,a);var u=_o();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(s)?(u=!0,xs(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,So(t),i.updater=Ps,t.stateNode=i,i._reactInternals=t,zo(t,s,e,a),t=Ho(null,t,s,!0,u,a)):(t.tag=0,We&&u&&xo(t),jt(null,t,i,a),t=t.child),t;case 16:s=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=np(s),e=Yt(s,e),i){case 0:t=Uo(null,t,s,e,a);break e;case 1:t=au(null,t,s,e,a);break e;case 11:t=Gc(null,t,s,e,a);break e;case 14:t=Zc(null,t,s,Yt(s.type,e),a);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),Uo(e,t,s,i,a);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),au(e,t,s,i,a);case 3:e:{if(nu(t),e===null)throw Error(o(387));s=t.pendingProps,u=t.memoizedState,i=u.element,bc(e,t),Ns(t,s,null,a);var g=t.memoizedState;if(s=g.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=La(Error(o(423)),t),t=su(e,t,s,a,i);break e}else if(s!==i){i=La(Error(o(424)),t),t=su(e,t,s,a,i);break e}else for(Bt=Rr(t.stateNode.containerInfo.firstChild),Lt=t,We=!0,Qt=null,a=hc(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ta(),s===i){t=hr(e,t,a);break e}jt(e,t,s,a)}t=t.child}return t;case 5:return kc(t),e===null&&yo(t),s=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,g=i.children,io(s,i)?g=null:u!==null&&io(s,u)&&(t.flags|=32),ru(e,t),jt(e,t,g,a),t.child;case 6:return e===null&&yo(t),null;case 13:return lu(e,t,a);case 4:return Co(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ra(t,null,s,a):jt(e,t,s,a),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),Gc(e,t,s,i,a);case 7:return jt(e,t,t.pendingProps,a),t.child;case 8:return jt(e,t,t.pendingProps.children,a),t.child;case 12:return jt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,u=t.memoizedProps,g=i.value,ze(ws,s._currentValue),s._currentValue=g,u!==null)if(Kt(u.value,g)){if(u.children===i.children&&!St.current){t=hr(e,t,a);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var C=u.dependencies;if(C!==null){g=u.child;for(var _=C.firstContext;_!==null;){if(_.context===s){if(u.tag===1){_=gr(-1,a&-a),_.tag=2;var $=u.updateQueue;if($!==null){$=$.shared;var G=$.pending;G===null?_.next=_:(_.next=G.next,G.next=_),$.pending=_}}u.lanes|=a,_=u.alternate,_!==null&&(_.lanes|=a),jo(u.return,a,t),C.lanes|=a;break}_=_.next}}else if(u.tag===10)g=u.type===t.type?null:u.child;else if(u.tag===18){if(g=u.return,g===null)throw Error(o(341));g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),jo(g,a,t),g=u.sibling}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}jt(e,t,i.children,a),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ia(t,a),i=Mt(i),s=s(i),t.flags|=1,jt(e,t,s,a),t.child;case 14:return s=t.type,i=Yt(s,t.pendingProps),i=Yt(s.type,i),Zc(e,t,s,i,a);case 15:return eu(e,t,t.type,t.pendingProps,a);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),_s(e,t),t.tag=1,Ct(s)?(e=!0,xs(t)):e=!1,Ia(t,a),Wc(t,s,i),zo(t,s,i,a),Ho(null,t,s,!0,e,a);case 19:return iu(e,t,a);case 22:return tu(e,t,a)}throw Error(o(156,t.tag))};function Iu(e,t){return ud(e,t)}function ap(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,s){return new ap(e,t,a,s)}function di(e){return e=e.prototype,!(!e||!e.isReactComponent)}function np(e){if(typeof e=="function")return di(e)?1:0;if(e!=null){if(e=e.$$typeof,e===te)return 11;if(e===ye)return 14}return 2}function $r(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Vs(e,t,a,s,i,u){var g=2;if(s=e,typeof e=="function")di(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case I:return oa(a.children,i,u,t);case q:g=8,i|=8;break;case se:return e=Ht(12,a,t,i|2),e.elementType=se,e.lanes=u,e;case W:return e=Ht(13,a,t,i),e.elementType=W,e.lanes=u,e;case ke:return e=Ht(19,a,t,i),e.elementType=ke,e.lanes=u,e;case K:return Ws(a,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:g=10;break e;case we:g=9;break e;case te:g=11;break e;case ye:g=14;break e;case je:g=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Ht(g,a,t,i),t.elementType=e,t.type=s,t.lanes=u,t}function oa(e,t,a,s){return e=Ht(7,e,s,t),e.lanes=a,e}function Ws(e,t,a,s){return e=Ht(22,e,s,t),e.elementType=K,e.lanes=a,e.stateNode={isHidden:!1},e}function ci(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function ui(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sp(e,t,a,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mi(e,t,a,s,i,u,g,C,_){return e=new sp(e,t,a,C,_),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Ht(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(u),e}function lp(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}function _u(e){if(!e)return Ir;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var a=e.type;if(Ct(a))return oc(e,a,t)}return t}function Lu(e,t,a,s,i,u,g,C,_){return e=mi(a,s,!0,e,i,u,g,C,_),e.context=_u(null),a=e.current,s=Nt(),i=zr(a),u=gr(s,i),u.callback=t??null,Br(a,u,i),e.current.lanes=i,tn(e,i,s),Tt(e,s),e}function qs(e,t,a,s){var i=t.current,u=Nt(),g=zr(i);return a=_u(a),t.context===null?t.context=a:t.pendingContext=a,t=gr(u,g),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Br(i,t,g),e!==null&&(Gt(e,i,g,u),js(e,i,g)),g}function Ks(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fi(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function op(){return null}var Fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function pi(e){this._internalRoot=e}Qs.prototype.render=pi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));qs(e,t,null,null)},Qs.prototype.unmount=pi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;na(function(){qs(null,e,null,null)}),t[ur]=null}};function Qs(e){this._internalRoot=e}Qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=bd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Er.length&&t!==0&&t<Er[a].priority;a++);Er.splice(a,0,e),a===0&&kd(e)}};function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Au(){}function ip(e,t,a,s,i){if(i){if(typeof s=="function"){var u=s;s=function(){var $=Ks(g);u.call($)}}var g=Lu(t,s,e,0,null,!1,!1,"",Au);return e._reactRootContainer=g,e[ur]=g.current,gn(e.nodeType===8?e.parentNode:e),na(),g}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var C=s;s=function(){var $=Ks(_);C.call($)}}var _=mi(e,0,!1,null,null,!1,!1,"",Au);return e._reactRootContainer=_,e[ur]=_.current,gn(e.nodeType===8?e.parentNode:e),na(function(){qs(t,_,a,s)}),_}function Js(e,t,a,s,i){var u=a._reactRootContainer;if(u){var g=u;if(typeof i=="function"){var C=i;i=function(){var _=Ks(g);C.call(_)}}qs(t,g,e,i)}else g=ip(a,t,e,i,s);return Ks(g)}hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=en(t.pendingLanes);a!==0&&(Ol(t,a|1),Tt(t,Ze()),(Le&6)===0&&(Aa=Ze()+500,_r()))}break;case 13:na(function(){var s=xr(e,1);if(s!==null){var i=Nt();Gt(s,e,1,i)}}),fi(e,1)}},zl=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var a=Nt();Gt(t,e,134217728,a)}fi(e,134217728)}},yd=function(e){if(e.tag===13){var t=zr(e),a=xr(e,t);if(a!==null){var s=Nt();Gt(a,e,t,s)}fi(e,t)}},bd=function(){return Oe},vd=function(e,t){var a=Oe;try{return Oe=e,t()}finally{Oe=a}},Ja=function(e,t,a){switch(t){case"input":if(gt(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var i=fs(s);if(!i)throw Error(o(90));oe(s),gt(s,i)}}}break;case"textarea":Ka(e,a);break;case"select":t=a.value,t!=null&&Me(e,!!a.multiple,t,!1)}},nd=li,sd=na;var dp={usingClientEntryPoint:!1,Events:[bn,Na,fs,rd,ad,li]},_n={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cp={bundleType:_n.bundleType,version:_n.version,rendererPackageName:_n.rendererPackageName,rendererConfig:_n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dd(e),e===null?null:e.stateNode},findFiberByHostInstance:_n.findFiberByHostInstance||op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Qn=Xs.inject(cp),tr=Xs}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp,Rt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xi(t))throw Error(o(200));return lp(e,t,null,a)},Rt.createRoot=function(e,t){if(!xi(e))throw Error(o(299));var a=!1,s="",i=Fu;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mi(e,1,!1,null,null,a,!1,s,i),e[ur]=t.current,gn(e.nodeType===8?e.parentNode:e),new pi(t)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=dd(t),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return na(e)},Rt.hydrate=function(e,t,a){if(!Ys(t))throw Error(o(200));return Js(null,e,t,!0,a)},Rt.hydrateRoot=function(e,t,a){if(!xi(e))throw Error(o(405));var s=a!=null&&a.hydratedSources||null,i=!1,u="",g=Fu;if(a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),t=Lu(t,null,e,1,a??null,i,!1,u,g),e[ur]=t.current,gn(e),s)for(e=0;e<s.length;e++)a=s[e],i=a._getVersion,i=i(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,i]:t.mutableSourceEagerHydrationData.push(a,i);return new Qs(t)},Rt.render=function(e,t,a){if(!Ys(t))throw Error(o(200));return Js(null,e,t,!1,a)},Rt.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(o(40));return e._reactRootContainer?(na(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1},Rt.unstable_batchedUpdates=li,Rt.unstable_renderSubtreeIntoContainer=function(e,t,a,s){if(!Ys(a))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Js(e,t,a,!1,s)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var Wu;function bp(){if(Wu)return yi.exports;Wu=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),yi.exports=yp(),yi.exports}var qu;function vp(){if(qu)return Gs;qu=1;var n=bp();return Gs.createRoot=n.createRoot,Gs.hydrateRoot=n.hydrateRoot,Gs}var wp=vp();var Ku="popstate";function kp(n={}){function l(d,c){let{pathname:m,search:f,hash:x}=d.location;return Ci("",{pathname:m,search:f,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(d,c){return typeof c=="string"?c:An(c)}return Np(l,o,null,n)}function qe(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function Vt(n,l){if(!n){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function jp(){return Math.random().toString(36).substring(2,10)}function Qu(n,l){return{usr:n.state,key:n.key,idx:l}}function Ci(n,l,o=null,d){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof l=="string"?Ma(l):l,state:o,key:l&&l.key||d||jp()}}function An({pathname:n="/",search:l="",hash:o=""}){return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ma(n){let l={};if(n){let o=n.indexOf("#");o>=0&&(l.hash=n.substring(o),n=n.substring(0,o));let d=n.indexOf("?");d>=0&&(l.search=n.substring(d),n=n.substring(0,d)),n&&(l.pathname=n)}return l}function Np(n,l,o,d={}){let{window:c=document.defaultView,v5Compat:m=!1}=d,f=c.history,x="POP",h=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function v(){x="POP";let w=b(),k=w==null?null:w-y;y=w,h&&h({action:x,location:R.location,delta:k})}function E(w,k){x="PUSH";let D=Ci(R.location,w,k);y=b()+1;let S=Qu(D,y),L=R.createHref(D);try{f.pushState(S,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;c.location.assign(L)}m&&h&&h({action:x,location:R.location,delta:1})}function P(w,k){x="REPLACE";let D=Ci(R.location,w,k);y=b();let S=Qu(D,y),L=R.createHref(D);f.replaceState(S,"",L),m&&h&&h({action:x,location:R.location,delta:0})}function N(w){return Sp(w)}let R={get action(){return x},get location(){return n(c,f)},listen(w){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(Ku,v),h=w,()=>{c.removeEventListener(Ku,v),h=null}},createHref(w){return l(c,w)},createURL:N,encodeLocation(w){let k=N(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:P,go(w){return f.go(w)}};return R}function Sp(n,l=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),qe(o,"No window.location.(origin|href) available to create URL");let d=typeof n=="string"?n:An(n);return d=d.replace(/ $/,"%20"),!l&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function N0(n,l,o="/"){return Cp(n,l,o,!1)}function Cp(n,l,o,d){let c=typeof l=="string"?Ma(l):l,m=wr(c.pathname||"/",o);if(m==null)return null;let f=S0(n);Ep(f);let x=null;for(let h=0;x==null&&h<f.length;++h){let y=Op(m);x=Fp(f[h],y,d)}return x}function S0(n,l=[],o=[],d="",c=!1){let m=(f,x,h=c,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:x,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(d)&&h)return;qe(b.relativePath.startsWith(d),`Absolute route path "${b.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(d.length)}let v=vr([d,b.relativePath]),E=o.concat(b);f.children&&f.children.length>0&&(qe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),S0(f.children,l,E,v,h)),!(f.path==null&&!f.index)&&l.push({path:v,score:Lp(v,f.index),routesMeta:E})};return n.forEach((f,x)=>{if(f.path===""||!f.path?.includes("?"))m(f,x);else for(let h of C0(f.path))m(f,x,!0,h)}),l}function C0(n){let l=n.split("/");if(l.length===0)return[];let[o,...d]=l,c=o.endsWith("?"),m=o.replace(/\?$/,"");if(d.length===0)return c?[m,""]:[m];let f=C0(d.join("/")),x=[];return x.push(...f.map(h=>h===""?m:[m,h].join("/"))),c&&x.push(...f),x.map(h=>n.startsWith("/")&&h===""?"/":h)}function Ep(n){n.sort((l,o)=>l.score!==o.score?o.score-l.score:Bp(l.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var Dp=/^:[\w-]+$/,Tp=3,Rp=2,Pp=1,Ip=10,_p=-2,Yu=n=>n==="*";function Lp(n,l){let o=n.split("/"),d=o.length;return o.some(Yu)&&(d+=_p),l&&(d+=Rp),o.filter(c=>!Yu(c)).reduce((c,m)=>c+(Dp.test(m)?Tp:m===""?Pp:Ip),d)}function Bp(n,l){return n.length===l.length&&n.slice(0,-1).every((d,c)=>d===l[c])?n[n.length-1]-l[l.length-1]:0}function Fp(n,l,o=!1){let{routesMeta:d}=n,c={},m="/",f=[];for(let x=0;x<d.length;++x){let h=d[x],y=x===d.length-1,b=m==="/"?l:l.slice(m.length)||"/",v=pl({path:h.relativePath,caseSensitive:h.caseSensitive,end:y},b),E=h.route;if(!v&&y&&o&&!d[d.length-1].route.index&&(v=pl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},b)),!v)return null;Object.assign(c,v.params),f.push({params:c,pathname:vr([m,v.pathname]),pathnameBase:Hp(vr([m,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(m=vr([m,v.pathnameBase]))}return f}function pl(n,l){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,d]=Ap(n.path,n.caseSensitive,n.end),c=l.match(o);if(!c)return null;let m=c[0],f=m.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:d.reduce((y,{paramName:b,isOptional:v},E)=>{if(b==="*"){let N=x[E]||"";f=m.slice(0,m.length-N.length).replace(/(.)\/+$/,"$1")}const P=x[E];return v&&!P?y[b]=void 0:y[b]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:m,pathnameBase:f,pattern:n}}function Ap(n,l=!1,o=!0){Vt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let d=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,x,h)=>(d.push({paramName:x,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(d.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,l?void 0:"i"),d]}function Op(n){try{return n.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Vt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),n}}function wr(n,l){if(l==="/")return n;if(!n.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,d=n.charAt(o);return d&&d!=="/"?null:n.slice(o)||"/"}var zp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=n=>zp.test(n);function $p(n,l="/"){let{pathname:o,search:d="",hash:c=""}=typeof n=="string"?Ma(n):n,m;if(o)if(Mp(o))m=o;else{if(o.includes("//")){let f=o;o=o.replace(/\/\/+/g,"/"),Vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${o}`)}o.startsWith("/")?m=Ju(o.substring(1),"/"):m=Ju(o,l)}else m=l;return{pathname:m,search:Vp(d),hash:Wp(c)}}function Ju(n,l){let o=l.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function wi(n,l,o,d){return`Cannot include a '${n}' character in a manually specified \`to.${l}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Up(n){return n.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function zi(n){let l=Up(n);return l.map((o,d)=>d===l.length-1?o.pathname:o.pathnameBase)}function Mi(n,l,o,d=!1){let c;typeof n=="string"?c=Ma(n):(c={...n},qe(!c.pathname||!c.pathname.includes("?"),wi("?","pathname","search",c)),qe(!c.pathname||!c.pathname.includes("#"),wi("#","pathname","hash",c)),qe(!c.search||!c.search.includes("#"),wi("#","search","hash",c)));let m=n===""||c.pathname==="",f=m?"/":c.pathname,x;if(f==null)x=o;else{let v=l.length-1;if(!d&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;c.pathname=E.join("/")}x=v>=0?l[v]:"/"}let h=$p(c,x),y=f&&f!=="/"&&f.endsWith("/"),b=(m||f===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(y||b)&&(h.pathname+="/"),h}var vr=n=>n.join("/").replace(/\/\/+/g,"/"),Hp=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Vp=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Wp=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Kp(n){return n.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E0=["POST","PUT","PATCH","DELETE"];new Set(E0);var Qp=["GET",...E0];new Set(Qp);var $a=p.createContext(null);$a.displayName="DataRouter";var yl=p.createContext(null);yl.displayName="DataRouterState";p.createContext(!1);var D0=p.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var Yp=p.createContext(new Map);Yp.displayName="Fetchers";var Jp=p.createContext(null);Jp.displayName="Await";var Wt=p.createContext(null);Wt.displayName="Navigation";var On=p.createContext(null);On.displayName="Location";var Zt=p.createContext({outlet:null,matches:[],isDataRoute:!1});Zt.displayName="Route";var $i=p.createContext(null);$i.displayName="RouteError";function Xp(n,{relative:l}={}){qe(Ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=p.useContext(Wt),{hash:c,pathname:m,search:f}=zn(n,{relative:l}),x=m;return o!=="/"&&(x=m==="/"?o:vr([o,m])),d.createHref({pathname:x,search:f,hash:c})}function Ua(){return p.useContext(On)!=null}function Vr(){return qe(Ua(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(On).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R0(n){p.useContext(Wt).static||p.useLayoutEffect(n)}function kt(){let{isDataRoute:n}=p.useContext(Zt);return n?ux():Gp()}function Gp(){qe(Ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=p.useContext($a),{basename:l,navigator:o}=p.useContext(Wt),{matches:d}=p.useContext(Zt),{pathname:c}=Vr(),m=JSON.stringify(zi(d)),f=p.useRef(!1);return R0(()=>{f.current=!0}),p.useCallback((h,y={})=>{if(Vt(f.current,T0),!f.current)return;if(typeof h=="number"){o.go(h);return}let b=Mi(h,JSON.parse(m),c,y.relative==="path");n==null&&l!=="/"&&(b.pathname=b.pathname==="/"?l:vr([l,b.pathname])),(y.replace?o.replace:o.push)(b,y.state,y)},[l,o,m,c,n])}p.createContext(null);function Zp(){let{matches:n}=p.useContext(Zt),l=n[n.length-1];return l?l.params:{}}function zn(n,{relative:l}={}){let{matches:o}=p.useContext(Zt),{pathname:d}=Vr(),c=JSON.stringify(zi(o));return p.useMemo(()=>Mi(n,JSON.parse(c),d,l==="path"),[n,c,d,l])}function ex(n,l){return P0(n,l)}function P0(n,l,o,d,c){qe(Ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=p.useContext(Wt),{matches:f}=p.useContext(Zt),x=f[f.length-1],h=x?x.params:{},y=x?x.pathname:"/",b=x?x.pathnameBase:"/",v=x&&x.route;{let D=v&&v.path||"";I0(y,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let E=Vr(),P;if(l){let D=typeof l=="string"?Ma(l):l;qe(b==="/"||D.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${D.pathname}" was given in the \`location\` prop.`),P=D}else P=E;let N=P.pathname||"/",R=N;if(b!=="/"){let D=b.replace(/^\//,"").split("/");R="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=N0(n,{pathname:R});Vt(v||w!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Vt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=sx(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:vr([b,m.encodeLocation?m.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?b:vr([b,m.encodeLocation?m.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,o,d,c);return l&&k?p.createElement(On.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},k):k}function tx(){let n=cx(),l=qp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,d="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:d},m={padding:"2px 4px",backgroundColor:d},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:m},"ErrorBoundary")," or"," ",p.createElement("code",{style:m},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},l),o?p.createElement("pre",{style:c},o):null,f)}var rx=p.createElement(tx,null),ax=class extends p.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){this.props.onError?this.props.onError(n,l):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?p.createElement(Zt.Provider,{value:this.props.routeContext},p.createElement($i.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nx({routeContext:n,match:l,children:o}){let d=p.useContext($a);return d&&d.static&&d.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=l.route.id),p.createElement(Zt.Provider,{value:n},o)}function sx(n,l=[],o=null,d=null,c=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(l.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let m=n,f=o?.errors;if(f!=null){let b=m.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);qe(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,b+1))}let x=!1,h=-1;if(o)for(let b=0;b<m.length;b++){let v=m[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=b),v.route.id){let{loaderData:E,errors:P}=o,N=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!P||P[v.route.id]===void 0);if(v.route.lazy||N){x=!0,h>=0?m=m.slice(0,h+1):m=[m[0]];break}}}let y=o&&d?(b,v)=>{d(b,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:Kp(o.matches),errorInfo:v})}:void 0;return m.reduceRight((b,v,E)=>{let P,N=!1,R=null,w=null;o&&(P=f&&v.route.id?f[v.route.id]:void 0,R=v.route.errorElement||rx,x&&(h<0&&E===0?(I0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,w=null):h===E&&(N=!0,w=v.route.hydrateFallbackElement||null)));let k=l.concat(m.slice(0,E+1)),D=()=>{let S;return P?S=R:N?S=w:v.route.Component?S=p.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=b,p.createElement(nx,{match:v,routeContext:{outlet:b,matches:k,isDataRoute:o!=null},children:S})};return o&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?p.createElement(ax,{location:o.location,revalidation:o.revalidation,component:R,error:P,children:D(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:y}):D()},null)}function Ui(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(n){let l=p.useContext($a);return qe(l,Ui(n)),l}function ox(n){let l=p.useContext(yl);return qe(l,Ui(n)),l}function ix(n){let l=p.useContext(Zt);return qe(l,Ui(n)),l}function Hi(n){let l=ix(n),o=l.matches[l.matches.length-1];return qe(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function dx(){return Hi("useRouteId")}function cx(){let n=p.useContext($i),l=ox("useRouteError"),o=Hi("useRouteError");return n!==void 0?n:l.errors?.[o]}function ux(){let{router:n}=lx("useNavigate"),l=Hi("useNavigate"),o=p.useRef(!1);return R0(()=>{o.current=!0}),p.useCallback(async(c,m={})=>{Vt(o.current,T0),o.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:l,...m}))},[n,l])}var Xu={};function I0(n,l,o){!l&&!Xu[n]&&(Xu[n]=!0,Vt(!1,o))}p.memo(mx);function mx({routes:n,future:l,state:o,unstable_onError:d}){return P0(n,void 0,o,d,l)}function fx({to:n,replace:l,state:o,relative:d}){qe(Ua(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=p.useContext(Wt);Vt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=p.useContext(Zt),{pathname:f}=Vr(),x=kt(),h=Mi(n,zi(m),f,d==="path"),y=JSON.stringify(h);return p.useEffect(()=>{x(JSON.parse(y),{replace:l,state:o,relative:d})},[x,y,d,l,o]),null}function nt(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function px({basename:n="/",children:l=null,location:o,navigationType:d="POP",navigator:c,static:m=!1,unstable_useTransitions:f}){qe(!Ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=n.replace(/^\/*/,"/"),h=p.useMemo(()=>({basename:x,navigator:c,static:m,unstable_useTransitions:f,future:{}}),[x,c,m,f]);typeof o=="string"&&(o=Ma(o));let{pathname:y="/",search:b="",hash:v="",state:E=null,key:P="default"}=o,N=p.useMemo(()=>{let R=wr(y,x);return R==null?null:{location:{pathname:R,search:b,hash:v,state:E,key:P},navigationType:d}},[x,y,b,v,E,P,d]);return Vt(N!=null,`<Router basename="${x}"> is not able to match the URL "${y}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:p.createElement(Wt.Provider,{value:h},p.createElement(On.Provider,{children:l,value:N}))}function xx({children:n,location:l}){return ex(Ei(n),l)}function Ei(n,l=[]){let o=[];return p.Children.forEach(n,(d,c)=>{if(!p.isValidElement(d))return;let m=[...l,c];if(d.type===p.Fragment){o.push.apply(o,Ei(d.props.children,m));return}qe(d.type===nt,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!d.props.index||!d.props.children,"An index route cannot have child routes.");let f={id:d.props.id||m.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(f.children=Ei(d.props.children,m)),o.push(f)}),o}var il="get",dl="application/x-www-form-urlencoded";function bl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function gx(n){return bl(n)&&n.tagName.toLowerCase()==="button"}function hx(n){return bl(n)&&n.tagName.toLowerCase()==="form"}function yx(n){return bl(n)&&n.tagName.toLowerCase()==="input"}function bx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vx(n,l){return n.button===0&&(!l||l==="_self")&&!bx(n)}var Zs=null;function wx(){if(Zs===null)try{new FormData(document.createElement("form"),0),Zs=!1}catch{Zs=!0}return Zs}var kx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ki(n){return n!=null&&!kx.has(n)?(Vt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dl}"`),null):n}function jx(n,l){let o,d,c,m,f;if(hx(n)){let x=n.getAttribute("action");d=x?wr(x,l):null,o=n.getAttribute("method")||il,c=ki(n.getAttribute("enctype"))||dl,m=new FormData(n)}else if(gx(n)||yx(n)&&(n.type==="submit"||n.type==="image")){let x=n.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||x.getAttribute("action");if(d=h?wr(h,l):null,o=n.getAttribute("formmethod")||x.getAttribute("method")||il,c=ki(n.getAttribute("formenctype"))||ki(x.getAttribute("enctype"))||dl,m=new FormData(x,n),!wx()){let{name:y,type:b,value:v}=n;if(b==="image"){let E=y?`${y}.`:"";m.append(`${E}x`,"0"),m.append(`${E}y`,"0")}else y&&m.append(y,v)}}else{if(bl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=il,d=null,c=dl,f=n}return m&&c==="text/plain"&&(f=m,m=void 0),{action:d,method:o.toLowerCase(),encType:c,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vi(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function Nx(n,l,o){let d=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return d.pathname==="/"?d.pathname=`_root.${o}`:l&&wr(d.pathname,l)==="/"?d.pathname=`${l.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function Sx(n,l){if(n.id in l)return l[n.id];try{let o=await import(n.module);return l[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ex(n,l,o){let d=await Promise.all(n.map(async c=>{let m=l.routes[c.route.id];if(m){let f=await Sx(m,o);return f.links?f.links():[]}return[]}));return Px(d.flat(1).filter(Cx).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Gu(n,l,o,d,c,m){let f=(h,y)=>o[y]?h.route.id!==o[y].route.id:!0,x=(h,y)=>o[y].pathname!==h.pathname||o[y].route.path?.endsWith("*")&&o[y].params["*"]!==h.params["*"];return m==="assets"?l.filter((h,y)=>f(h,y)||x(h,y)):m==="data"?l.filter((h,y)=>{let b=d.routes[h.route.id];if(!b||!b.hasLoader)return!1;if(f(h,y)||x(h,y))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Dx(n,l,{includeHydrateFallback:o}={}){return Tx(n.map(d=>{let c=l.routes[d.route.id];if(!c)return[];let m=[c.module];return c.clientActionModule&&(m=m.concat(c.clientActionModule)),c.clientLoaderModule&&(m=m.concat(c.clientLoaderModule)),o&&c.hydrateFallbackModule&&(m=m.concat(c.hydrateFallbackModule)),c.imports&&(m=m.concat(c.imports)),m}).flat(1))}function Tx(n){return[...new Set(n)]}function Rx(n){let l={},o=Object.keys(n).sort();for(let d of o)l[d]=n[d];return l}function Px(n,l){let o=new Set;return new Set(l),n.reduce((d,c)=>{let m=JSON.stringify(Rx(c));return o.has(m)||(o.add(m),d.push({key:m,link:c})),d},[])}function _0(){let n=p.useContext($a);return Vi(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ix(){let n=p.useContext(yl);return Vi(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wi=p.createContext(void 0);Wi.displayName="FrameworkContext";function L0(){let n=p.useContext(Wi);return Vi(n,"You must render this element inside a <HydratedRouter> element"),n}function _x(n,l){let o=p.useContext(Wi),[d,c]=p.useState(!1),[m,f]=p.useState(!1),{onFocus:x,onBlur:h,onMouseEnter:y,onMouseLeave:b,onTouchStart:v}=l,E=p.useRef(null);p.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let R=k=>{k.forEach(D=>{f(D.isIntersecting)})},w=new IntersectionObserver(R,{threshold:.5});return E.current&&w.observe(E.current),()=>{w.disconnect()}}},[n]),p.useEffect(()=>{if(d){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[d]);let P=()=>{c(!0)},N=()=>{c(!1),f(!1)};return o?n!=="intent"?[m,E,{}]:[m,E,{onFocus:Bn(x,P),onBlur:Bn(h,N),onMouseEnter:Bn(y,P),onMouseLeave:Bn(b,N),onTouchStart:Bn(v,P)}]:[!1,E,{}]}function Bn(n,l){return o=>{n&&n(o),o.defaultPrevented||l(o)}}function Lx({page:n,...l}){let{router:o}=_0(),d=p.useMemo(()=>N0(o.routes,n,o.basename),[o.routes,n,o.basename]);return d?p.createElement(Fx,{page:n,matches:d,...l}):null}function Bx(n){let{manifest:l,routeModules:o}=L0(),[d,c]=p.useState([]);return p.useEffect(()=>{let m=!1;return Ex(n,l,o).then(f=>{m||c(f)}),()=>{m=!0}},[n,l,o]),d}function Fx({page:n,matches:l,...o}){let d=Vr(),{manifest:c,routeModules:m}=L0(),{basename:f}=_0(),{loaderData:x,matches:h}=Ix(),y=p.useMemo(()=>Gu(n,l,h,c,d,"data"),[n,l,h,c,d]),b=p.useMemo(()=>Gu(n,l,h,c,d,"assets"),[n,l,h,c,d]),v=p.useMemo(()=>{if(n===d.pathname+d.search+d.hash)return[];let N=new Set,R=!1;if(l.forEach(k=>{let D=c.routes[k.route.id];!D||!D.hasLoader||(!y.some(S=>S.route.id===k.route.id)&&k.route.id in x&&m[k.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:N.add(k.route.id))}),N.size===0)return[];let w=Nx(n,f,"data");return R&&N.size>0&&w.searchParams.set("_routes",l.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[f,x,d,c,y,l,n,m]),E=p.useMemo(()=>Dx(b,c),[b,c]),P=Bx(b);return p.createElement(p.Fragment,null,v.map(N=>p.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...o})),E.map(N=>p.createElement("link",{key:N,rel:"modulepreload",href:N,...o})),P.map(({key:N,link:R})=>p.createElement("link",{key:N,nonce:o.nonce,...R})))}function Ax(...n){return l=>{n.forEach(o=>{typeof o=="function"?o(l):o!=null&&(o.current=l)})}}var B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B0&&(window.__reactRouterVersion="7.10.1")}catch{}function Ox({basename:n,children:l,unstable_useTransitions:o,window:d}){let c=p.useRef();c.current==null&&(c.current=kp({window:d,v5Compat:!0}));let m=c.current,[f,x]=p.useState({action:m.action,location:m.location}),h=p.useCallback(y=>{o===!1?x(y):p.startTransition(()=>x(y))},[o]);return p.useLayoutEffect(()=>m.listen(h),[m,h]),p.createElement(px,{basename:n,children:l,location:f.location,navigationType:f.action,navigator:m,unstable_useTransitions:o===!0})}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vl=p.forwardRef(function({onClick:l,discover:o="render",prefetch:d="none",relative:c,reloadDocument:m,replace:f,state:x,target:h,to:y,preventScrollReset:b,viewTransition:v,...E},P){let{basename:N,unstable_useTransitions:R}=p.useContext(Wt),w=typeof y=="string"&&F0.test(y),k,D=!1;if(typeof y=="string"&&w&&(k=y,B0))try{let ve=new URL(window.location.href),we=y.startsWith("//")?new URL(ve.protocol+y):new URL(y),te=wr(we.pathname,N);we.origin===ve.origin&&te!=null?y=te+we.search+we.hash:D=!0}catch{Vt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=Xp(y,{relative:c}),[L,V,T]=_x(d,E),I=Ux(y,{replace:f,state:x,target:h,preventScrollReset:b,relative:c,viewTransition:v,unstable_useTransitions:R});function q(ve){l&&l(ve),ve.defaultPrevented||I(ve)}let se=p.createElement("a",{...E,...T,href:k||S,onClick:D||m?l:q,ref:Ax(P,V),target:h,"data-discover":!w&&o==="render"?"true":void 0});return L&&!w?p.createElement(p.Fragment,null,se,p.createElement(Lx,{page:S})):se});vl.displayName="Link";var zx=p.forwardRef(function({"aria-current":l="page",caseSensitive:o=!1,className:d="",end:c=!1,style:m,to:f,viewTransition:x,children:h,...y},b){let v=zn(f,{relative:y.relative}),E=Vr(),P=p.useContext(yl),{navigator:N,basename:R}=p.useContext(Wt),w=P!=null&&Kx(v)&&x===!0,k=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,D=E.pathname,S=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(D=D.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&R&&(S=wr(S,R)||S);const L=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let V=D===k||!c&&D.startsWith(k)&&D.charAt(L)==="/",T=S!=null&&(S===k||!c&&S.startsWith(k)&&S.charAt(k.length)==="/"),I={isActive:V,isPending:T,isTransitioning:w},q=V?l:void 0,se;typeof d=="function"?se=d(I):se=[d,V?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ve=typeof m=="function"?m(I):m;return p.createElement(vl,{...y,"aria-current":q,className:se,ref:b,style:ve,to:f,viewTransition:x},typeof h=="function"?h(I):h)});zx.displayName="NavLink";var Mx=p.forwardRef(({discover:n="render",fetcherKey:l,navigate:o,reloadDocument:d,replace:c,state:m,method:f=il,action:x,onSubmit:h,relative:y,preventScrollReset:b,viewTransition:v,...E},P)=>{let{unstable_useTransitions:N}=p.useContext(Wt),R=Wx(),w=qx(x,{relative:y}),k=f.toLowerCase()==="get"?"get":"post",D=typeof x=="string"&&F0.test(x),S=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let V=L.nativeEvent.submitter,T=V?.getAttribute("formmethod")||f,I=()=>R(V||L.currentTarget,{fetcherKey:l,method:T,navigate:o,replace:c,state:m,relative:y,preventScrollReset:b,viewTransition:v});N&&o!==!1?p.startTransition(()=>I()):I()};return p.createElement("form",{ref:P,method:k,action:w,onSubmit:d?h:S,...E,"data-discover":!D&&n==="render"?"true":void 0})});Mx.displayName="Form";function $x(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A0(n){let l=p.useContext($a);return qe(l,$x(n)),l}function Ux(n,{target:l,replace:o,state:d,preventScrollReset:c,relative:m,viewTransition:f,unstable_useTransitions:x}={}){let h=kt(),y=Vr(),b=zn(n,{relative:m});return p.useCallback(v=>{if(vx(v,l)){v.preventDefault();let E=o!==void 0?o:An(y)===An(b),P=()=>h(n,{replace:E,state:d,preventScrollReset:c,relative:m,viewTransition:f});x?p.startTransition(()=>P()):P()}},[y,h,b,o,d,l,n,c,m,f,x])}var Hx=0,Vx=()=>`__${String(++Hx)}__`;function Wx(){let{router:n}=A0("useSubmit"),{basename:l}=p.useContext(Wt),o=dx(),d=n.fetch,c=n.navigate;return p.useCallback(async(m,f={})=>{let{action:x,method:h,encType:y,formData:b,body:v}=jx(m,l);if(f.navigate===!1){let E=f.fetcherKey||Vx();await d(E,o,f.action||x,{preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||h,formEncType:f.encType||y,flushSync:f.flushSync})}else await c(f.action||x,{preventScrollReset:f.preventScrollReset,formData:b,body:v,formMethod:f.method||h,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:o,flushSync:f.flushSync,viewTransition:f.viewTransition})},[d,c,l,o])}function qx(n,{relative:l}={}){let{basename:o}=p.useContext(Wt),d=p.useContext(Zt);qe(d,"useFormAction must be used inside a RouteContext");let[c]=d.matches.slice(-1),m={...zn(n||".",{relative:l})},f=Vr();if(n==null){m.search=f.search;let x=new URLSearchParams(m.search),h=x.getAll("index");if(h.some(b=>b==="")){x.delete("index"),h.filter(v=>v).forEach(v=>x.append("index",v));let b=x.toString();m.search=b?`?${b}`:""}}return(!n||n===".")&&c.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(m.pathname=m.pathname==="/"?o:vr([o,m.pathname])),An(m)}function Kx(n,{relative:l}={}){let o=p.useContext(D0);qe(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=A0("useViewTransitionState"),c=zn(n,{relative:l});if(!o.isTransitioning)return!1;let m=wr(o.currentLocation.pathname,d)||o.currentLocation.pathname,f=wr(o.nextLocation.pathname,d)||o.nextLocation.pathname;return pl(c.pathname,f)!=null||pl(c.pathname,m)!=null}var Qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(n,l)=>{const o=p.forwardRef(({color:d="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:f,className:x="",children:h,...y},b)=>p.createElement("svg",{ref:b,...Qx,width:c,height:c,stroke:d,strokeWidth:f?Number(m)*24/Number(c):m,className:["lucide",`lucide-${Yx(n)}`,x].join(" "),...y},[...l.map(([v,E])=>p.createElement(v,E)),...Array.isArray(h)?h:[h]]));return o.displayName=`${n}`,o};const Di=Ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const wl=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Jx=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const qi=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const xl=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Ki=Ge("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);const Ti=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Xx=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Gx=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Zx=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Ri=Ge("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Zu=Ge("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const ca=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ha=Ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const eg=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Va=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const At=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const el=Ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const tg=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Qi=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const e0=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ma=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function O0(n,l){return function(){return n.apply(l,arguments)}}const{toString:rg}=Object.prototype,{getPrototypeOf:Yi}=Object,{iterator:kl,toStringTag:z0}=Symbol,jl=(n=>l=>{const o=rg.call(l);return n[o]||(n[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),er=n=>(n=n.toLowerCase(),l=>jl(l)===n),Nl=n=>l=>typeof l===n,{isArray:Wa}=Array,za=Nl("undefined");function Mn(n){return n!==null&&!za(n)&&n.constructor!==null&&!za(n.constructor)&&Pt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const M0=er("ArrayBuffer");function ag(n){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(n):l=n&&n.buffer&&M0(n.buffer),l}const ng=Nl("string"),Pt=Nl("function"),$0=Nl("number"),$n=n=>n!==null&&typeof n=="object",sg=n=>n===!0||n===!1,cl=n=>{if(jl(n)!=="object")return!1;const l=Yi(n);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(z0 in n)&&!(kl in n)},lg=n=>{if(!$n(n)||Mn(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},og=er("Date"),ig=er("File"),dg=er("Blob"),cg=er("FileList"),ug=n=>$n(n)&&Pt(n.pipe),mg=n=>{let l;return n&&(typeof FormData=="function"&&n instanceof FormData||Pt(n.append)&&((l=jl(n))==="formdata"||l==="object"&&Pt(n.toString)&&n.toString()==="[object FormData]"))},fg=er("URLSearchParams"),[pg,xg,gg,hg]=["ReadableStream","Request","Response","Headers"].map(er),yg=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Un(n,l,{allOwnKeys:o=!1}={}){if(n===null||typeof n>"u")return;let d,c;if(typeof n!="object"&&(n=[n]),Wa(n))for(d=0,c=n.length;d<c;d++)l.call(null,n[d],d,n);else{if(Mn(n))return;const m=o?Object.getOwnPropertyNames(n):Object.keys(n),f=m.length;let x;for(d=0;d<f;d++)x=m[d],l.call(null,n[x],x,n)}}function U0(n,l){if(Mn(n))return null;l=l.toLowerCase();const o=Object.keys(n);let d=o.length,c;for(;d-- >0;)if(c=o[d],l===c.toLowerCase())return c;return null}const ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H0=n=>!za(n)&&n!==ia;function Pi(){const{caseless:n,skipUndefined:l}=H0(this)&&this||{},o={},d=(c,m)=>{const f=n&&U0(o,m)||m;cl(o[f])&&cl(c)?o[f]=Pi(o[f],c):cl(c)?o[f]=Pi({},c):Wa(c)?o[f]=c.slice():(!l||!za(c))&&(o[f]=c)};for(let c=0,m=arguments.length;c<m;c++)arguments[c]&&Un(arguments[c],d);return o}const bg=(n,l,o,{allOwnKeys:d}={})=>(Un(l,(c,m)=>{o&&Pt(c)?n[m]=O0(c,o):n[m]=c},{allOwnKeys:d}),n),vg=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),wg=(n,l,o,d)=>{n.prototype=Object.create(l.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:l.prototype}),o&&Object.assign(n.prototype,o)},kg=(n,l,o,d)=>{let c,m,f;const x={};if(l=l||{},n==null)return l;do{for(c=Object.getOwnPropertyNames(n),m=c.length;m-- >0;)f=c[m],(!d||d(f,n,l))&&!x[f]&&(l[f]=n[f],x[f]=!0);n=o!==!1&&Yi(n)}while(n&&(!o||o(n,l))&&n!==Object.prototype);return l},jg=(n,l,o)=>{n=String(n),(o===void 0||o>n.length)&&(o=n.length),o-=l.length;const d=n.indexOf(l,o);return d!==-1&&d===o},Ng=n=>{if(!n)return null;if(Wa(n))return n;let l=n.length;if(!$0(l))return null;const o=new Array(l);for(;l-- >0;)o[l]=n[l];return o},Sg=(n=>l=>n&&l instanceof n)(typeof Uint8Array<"u"&&Yi(Uint8Array)),Cg=(n,l)=>{const d=(n&&n[kl]).call(n);let c;for(;(c=d.next())&&!c.done;){const m=c.value;l.call(n,m[0],m[1])}},Eg=(n,l)=>{let o;const d=[];for(;(o=n.exec(l))!==null;)d.push(o);return d},Dg=er("HTMLFormElement"),Tg=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,d,c){return d.toUpperCase()+c}),t0=(({hasOwnProperty:n})=>(l,o)=>n.call(l,o))(Object.prototype),Rg=er("RegExp"),V0=(n,l)=>{const o=Object.getOwnPropertyDescriptors(n),d={};Un(o,(c,m)=>{let f;(f=l(c,m,n))!==!1&&(d[m]=f||c)}),Object.defineProperties(n,d)},Pg=n=>{V0(n,(l,o)=>{if(Pt(n)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const d=n[o];if(Pt(d)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Ig=(n,l)=>{const o={},d=c=>{c.forEach(m=>{o[m]=!0})};return Wa(n)?d(n):d(String(n).split(l)),o},_g=()=>{},Lg=(n,l)=>n!=null&&Number.isFinite(n=+n)?n:l;function Bg(n){return!!(n&&Pt(n.append)&&n[z0]==="FormData"&&n[kl])}const Fg=n=>{const l=new Array(10),o=(d,c)=>{if($n(d)){if(l.indexOf(d)>=0)return;if(Mn(d))return d;if(!("toJSON"in d)){l[c]=d;const m=Wa(d)?[]:{};return Un(d,(f,x)=>{const h=o(f,c+1);!za(h)&&(m[x]=h)}),l[c]=void 0,m}}return d};return o(n,0)},Ag=er("AsyncFunction"),Og=n=>n&&($n(n)||Pt(n))&&Pt(n.then)&&Pt(n.catch),W0=((n,l)=>n?setImmediate:l?((o,d)=>(ia.addEventListener("message",({source:c,data:m})=>{c===ia&&m===o&&d.length&&d.shift()()},!1),c=>{d.push(c),ia.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Pt(ia.postMessage)),zg=typeof queueMicrotask<"u"?queueMicrotask.bind(ia):typeof process<"u"&&process.nextTick||W0,Mg=n=>n!=null&&Pt(n[kl]),H={isArray:Wa,isArrayBuffer:M0,isBuffer:Mn,isFormData:mg,isArrayBufferView:ag,isString:ng,isNumber:$0,isBoolean:sg,isObject:$n,isPlainObject:cl,isEmptyObject:lg,isReadableStream:pg,isRequest:xg,isResponse:gg,isHeaders:hg,isUndefined:za,isDate:og,isFile:ig,isBlob:dg,isRegExp:Rg,isFunction:Pt,isStream:ug,isURLSearchParams:fg,isTypedArray:Sg,isFileList:cg,forEach:Un,merge:Pi,extend:bg,trim:yg,stripBOM:vg,inherits:wg,toFlatObject:kg,kindOf:jl,kindOfTest:er,endsWith:jg,toArray:Ng,forEachEntry:Cg,matchAll:Eg,isHTMLForm:Dg,hasOwnProperty:t0,hasOwnProp:t0,reduceDescriptors:V0,freezeMethods:Pg,toObjectSet:Ig,toCamelCase:Tg,noop:_g,toFiniteNumber:Lg,findKey:U0,global:ia,isContextDefined:H0,isSpecCompliantForm:Bg,toJSONObject:Fg,isAsyncFn:Ag,isThenable:Og,setImmediate:W0,asap:zg,isIterable:Mg};function De(n,l,o,d,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),c&&(this.response=c,this.status=c.status?c.status:null)}H.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const q0=De.prototype,K0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{K0[n]={value:n}});Object.defineProperties(De,K0);Object.defineProperty(q0,"isAxiosError",{value:!0});De.from=(n,l,o,d,c,m)=>{const f=Object.create(q0);H.toFlatObject(n,f,function(b){return b!==Error.prototype},y=>y!=="isAxiosError");const x=n&&n.message?n.message:"Error",h=l==null&&n?n.code:l;return De.call(f,x,h,o,d,c),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",m&&Object.assign(f,m),f};const $g=null;function Ii(n){return H.isPlainObject(n)||H.isArray(n)}function Q0(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function r0(n,l,o){return n?n.concat(l).map(function(c,m){return c=Q0(c),!o&&m?"["+c+"]":c}).join(o?".":""):l}function Ug(n){return H.isArray(n)&&!n.some(Ii)}const Hg=H.toFlatObject(H,{},null,function(l){return/^is[A-Z]/.test(l)});function Sl(n,l,o){if(!H.isObject(n))throw new TypeError("target must be an object");l=l||new FormData,o=H.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,w){return!H.isUndefined(w[R])});const d=o.metaTokens,c=o.visitor||b,m=o.dots,f=o.indexes,h=(o.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(l);if(!H.isFunction(c))throw new TypeError("visitor must be a function");function y(N){if(N===null)return"";if(H.isDate(N))return N.toISOString();if(H.isBoolean(N))return N.toString();if(!h&&H.isBlob(N))throw new De("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(N)||H.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function b(N,R,w){let k=N;if(N&&!w&&typeof N=="object"){if(H.endsWith(R,"{}"))R=d?R:R.slice(0,-2),N=JSON.stringify(N);else if(H.isArray(N)&&Ug(N)||(H.isFileList(N)||H.endsWith(R,"[]"))&&(k=H.toArray(N)))return R=Q0(R),k.forEach(function(S,L){!(H.isUndefined(S)||S===null)&&l.append(f===!0?r0([R],L,m):f===null?R:R+"[]",y(S))}),!1}return Ii(N)?!0:(l.append(r0(w,R,m),y(N)),!1)}const v=[],E=Object.assign(Hg,{defaultVisitor:b,convertValue:y,isVisitable:Ii});function P(N,R){if(!H.isUndefined(N)){if(v.indexOf(N)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(N),H.forEach(N,function(k,D){(!(H.isUndefined(k)||k===null)&&c.call(l,k,H.isString(D)?D.trim():D,R,E))===!0&&P(k,R?R.concat(D):[D])}),v.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return P(n),l}function a0(n){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return l[d]})}function Ji(n,l){this._pairs=[],n&&Sl(n,this,l)}const Y0=Ji.prototype;Y0.append=function(l,o){this._pairs.push([l,o])};Y0.toString=function(l){const o=l?function(d){return l.call(this,d,a0)}:a0;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function Vg(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function J0(n,l,o){if(!l)return n;const d=o&&o.encode||Vg;H.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let m;if(c?m=c(l,o):m=H.isURLSearchParams(l)?l.toString():new Ji(l,o).toString(d),m){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+m}return n}class n0{constructor(){this.handlers=[]}use(l,o,d){return this.handlers.push({fulfilled:l,rejected:o,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){H.forEach(this.handlers,function(d){d!==null&&l(d)})}}const X0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wg=typeof URLSearchParams<"u"?URLSearchParams:Ji,qg=typeof FormData<"u"?FormData:null,Kg=typeof Blob<"u"?Blob:null,Qg={isBrowser:!0,classes:{URLSearchParams:Wg,FormData:qg,Blob:Kg},protocols:["http","https","file","blob","url","data"]},Xi=typeof window<"u"&&typeof document<"u",_i=typeof navigator=="object"&&navigator||void 0,Yg=Xi&&(!_i||["ReactNative","NativeScript","NS"].indexOf(_i.product)<0),Jg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xg=Xi&&window.location.href||"http://localhost",Gg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xi,hasStandardBrowserEnv:Yg,hasStandardBrowserWebWorkerEnv:Jg,navigator:_i,origin:Xg},Symbol.toStringTag,{value:"Module"})),wt={...Gg,...Qg};function Zg(n,l){return Sl(n,new wt.classes.URLSearchParams,{visitor:function(o,d,c,m){return wt.isNode&&H.isBuffer(o)?(this.append(d,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...l})}function eh(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(l=>l[0]==="[]"?"":l[1]||l[0])}function th(n){const l={},o=Object.keys(n);let d;const c=o.length;let m;for(d=0;d<c;d++)m=o[d],l[m]=n[m];return l}function G0(n){function l(o,d,c,m){let f=o[m++];if(f==="__proto__")return!0;const x=Number.isFinite(+f),h=m>=o.length;return f=!f&&H.isArray(c)?c.length:f,h?(H.hasOwnProp(c,f)?c[f]=[c[f],d]:c[f]=d,!x):((!c[f]||!H.isObject(c[f]))&&(c[f]=[]),l(o,d,c[f],m)&&H.isArray(c[f])&&(c[f]=th(c[f])),!x)}if(H.isFormData(n)&&H.isFunction(n.entries)){const o={};return H.forEachEntry(n,(d,c)=>{l(eh(d),c,o,0)}),o}return null}function rh(n,l,o){if(H.isString(n))try{return(l||JSON.parse)(n),H.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(o||JSON.stringify)(n)}const Hn={transitional:X0,adapter:["xhr","http","fetch"],transformRequest:[function(l,o){const d=o.getContentType()||"",c=d.indexOf("application/json")>-1,m=H.isObject(l);if(m&&H.isHTMLForm(l)&&(l=new FormData(l)),H.isFormData(l))return c?JSON.stringify(G0(l)):l;if(H.isArrayBuffer(l)||H.isBuffer(l)||H.isStream(l)||H.isFile(l)||H.isBlob(l)||H.isReadableStream(l))return l;if(H.isArrayBufferView(l))return l.buffer;if(H.isURLSearchParams(l))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let x;if(m){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Zg(l,this.formSerializer).toString();if((x=H.isFileList(l))||d.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Sl(x?{"files[]":l}:l,h&&new h,this.formSerializer)}}return m||c?(o.setContentType("application/json",!1),rh(l)):l}],transformResponse:[function(l){const o=this.transitional||Hn.transitional,d=o&&o.forcedJSONParsing,c=this.responseType==="json";if(H.isResponse(l)||H.isReadableStream(l))return l;if(l&&H.isString(l)&&(d&&!this.responseType||c)){const f=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(l,this.parseReviver)}catch(x){if(f)throw x.name==="SyntaxError"?De.from(x,De.ERR_BAD_RESPONSE,this,null,this.response):x}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Hn.headers[n]={}});const ah=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nh=n=>{const l={};let o,d,c;return n&&n.split(`
`).forEach(function(f){c=f.indexOf(":"),o=f.substring(0,c).trim().toLowerCase(),d=f.substring(c+1).trim(),!(!o||l[o]&&ah[o])&&(o==="set-cookie"?l[o]?l[o].push(d):l[o]=[d]:l[o]=l[o]?l[o]+", "+d:d)}),l},s0=Symbol("internals");function Fn(n){return n&&String(n).trim().toLowerCase()}function ul(n){return n===!1||n==null?n:H.isArray(n)?n.map(ul):String(n)}function sh(n){const l=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=o.exec(n);)l[d[1]]=d[2];return l}const lh=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ji(n,l,o,d,c){if(H.isFunction(d))return d.call(this,l,o);if(c&&(l=o),!!H.isString(l)){if(H.isString(d))return l.indexOf(d)!==-1;if(H.isRegExp(d))return d.test(l)}}function oh(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,o,d)=>o.toUpperCase()+d)}function ih(n,l){const o=H.toCamelCase(" "+l);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+o,{value:function(c,m,f){return this[d].call(this,l,c,m,f)},configurable:!0})})}let It=class{constructor(l){l&&this.set(l)}set(l,o,d){const c=this;function m(x,h,y){const b=Fn(h);if(!b)throw new Error("header name must be a non-empty string");const v=H.findKey(c,b);(!v||c[v]===void 0||y===!0||y===void 0&&c[v]!==!1)&&(c[v||h]=ul(x))}const f=(x,h)=>H.forEach(x,(y,b)=>m(y,b,h));if(H.isPlainObject(l)||l instanceof this.constructor)f(l,o);else if(H.isString(l)&&(l=l.trim())&&!lh(l))f(nh(l),o);else if(H.isObject(l)&&H.isIterable(l)){let x={},h,y;for(const b of l){if(!H.isArray(b))throw TypeError("Object iterator must return a key-value pair");x[y=b[0]]=(h=x[y])?H.isArray(h)?[...h,b[1]]:[h,b[1]]:b[1]}f(x,o)}else l!=null&&m(o,l,d);return this}get(l,o){if(l=Fn(l),l){const d=H.findKey(this,l);if(d){const c=this[d];if(!o)return c;if(o===!0)return sh(c);if(H.isFunction(o))return o.call(this,c,d);if(H.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,o){if(l=Fn(l),l){const d=H.findKey(this,l);return!!(d&&this[d]!==void 0&&(!o||ji(this,this[d],d,o)))}return!1}delete(l,o){const d=this;let c=!1;function m(f){if(f=Fn(f),f){const x=H.findKey(d,f);x&&(!o||ji(d,d[x],x,o))&&(delete d[x],c=!0)}}return H.isArray(l)?l.forEach(m):m(l),c}clear(l){const o=Object.keys(this);let d=o.length,c=!1;for(;d--;){const m=o[d];(!l||ji(this,this[m],m,l,!0))&&(delete this[m],c=!0)}return c}normalize(l){const o=this,d={};return H.forEach(this,(c,m)=>{const f=H.findKey(d,m);if(f){o[f]=ul(c),delete o[m];return}const x=l?oh(m):String(m).trim();x!==m&&delete o[m],o[x]=ul(c),d[x]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const o=Object.create(null);return H.forEach(this,(d,c)=>{d!=null&&d!==!1&&(o[c]=l&&H.isArray(d)?d.join(", "):d)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,o])=>l+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...o){const d=new this(l);return o.forEach(c=>d.set(c)),d}static accessor(l){const d=(this[s0]=this[s0]={accessors:{}}).accessors,c=this.prototype;function m(f){const x=Fn(f);d[x]||(ih(c,f),d[x]=!0)}return H.isArray(l)?l.forEach(m):m(l),this}};It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(It.prototype,({value:n},l)=>{let o=l[0].toUpperCase()+l.slice(1);return{get:()=>n,set(d){this[o]=d}}});H.freezeMethods(It);function Ni(n,l){const o=this||Hn,d=l||o,c=It.from(d.headers);let m=d.data;return H.forEach(n,function(x){m=x.call(o,m,c.normalize(),l?l.status:void 0)}),c.normalize(),m}function Z0(n){return!!(n&&n.__CANCEL__)}function qa(n,l,o){De.call(this,n??"canceled",De.ERR_CANCELED,l,o),this.name="CanceledError"}H.inherits(qa,De,{__CANCEL__:!0});function em(n,l,o){const d=o.config.validateStatus;!o.status||!d||d(o.status)?n(o):l(new De("Request failed with status code "+o.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function dh(n){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return l&&l[1]||""}function ch(n,l){n=n||10;const o=new Array(n),d=new Array(n);let c=0,m=0,f;return l=l!==void 0?l:1e3,function(h){const y=Date.now(),b=d[m];f||(f=y),o[c]=h,d[c]=y;let v=m,E=0;for(;v!==c;)E+=o[v++],v=v%n;if(c=(c+1)%n,c===m&&(m=(m+1)%n),y-f<l)return;const P=b&&y-b;return P?Math.round(E*1e3/P):void 0}}function uh(n,l){let o=0,d=1e3/l,c,m;const f=(y,b=Date.now())=>{o=b,c=null,m&&(clearTimeout(m),m=null),n(...y)};return[(...y)=>{const b=Date.now(),v=b-o;v>=d?f(y,b):(c=y,m||(m=setTimeout(()=>{m=null,f(c)},d-v)))},()=>c&&f(c)]}const gl=(n,l,o=3)=>{let d=0;const c=ch(50,250);return uh(m=>{const f=m.loaded,x=m.lengthComputable?m.total:void 0,h=f-d,y=c(h),b=f<=x;d=f;const v={loaded:f,total:x,progress:x?f/x:void 0,bytes:h,rate:y||void 0,estimated:y&&x&&b?(x-f)/y:void 0,event:m,lengthComputable:x!=null,[l?"download":"upload"]:!0};n(v)},o)},l0=(n,l)=>{const o=n!=null;return[d=>l[0]({lengthComputable:o,total:n,loaded:d}),l[1]]},o0=n=>(...l)=>H.asap(()=>n(...l)),mh=wt.hasStandardBrowserEnv?((n,l)=>o=>(o=new URL(o,wt.origin),n.protocol===o.protocol&&n.host===o.host&&(l||n.port===o.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,fh=wt.hasStandardBrowserEnv?{write(n,l,o,d,c,m,f){if(typeof document>"u")return;const x=[`${n}=${encodeURIComponent(l)}`];H.isNumber(o)&&x.push(`expires=${new Date(o).toUTCString()}`),H.isString(d)&&x.push(`path=${d}`),H.isString(c)&&x.push(`domain=${c}`),m===!0&&x.push("secure"),H.isString(f)&&x.push(`SameSite=${f}`),document.cookie=x.join("; ")},read(n){if(typeof document>"u")return null;const l=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return l?decodeURIComponent(l[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ph(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function xh(n,l){return l?n.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):n}function tm(n,l,o){let d=!ph(l);return n&&(d||o==!1)?xh(n,l):l}const i0=n=>n instanceof It?{...n}:n;function ua(n,l){l=l||{};const o={};function d(y,b,v,E){return H.isPlainObject(y)&&H.isPlainObject(b)?H.merge.call({caseless:E},y,b):H.isPlainObject(b)?H.merge({},b):H.isArray(b)?b.slice():b}function c(y,b,v,E){if(H.isUndefined(b)){if(!H.isUndefined(y))return d(void 0,y,v,E)}else return d(y,b,v,E)}function m(y,b){if(!H.isUndefined(b))return d(void 0,b)}function f(y,b){if(H.isUndefined(b)){if(!H.isUndefined(y))return d(void 0,y)}else return d(void 0,b)}function x(y,b,v){if(v in l)return d(y,b);if(v in n)return d(void 0,y)}const h={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:x,headers:(y,b,v)=>c(i0(y),i0(b),v,!0)};return H.forEach(Object.keys({...n,...l}),function(b){const v=h[b]||c,E=v(n[b],l[b],b);H.isUndefined(E)&&v!==x||(o[b]=E)}),o}const rm=n=>{const l=ua({},n);let{data:o,withXSRFToken:d,xsrfHeaderName:c,xsrfCookieName:m,headers:f,auth:x}=l;if(l.headers=f=It.from(f),l.url=J0(tm(l.baseURL,l.url,l.allowAbsoluteUrls),n.params,n.paramsSerializer),x&&f.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),H.isFormData(o)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(H.isFunction(o.getHeaders)){const h=o.getHeaders(),y=["content-type","content-length"];Object.entries(h).forEach(([b,v])=>{y.includes(b.toLowerCase())&&f.set(b,v)})}}if(wt.hasStandardBrowserEnv&&(d&&H.isFunction(d)&&(d=d(l)),d||d!==!1&&mh(l.url))){const h=c&&m&&fh.read(m);h&&f.set(c,h)}return l},gh=typeof XMLHttpRequest<"u",hh=gh&&function(n){return new Promise(function(o,d){const c=rm(n);let m=c.data;const f=It.from(c.headers).normalize();let{responseType:x,onUploadProgress:h,onDownloadProgress:y}=c,b,v,E,P,N;function R(){P&&P(),N&&N(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let w=new XMLHttpRequest;w.open(c.method.toUpperCase(),c.url,!0),w.timeout=c.timeout;function k(){if(!w)return;const S=It.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),V={data:!x||x==="text"||x==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:n,request:w};em(function(I){o(I),R()},function(I){d(I),R()},V),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(d(new De("Request aborted",De.ECONNABORTED,n,w)),w=null)},w.onerror=function(L){const V=L&&L.message?L.message:"Network Error",T=new De(V,De.ERR_NETWORK,n,w);T.event=L||null,d(T),w=null},w.ontimeout=function(){let L=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const V=c.transitional||X0;c.timeoutErrorMessage&&(L=c.timeoutErrorMessage),d(new De(L,V.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,n,w)),w=null},m===void 0&&f.setContentType(null),"setRequestHeader"in w&&H.forEach(f.toJSON(),function(L,V){w.setRequestHeader(V,L)}),H.isUndefined(c.withCredentials)||(w.withCredentials=!!c.withCredentials),x&&x!=="json"&&(w.responseType=c.responseType),y&&([E,N]=gl(y,!0),w.addEventListener("progress",E)),h&&w.upload&&([v,P]=gl(h),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",P)),(c.cancelToken||c.signal)&&(b=S=>{w&&(d(!S||S.type?new qa(null,n,w):S),w.abort(),w=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const D=dh(c.url);if(D&&wt.protocols.indexOf(D)===-1){d(new De("Unsupported protocol "+D+":",De.ERR_BAD_REQUEST,n));return}w.send(m||null)})},yh=(n,l)=>{const{length:o}=n=n?n.filter(Boolean):[];if(l||o){let d=new AbortController,c;const m=function(y){if(!c){c=!0,x();const b=y instanceof Error?y:this.reason;d.abort(b instanceof De?b:new qa(b instanceof Error?b.message:b))}};let f=l&&setTimeout(()=>{f=null,m(new De(`timeout ${l} of ms exceeded`,De.ETIMEDOUT))},l);const x=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(m):y.removeEventListener("abort",m)}),n=null)};n.forEach(y=>y.addEventListener("abort",m));const{signal:h}=d;return h.unsubscribe=()=>H.asap(x),h}},bh=function*(n,l){let o=n.byteLength;if(o<l){yield n;return}let d=0,c;for(;d<o;)c=d+l,yield n.slice(d,c),d=c},vh=async function*(n,l){for await(const o of wh(n))yield*bh(o,l)},wh=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const l=n.getReader();try{for(;;){const{done:o,value:d}=await l.read();if(o)break;yield d}}finally{await l.cancel()}},d0=(n,l,o,d)=>{const c=vh(n,l);let m=0,f,x=h=>{f||(f=!0,d&&d(h))};return new ReadableStream({async pull(h){try{const{done:y,value:b}=await c.next();if(y){x(),h.close();return}let v=b.byteLength;if(o){let E=m+=v;o(E)}h.enqueue(new Uint8Array(b))}catch(y){throw x(y),y}},cancel(h){return x(h),c.return()}},{highWaterMark:2})},c0=64*1024,{isFunction:tl}=H,kh=(({Request:n,Response:l})=>({Request:n,Response:l}))(H.global),{ReadableStream:u0,TextEncoder:m0}=H.global,f0=(n,...l)=>{try{return!!n(...l)}catch{return!1}},jh=n=>{n=H.merge.call({skipUndefined:!0},kh,n);const{fetch:l,Request:o,Response:d}=n,c=l?tl(l):typeof fetch=="function",m=tl(o),f=tl(d);if(!c)return!1;const x=c&&tl(u0),h=c&&(typeof m0=="function"?(N=>R=>N.encode(R))(new m0):async N=>new Uint8Array(await new o(N).arrayBuffer())),y=m&&x&&f0(()=>{let N=!1;const R=new o(wt.origin,{body:new u0,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!R}),b=f&&x&&f0(()=>H.isReadableStream(new d("").body)),v={stream:b&&(N=>N.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!v[N]&&(v[N]=(R,w)=>{let k=R&&R[N];if(k)return k.call(R);throw new De(`Response type '${N}' is not supported`,De.ERR_NOT_SUPPORT,w)})});const E=async N=>{if(N==null)return 0;if(H.isBlob(N))return N.size;if(H.isSpecCompliantForm(N))return(await new o(wt.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(H.isArrayBufferView(N)||H.isArrayBuffer(N))return N.byteLength;if(H.isURLSearchParams(N)&&(N=N+""),H.isString(N))return(await h(N)).byteLength},P=async(N,R)=>{const w=H.toFiniteNumber(N.getContentLength());return w??E(R)};return async N=>{let{url:R,method:w,data:k,signal:D,cancelToken:S,timeout:L,onDownloadProgress:V,onUploadProgress:T,responseType:I,headers:q,withCredentials:se="same-origin",fetchOptions:ve}=rm(N),we=l||fetch;I=I?(I+"").toLowerCase():"text";let te=yh([D,S&&S.toAbortSignal()],L),W=null;const ke=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let ye;try{if(T&&y&&w!=="get"&&w!=="head"&&(ye=await P(q,k))!==0){let j=new o(R,{method:"POST",body:k,duplex:"half"}),F;if(H.isFormData(k)&&(F=j.headers.get("content-type"))&&q.setContentType(F),j.body){const[Y,ie]=l0(ye,gl(o0(T)));k=d0(j.body,c0,Y,ie)}}H.isString(se)||(se=se?"include":"omit");const je=m&&"credentials"in o.prototype,K={...ve,signal:te,method:w.toUpperCase(),headers:q.normalize().toJSON(),body:k,duplex:"half",credentials:je?se:void 0};W=m&&new o(R,K);let M=await(m?we(W,ve):we(R,K));const J=b&&(I==="stream"||I==="response");if(b&&(V||J&&ke)){const j={};["status","statusText","headers"].forEach(de=>{j[de]=M[de]});const F=H.toFiniteNumber(M.headers.get("content-length")),[Y,ie]=V&&l0(F,gl(o0(V),!0))||[];M=new d(d0(M.body,c0,Y,()=>{ie&&ie(),ke&&ke()}),j)}I=I||"text";let ae=await v[H.findKey(v,I)||"text"](M,N);return!J&&ke&&ke(),await new Promise((j,F)=>{em(j,F,{data:ae,headers:It.from(M.headers),status:M.status,statusText:M.statusText,config:N,request:W})})}catch(je){throw ke&&ke(),je&&je.name==="TypeError"&&/Load failed|fetch/i.test(je.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,N,W),{cause:je.cause||je}):De.from(je,je&&je.code,N,W)}}},Nh=new Map,am=n=>{let l=n&&n.env||{};const{fetch:o,Request:d,Response:c}=l,m=[d,c,o];let f=m.length,x=f,h,y,b=Nh;for(;x--;)h=m[x],y=b.get(h),y===void 0&&b.set(h,y=x?new Map:jh(l)),b=y;return y};am();const Gi={http:$g,xhr:hh,fetch:{get:am}};H.forEach(Gi,(n,l)=>{if(n){try{Object.defineProperty(n,"name",{value:l})}catch{}Object.defineProperty(n,"adapterName",{value:l})}});const p0=n=>`- ${n}`,Sh=n=>H.isFunction(n)||n===null||n===!1;function Ch(n,l){n=H.isArray(n)?n:[n];const{length:o}=n;let d,c;const m={};for(let f=0;f<o;f++){d=n[f];let x;if(c=d,!Sh(d)&&(c=Gi[(x=String(d)).toLowerCase()],c===void 0))throw new De(`Unknown adapter '${x}'`);if(c&&(H.isFunction(c)||(c=c.get(l))))break;m[x||"#"+f]=c}if(!c){const f=Object.entries(m).map(([h,y])=>`adapter ${h} `+(y===!1?"is not supported by the environment":"is not available in the build"));let x=o?f.length>1?`since :
`+f.map(p0).join(`
`):" "+p0(f[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return c}const nm={getAdapter:Ch,adapters:Gi};function Si(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qa(null,n)}function x0(n){return Si(n),n.headers=It.from(n.headers),n.data=Ni.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),nm.getAdapter(n.adapter||Hn.adapter,n)(n).then(function(d){return Si(n),d.data=Ni.call(n,n.transformResponse,d),d.headers=It.from(d.headers),d},function(d){return Z0(d)||(Si(n),d&&d.response&&(d.response.data=Ni.call(n,n.transformResponse,d.response),d.response.headers=It.from(d.response.headers))),Promise.reject(d)})}const sm="1.13.2",Cl={};["object","boolean","number","function","string","symbol"].forEach((n,l)=>{Cl[n]=function(d){return typeof d===n||"a"+(l<1?"n ":" ")+n}});const g0={};Cl.transitional=function(l,o,d){function c(m,f){return"[Axios v"+sm+"] Transitional option '"+m+"'"+f+(d?". "+d:"")}return(m,f,x)=>{if(l===!1)throw new De(c(f," has been removed"+(o?" in "+o:"")),De.ERR_DEPRECATED);return o&&!g0[f]&&(g0[f]=!0,console.warn(c(f," has been deprecated since v"+o+" and will be removed in the near future"))),l?l(m,f,x):!0}};Cl.spelling=function(l){return(o,d)=>(console.warn(`${d} is likely a misspelling of ${l}`),!0)};function Eh(n,l,o){if(typeof n!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let c=d.length;for(;c-- >0;){const m=d[c],f=l[m];if(f){const x=n[m],h=x===void 0||f(x,m,n);if(h!==!0)throw new De("option "+m+" must be "+h,De.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new De("Unknown option "+m,De.ERR_BAD_OPTION)}}const ml={assertOptions:Eh,validators:Cl},lr=ml.validators;let da=class{constructor(l){this.defaults=l||{},this.interceptors={request:new n0,response:new n0}}async request(l,o){try{return await this._request(l,o)}catch(d){if(d instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const m=c.stack?c.stack.replace(/^.+\n/,""):"";try{d.stack?m&&!String(d.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+m):d.stack=m}catch{}}throw d}}_request(l,o){typeof l=="string"?(o=o||{},o.url=l):o=l||{},o=ua(this.defaults,o);const{transitional:d,paramsSerializer:c,headers:m}=o;d!==void 0&&ml.assertOptions(d,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),c!=null&&(H.isFunction(c)?o.paramsSerializer={serialize:c}:ml.assertOptions(c,{encode:lr.function,serialize:lr.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),ml.assertOptions(o,{baseUrl:lr.spelling("baseURL"),withXsrfToken:lr.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let f=m&&H.merge(m.common,m[o.method]);m&&H.forEach(["delete","get","head","post","put","patch","common"],N=>{delete m[N]}),o.headers=It.concat(f,m);const x=[];let h=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(o)===!1||(h=h&&R.synchronous,x.unshift(R.fulfilled,R.rejected))});const y=[];this.interceptors.response.forEach(function(R){y.push(R.fulfilled,R.rejected)});let b,v=0,E;if(!h){const N=[x0.bind(this),void 0];for(N.unshift(...x),N.push(...y),E=N.length,b=Promise.resolve(o);v<E;)b=b.then(N[v++],N[v++]);return b}E=x.length;let P=o;for(;v<E;){const N=x[v++],R=x[v++];try{P=N(P)}catch(w){R.call(this,w);break}}try{b=x0.call(this,P)}catch(N){return Promise.reject(N)}for(v=0,E=y.length;v<E;)b=b.then(y[v++],y[v++]);return b}getUri(l){l=ua(this.defaults,l);const o=tm(l.baseURL,l.url,l.allowAbsoluteUrls);return J0(o,l.params,l.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(l){da.prototype[l]=function(o,d){return this.request(ua(d||{},{method:l,url:o,data:(d||{}).data}))}});H.forEach(["post","put","patch"],function(l){function o(d){return function(m,f,x){return this.request(ua(x||{},{method:l,headers:d?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}da.prototype[l]=o(),da.prototype[l+"Form"]=o(!0)});let Dh=class lm{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const d=this;this.promise.then(c=>{if(!d._listeners)return;let m=d._listeners.length;for(;m-- >0;)d._listeners[m](c);d._listeners=null}),this.promise.then=c=>{let m;const f=new Promise(x=>{d.subscribe(x),m=x}).then(c);return f.cancel=function(){d.unsubscribe(m)},f},l(function(m,f,x){d.reason||(d.reason=new qa(m,f,x),o(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const o=this._listeners.indexOf(l);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const l=new AbortController,o=d=>{l.abort(d)};return this.subscribe(o),l.signal.unsubscribe=()=>this.unsubscribe(o),l.signal}static source(){let l;return{token:new lm(function(c){l=c}),cancel:l}}};function Th(n){return function(o){return n.apply(null,o)}}function Rh(n){return H.isObject(n)&&n.isAxiosError===!0}const Li={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Li).forEach(([n,l])=>{Li[l]=n});function om(n){const l=new da(n),o=O0(da.prototype.request,l);return H.extend(o,da.prototype,l,{allOwnKeys:!0}),H.extend(o,l,null,{allOwnKeys:!0}),o.create=function(c){return om(ua(n,c))},o}const tt=om(Hn);tt.Axios=da;tt.CanceledError=qa;tt.CancelToken=Dh;tt.isCancel=Z0;tt.VERSION=sm;tt.toFormData=Sl;tt.AxiosError=De;tt.Cancel=tt.CanceledError;tt.all=function(l){return Promise.all(l)};tt.spread=Th;tt.isAxiosError=Rh;tt.mergeConfig=ua;tt.AxiosHeaders=It;tt.formToJSON=n=>G0(H.isHTMLForm(n)?new FormData(n):n);tt.getAdapter=nm.getAdapter;tt.HttpStatusCode=Li;tt.default=tt;const{Axios:Bb,AxiosError:Fb,CanceledError:Ab,isCancel:Ob,CancelToken:zb,VERSION:Mb,all:$b,Cancel:Ub,isAxiosError:Hb,spread:Vb,toFormData:Wb,AxiosHeaders:qb,HttpStatusCode:Kb,formToJSON:Qb,getAdapter:Yb,mergeConfig:Jb}=tt;console.log("https://fishowerp.onrender.com");const Pe=tt.create({baseURL:"https://fishowerp.onrender.com",timeout:1e4,headers:{"Content-Type":"application/json"}});async function Ph(n){return(await Pe.post("/api/auth/signup",{fullName:n.fullName,username:n.username,email:n.email,password:n.password,role:n.role})).data}const Ih=n=>Pe.post("/api/auth/login",{username:n.username,password:n.password}),_h=()=>{const[n,l]=p.useState(""),[o,d]=p.useState(""),[c,m]=p.useState(!1),f=kt(),x=async y=>{y.preventDefault(),m(!0);try{const b=await Ih({username:n.trim(),password:o}),{accessToken:v,user:E}=b.data;localStorage.setItem("accessToken",v),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("username",E.username),localStorage.setItem("role",E.role),localStorage.setItem("user",JSON.stringify(E)),f("/dashboard")}catch(b){if(b?.response){const v=b.response.status,E=b.response.data?.message||"Login failed";alert(v===401?"Invalid username or password":E)}else alert("Network error. Please try again.")}finally{m(!1)}},h=()=>{if(!window.installPWA){alert("App installation is not available right now.");return}window.confirm("Do you want to download and install the Fishow ERP App on your device?")&&window.installPWA()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-colors duration-200",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-600 transition-colors duration-200",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:r.jsx(Ki,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Fishow"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Powered by Popular Fish"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Developed by Cydexsoft"})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"text",value:n,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your username",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"password",value:o,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your password",required:!0})]})]}),r.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-all font-medium disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),r.jsxs("div",{className:"text-center mt-6 space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",r.jsx(vl,{to:"/signup",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign Up"})]}),r.jsx("p",{onClick:h,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium cursor-pointer",children:"Download App"})]})]})})})},Lh=()=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-800 p-2 rounded-lg",children:r.jsx(Ki,{className:"w-6 h-6 text-blue-700 dark:text-blue-300"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Fishow"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Popular Fish ERP"})]})]}),im=p.createContext(void 0),Bh=()=>{const n=p.useContext(im);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Fh=({children:n})=>{const[l,o]=p.useState(()=>{const c=localStorage.getItem("theme");return c?(console.log("Using saved theme:",c),c):(console.log("Using default light theme"),"light")});p.useEffect(()=>{console.log("Applying theme:",l);const c=window.document.documentElement,m=window.document.body;c.classList.remove("light","dark"),c.classList.add(l),m.setAttribute("data-theme",l),localStorage.setItem("theme",l),console.log("Document classes after theme change:",c.classList.toString()),console.log("Body data-theme:",m.getAttribute("data-theme"))},[l]);const d=()=>{console.log("Toggling theme from:",l),o(c=>c==="light"?"dark":"light")};return r.jsx(im.Provider,{value:{theme:l,toggleTheme:d},children:n})},h0=({username:n,onLogout:l})=>{const{theme:o,toggleTheme:d}=Bh();console.log("UserMenu rendered with theme:",o);const c=()=>{console.log("Theme toggle clicked, current theme:",o),d()};return r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qi,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),r.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-100 font-medium",children:n})]}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[r.jsxs("button",{onClick:l,className:"flex items-center space-x-1 px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all",children:[r.jsx(Xx,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Logout"})]}),r.jsx("button",{onClick:c,className:"p-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all","aria-label":`Switch to ${o==="light"?"dark":"light"} theme`,children:o==="light"?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})]})]})},or=({icon:n,label:l,isOpen:o,setIsOpen:d,items:c,onNavigate:m})=>r.jsxs("div",{className:"relative",children:[r.jsxs("button",{"data-dropdown-button":"true",onClick:()=>d(!o),className:"flex items-center space-x-1 px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all",children:[n,r.jsx("span",{className:"font-medium",children:l}),r.jsx(Jx,{className:"w-4 h-4"})]}),o&&r.jsx("div",{className:"absolute top-full left-0 mt-1 w-full md:w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 py-1 z-50",children:c.map((f,x)=>r.jsx("button",{onClick:()=>{m(f.path),d(!1)},className:"w-full text-left px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 transition-all",children:f.label},x))})]}),y0=({label:n,onClick:l})=>r.jsx("button",{onClick:l,className:"px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all font-medium",children:n}),xt=()=>{const[n,l]=p.useState(!1),[o,d]=p.useState(!1),[c,m]=p.useState(!1),[f,x]=p.useState(!1),[h,y]=p.useState(!1),[b,v]=p.useState(!1),E=kt();p.useEffect(()=>{const q=se=>{!se.target.closest("[data-dropdown-button]")&&(o||c||f||h)&&(d(!1),m(!1),x(!1),y(!1))};return document.addEventListener("click",q),()=>document.removeEventListener("click",q)},[o,c,f,h]);const P=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),E("/login")},N=localStorage.getItem("username")||"Admin",R=localStorage.getItem("role")||"admin",w=R==="admin",k=R==="sale",D=R==="box",S=w?[{label:"Cash Sales",path:"/sales-entry"},{label:"Sales Summary",path:"/load-wise-list"}]:k?[{label:"Cash Sales",path:"/sales-entry"}]:[{label:"Cash Sales",path:"/sales-entry"}],L=w||D?[{label:"Box Sale",path:"/fish-box-sent"},{label:"Box Receive",path:"/fish-box-received"},{label:"Multiple Box Receive",path:"/multiple-box-update"},{label:"Box Sales List",path:"/box-sales-list"}]:[],V=w?[{label:"Customer",path:"/create-customer"},{label:"Party",path:"/create-party"},{label:"Salesman",path:"/create-salesman"},{label:"Item",path:"/create-item"}]:[{label:"Customer",path:"/create-customer"},{label:"Party",path:"/create-party"},{label:"Salesman",path:"/create-salesman"},{label:"Item",path:"/create-item"}],T=w?[{label:"Cash Transactions",path:"/cash-transactions"},{label:"Box Transactions",path:"/box-transactions"}]:k?[{label:"Cash Transactions",path:"/cash-transactions"}]:D?[{label:"Box Transactions",path:"/box-transactions"}]:[],I=w?[{label:"Daily Collection Sheet",path:"/reports/daily-collection"},{label:"Sales Register",path:"/reports/sales-register"},{label:"Daily Summary",path:"/reports/daily-summary"},{label:"Box Receive Report",path:"/reports/box-receive"},{label:"Daily Summary (Box)",path:"/reports/daily-summary-box"},{label:"Total Box Balance",path:"/reports/total-box-balance"},{label:"Cash Statement",path:"/reports/cash-statement"},{label:"Box Statement",path:"/reports/box-statement"}]:k?[{label:"Daily Collection Sheet",path:"/reports/daily-collection"},{label:"Sales Register",path:"/reports/sales-register"},{label:"Daily Summary",path:"/reports/daily-summary"},{label:"Cash Statement",path:"/reports/cash-statement"}]:D?[{label:"Box Receive Report",path:"/reports/box-receive"},{label:"Daily Summary (Box)",path:"/reports/daily-summary-box"},{label:"Total Box Balance",path:"/reports/total-box-balance"},{label:"Box Statement",path:"/reports/box-statement"}]:[];return r.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-600 transition-colors duration-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx(Lh,{}),r.jsx("button",{className:"md:hidden p-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400",onClick:()=>l(!n),children:r.jsx(Zx,{className:"w-6 h-6"})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[r.jsx(y0,{label:"Home",onClick:()=>E("/dashboard")}),S.length>0&&r.jsx(or,{icon:r.jsx(el,{className:"w-5 h-5"}),label:"Load",isOpen:o,setIsOpen:q=>{d(q),m(!1),x(!1)},onNavigate:E,items:S}),L.length>0&&r.jsx(or,{icon:r.jsx(Ri,{className:"w-5 h-5"}),label:"Box",isOpen:c,setIsOpen:q=>{m(q),d(!1),x(!1)},onNavigate:E,items:L}),V.length>0&&r.jsx(or,{icon:r.jsx(Zu,{className:"w-5 h-5"}),label:"Create",isOpen:f,setIsOpen:q=>{x(q),d(!1),m(!1),y(!1)},onNavigate:E,items:V}),T.length>0&&r.jsx(or,{icon:r.jsx(el,{className:"w-5 h-5"}),label:"Transaction",isOpen:b,setIsOpen:q=>{v(q),d(!1),m(!1),x(!1),y(!1)},onNavigate:E,items:T}),I.length>0&&r.jsx(or,{icon:r.jsx(Di,{className:"w-5 h-5"}),label:"Report",isOpen:h,setIsOpen:q=>{y(q),d(!1),m(!1),x(!1)},onNavigate:E,items:I})]}),r.jsx("div",{className:"hidden md:flex items-center",children:r.jsx(h0,{username:N,onLogout:P})}),n&&r.jsx("div",{className:"md:hidden absolute top-16 left-0 w-full bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 shadow-lg z-50",children:r.jsxs("div",{className:"px-4 py-4 space-y-4",children:[r.jsx(y0,{label:"Home",onClick:()=>{E("/dashboard"),l(!1)}}),S.length>0&&r.jsx(or,{icon:r.jsx(el,{className:"w-5 h-5"}),label:"Load",isOpen:o,setIsOpen:q=>{d(q),m(!1),x(!1)},onNavigate:q=>{E(q),l(!1)},items:S}),L.length>0&&r.jsx(or,{icon:r.jsx(Ri,{className:"w-5 h-5"}),label:"Box",isOpen:c,setIsOpen:q=>{m(q),d(!1),x(!1)},onNavigate:q=>{E(q),l(!1)},items:L}),V.length>0&&r.jsx(or,{icon:r.jsx(Zu,{className:"w-5 h-5"}),label:"Create",isOpen:f,setIsOpen:q=>{x(q),d(!1),m(!1),y(!1)},onNavigate:q=>{E(q),l(!1)},items:V}),T.length>0&&r.jsx(or,{icon:r.jsx(el,{className:"w-5 h-5"}),label:"Transaction",isOpen:b,setIsOpen:q=>{v(q),d(!1),m(!1),x(!1),y(!1)},onNavigate:q=>{E(q),l(!1)},items:T}),I.length>0&&r.jsx(or,{icon:r.jsx(Di,{className:"w-5 h-5"}),label:"Report",isOpen:h,setIsOpen:q=>{y(q),d(!1),m(!1),x(!1)},onNavigate:q=>{E(q),l(!1)},items:I}),r.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:r.jsx(h0,{username:N,onLogout:()=>{P(),l(!1)}})})]})})]})})})},pt=({value:n,onChange:l,placeholder:o,searchData:d,onSelect:c,createRoute:m,entityType:f,className:x="",disabled:h=!1,onKeyDown:y,onEnter:b,"data-field":v,"data-item-id":E})=>{const P=kt(),[N,R]=p.useState(""),[w,k]=p.useState(!1),[D,S]=p.useState([]),[L,V]=p.useState(null),[T,I]=p.useState(-1),q=p.useRef(null),se=p.useRef(null);p.useEffect(()=>{if(n&&d&&Array.isArray(d)){const K=d.find(M=>M&&M.id===n);K?(V(K),R(K.name||"")):(V(null),R(n))}else V(null),R("")},[n,d]),p.useEffect(()=>{if(!d||!Array.isArray(d)){S([]);return}if(N.trim()===""){S(d);return}const K=d.filter(M=>M&&M.name&&M.name.toLowerCase().includes(N.toLowerCase()));S(K)},[N,d]),p.useEffect(()=>{w&&D.length>0?I(0):I(-1)},[w,D.length]),p.useEffect(()=>{if(w&&T>=0&&se.current&&D.length>0){const K=setTimeout(()=>{const M=se.current?.querySelector(`[data-item-index="${T}"]`);if(M&&se.current){const J=se.current,ae=M.offsetTop,j=ae+M.offsetHeight,F=J.scrollTop,Y=F+J.clientHeight;(ae<F||j>Y)&&M.scrollIntoView({behavior:"smooth",block:"nearest"})}},0);return()=>clearTimeout(K)}},[T,w,D.length]),p.useEffect(()=>{if(w&&D.length>0&&T===0&&se.current){const K=se.current.querySelector('[data-item-index="0"]');K&&K.scrollIntoView({behavior:"auto",block:"nearest"})}},[w,D.length]),p.useEffect(()=>{const K=M=>{q.current&&!q.current.contains(M.target)&&k(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),p.useEffect(()=>{const K=()=>{w&&q.current&&k(!0)};return w&&(window.addEventListener("scroll",K,!0),window.addEventListener("resize",K)),()=>{window.removeEventListener("scroll",K,!0),window.removeEventListener("resize",K)}},[w]);const ve=()=>{if(!q.current)return{top:0,left:0,width:200};const K=q.current.getBoundingClientRect(),M=240,J=window.innerHeight,ae=window.innerWidth;let j=K.bottom+window.scrollY+4,F=K.left+window.scrollX;j+M>J+window.scrollY&&(j=K.top+window.scrollY-M-4);const Y=K.width;return F+Y>ae+window.scrollX&&(F=ae+window.scrollX-Y-10),{top:j,left:F,width:Y}},we=K=>{try{const M=K.target.value;R(M),k(!0),l&&l(M),M===""&&V(null)}catch(M){console.error("Error in SearchableInput handleInputChange:",M)}},te=K=>{try{V(K),R(K.name||""),k(!1),l&&l(K.id),c&&c(K)}catch(M){console.error("Error in SearchableInput handleSelect:",M)}},W=()=>{P(m)},ke=()=>{try{V(null),R(""),l&&l(""),k(!1)}catch(K){console.error("Error in SearchableInput handleClear:",K)}},ye=()=>{k(!0)},je=K=>{try{w?K.key==="ArrowDown"?(K.preventDefault(),I(M=>M<D.length-1?M+1:M)):K.key==="ArrowUp"?(K.preventDefault(),I(M=>M>0?M-1:M)):K.key==="Enter"?(K.preventDefault(),T>=0&&T<D.length?te(D[T]):D.length>0?te(D[0]):b?b():k(!1)):K.key==="Escape"&&(K.preventDefault(),k(!1),I(-1)):K.key==="Enter"&&b?b():y&&y(K)}catch(M){console.error("Error in SearchableInput handleKeyDown:",M)}};return r.jsxs("div",{ref:q,className:`relative ${x}`,"data-field":v,"data-item-id":E,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N,onChange:we,onFocus:ye,onKeyDown:je,placeholder:o,disabled:h,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:L?r.jsx("button",{onClick:ke,className:"text-gray-400 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-200",type:"button",children:r.jsx(ma,{className:"w-4 h-4"})}):r.jsx(eg,{className:"w-4 h-4 text-gray-400 dark:text-gray-400"})})]}),w&&(()=>{const K=ve();return r.jsx("div",{ref:se,className:"fixed z-[1000] bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",style:{width:`${K.width}px`,top:`${K.top}px`,left:`${K.left}px`},children:D.length>0?r.jsxs(r.Fragment,{children:[D.map((M,J)=>r.jsxs("div",{"data-item-index":J,onClick:()=>te(M),className:`px-3 py-2 cursor-pointer border-b border-gray-100 dark:border-gray-600 last:border-b-0 ${J===T?"bg-blue-100 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[r.jsx("div",{className:`font-medium ${J===T?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100"}`,children:M.name}),M.id&&r.jsxs("div",{className:`text-sm ${J===T?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`,children:["ID: ",M.id]})]},M.id)),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600",children:r.jsxs("button",{onClick:W,className:"w-full px-3 py-2 text-left text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center space-x-2",type:"button",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsxs("span",{children:["Create new ",f]})]})})]}):r.jsxs("div",{className:"px-3 py-4 text-center",children:[r.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-2",children:N.trim()!==""?`No ${f} found`:`No ${f} available`}),r.jsxs("button",{onClick:W,className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 flex items-center space-x-2 mx-auto",type:"button",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsxs("span",{children:["Create new ",f]})]})]})})})()]})};async function Ah(n){const l={};n?.from&&(l.from=n.from),n?.to&&(l.to=n.to),n?.date&&(l.date=n.date);const o=await Pe.get("/api/box-sales/",{params:l});return console.log(o,"list box"),o.data}async function Oh(n,l){return console.log(l,"edit"),(await Pe.put(`/api/box-sales/${encodeURIComponent(String(n))}`,l)).data}async function zh(n){return(await Pe.delete(`/api/box-sales/${encodeURIComponent(String(n))}`)).data}const Je=async(n,l)=>{const o={};return l?.search&&(o.search=l.search),o.page=l?.page??1,o.pageSize=l?.pageSize??10,(await Pe.get(`/api/masters/${n}`,{params:o})).data},El=async(n,l)=>(await Pe.post(`/api/masters/${n}`,l)).data,Dl=async(n,l,o)=>(await Pe.put(`/api/masters/${n}/${l}`,o)).data,Tl=async(n,l)=>(await Pe.delete(`/api/masters/${n}/${l}`)).data,Mh=({isOpen:n,onClose:l,entry:o,onSave:d,onDelete:c,parties:m,salesmenList:f,products:x,customers:h})=>{const[y,b]=p.useState(null);p.useEffect(()=>{if(o){const S=m.find(T=>T.name===o.party)?.id||o.party,L=f.find(T=>T.name===o.salesman)?.id||o.salesman,V=o.items.map(T=>{const I=h.find(se=>se.name===T.customer)?.id||T.customer,q=m.find(se=>se.name===T.box_type)?.id||m.find(se=>se.id===String(T.box_type))?.id||T.box_type;return{...T,customer:I,box_type:q}});b({...o,party:S,salesman:L,items:V})}},[o,m,f,x,h]);const v=Oi.useMemo(()=>{if(!y)return[];const S=new Map;return y.items.forEach(L=>{if(!L.box_type)return;const V=parseFloat(L.box)||0;S.set(L.box_type,(S.get(L.box_type)||0)+V)}),Array.from(S.entries()).map(([L,V])=>({name:m.find(I=>I.id===String(L))?.name||L,total:V}))},[y,m]);if(!n||!y)return null;const E=(S,L)=>{b(V=>{if(!V)return null;let T=V.items;return T=V.items.map(q=>({...q,box_type:L})),{...V,[S]:L,items:T}})},P=(S,L,V)=>{b(T=>{if(!T)return null;const I=T.items.map(we=>we.id===S?{...we,[L]:V}:we),q=I.reduce((we,te)=>we+(parseFloat(te.box)||0),0),ve=parseInt(T.totalBox)-q;return{...T,items:I,balance:ve}})},N=(S,L,V)=>{if(S.key==="Enter"){S.preventDefault();const T=y?.items.findIndex(I=>I.id===L)??-1;if(T===-1)return;if(V==="customer")setTimeout(()=>{const I=document.querySelector(`[data-item-id="${L}"][data-field="box_type"]`);I&&I.querySelector("input")?.focus()},0);else if(V==="box_type")setTimeout(()=>{document.querySelector(`input[data-item-id="${L}"][data-field="box"]`)?.focus()},0);else if(V==="box")if(T>0){const I=y.items[T-1];I&&setTimeout(()=>{const q=document.querySelector(`[data-item-id="${I.id}"][data-field="customer"]`);q&&q.querySelector("input")?.focus()},0)}else{const I=w();I&&setTimeout(()=>{const q=document.querySelector(`[data-item-id="${I}"][data-field="customer"]`);q&&q.querySelector("input")?.focus()},0)}}},R=(S,L)=>{const V=L.find(T=>T.id===S);return V?V.name:S},w=()=>{if(!y)return null;const S={id:crypto.randomUUID(),customer:"",box:"",box_type:y.party};return b(L=>L?{...L,items:[S,...L.items]}:null),S.id},k=S=>{y&&(y.items.length<=1||b(L=>L?{...L,items:L.items.filter(V=>V.id!==S)}:null))},D=()=>{y&&(d(y),l())};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Box Sales Entry"}),r.jsx("button",{onClick:l,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:y.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:y.party,onChange:S=>E("party",S),placeholder:"Select Party",searchData:m,onSelect:S=>E("party",S.id),createRoute:"/create-party",entityType:"party"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Total Box"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white font-semibold",children:y.totalBox})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Balance Boxes"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white font-semibold",children:y.balance||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Salesman"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:R(y.salesman,f)})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Row"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>o&&c(o),className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]}),r.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:D,className:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[r.jsx(Ha,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Type"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Action"})]})}),r.jsx("tbody",{children:y.items.map(S=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:S.customer,onChange:L=>P(S.id,"customer",L),placeholder:"Search Customer",searchData:h,onSelect:L=>P(S.id,"customer",L.id),createRoute:"/create-customer",entityType:"customer","data-field":"customer","data-item-id":S.id,onKeyDown:L=>{L.key==="Enter"&&!L.defaultPrevented?setTimeout(()=>{const V=document.querySelector(`[data-item-id="${S.id}"][data-field="box_type"]`);V&&V.querySelector("input")?.focus()},0):N(L,S.id,"customer")}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:S.box_type||"",onChange:L=>{P(S.id,"box_type",L)},placeholder:"Select Party (Box Type)",searchData:m,onSelect:L=>{P(S.id,"box_type",L.id)},createRoute:"/create-party",entityType:"party","data-field":"box_type","data-item-id":S.id,onKeyDown:L=>{L.key==="Enter"&&!L.defaultPrevented?setTimeout(()=>{document.querySelector(`input[data-item-id="${S.id}"][data-field="box"]`)?.focus()},0):N(L,S.id,"box_type")}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",value:S.box,onChange:L=>P(S.id,"box",L.target.value),onKeyDown:L=>N(L,S.id,"box"),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0","data-field":"box","data-item-id":S.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center",children:r.jsx("button",{onClick:()=>k(S.id),disabled:y?.items.length<=1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove Row",children:r.jsx(ma,{className:"w-4 h-4"})})})]},S.id))}),r.jsx("tfoot",{children:r.jsx("tr",{className:"bg-gray-100 dark:bg-gray-700",children:r.jsx("td",{colSpan:4,className:"border border-gray-300 dark:border-gray-600 px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-4 text-sm font-semibold text-gray-900 dark:text-white",children:v.length>0?v.map(S=>r.jsxs("span",{className:"px-3 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg",children:[S.name,"  ",S.total]},S.name)):r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"No box types"})})})})})]})})]})]})})},$h=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState(null),[m,f]=p.useState(null),[x,h]=p.useState(null),[y,b]=p.useState(null),[v,E]=p.useState(new Date().toISOString().split("T")[0]),[P,N]=p.useState(new Date().toISOString().split("T")[0]),[R,w]=p.useState(""),[k,D]=p.useState([]),[S,L]=p.useState([]),[V,T]=p.useState([]),[I,q]=p.useState([]),[se,ve]=p.useState(1),[we]=p.useState(25),[te,W]=p.useState(null),[ke,ye]=p.useState(!1),je=z=>k.find(oe=>oe.id===String(z))?.name??"",K=l.filter(z=>{const oe=new Date(z.date).setHours(0,0,0,0),xe=v?new Date(v).setHours(0,0,0,0):null,ge=P?new Date(P).setHours(0,0,0,0):null;let Ee=!0;xe&&ge&&xe===ge||xe&&!ge?Ee=oe===xe:!xe&&ge?Ee=oe===ge:xe&&ge&&(Ee=oe>=xe&&oe<=ge);const Te=!R||z.salesman.toLowerCase().includes(R.toLowerCase());return Ee&&Te}),M=Math.ceil(K.length/we),J=(se-1)*we,ae=J+we,j=K.slice(J,ae);p.useEffect(()=>{v&&!P&&N(v)},[v,P]),p.useEffect(()=>{F()},[v,P]);const F=async()=>{try{const xe=await Ah({from:v,to:P});console.log(xe,"list includes box type");const ge=(xe.items||[]).map(Ee=>({id:String(Ee.id??""),date:(()=>{const Te=Ee.date??Ee.created_at??new Date().toISOString();return String(Te).split("T")[0]})(),party:Ee.party??"",totalBox:String(Number(Ee.total_box??0)),salesman:Ee.salesman??"",items:(Ee.items??[]).map(Te=>({id:String(Te.id??""),customer:Te.customer??"",box:String(Te.box??0),box_type:Te.box_type?String(Te.box_type):null})),totalAmount:String(Number(Ee.total_amount??0)),createdAt:Ee.created_at??"",load_number:Ee.load_number??void 0,load_number_string:Ee.load_number_str??void 0,balance:Number(Ee.balance??0)}));o(ge),W(xe.kpis)}catch(z){console.error("Error fetching box sale list:",z),b({message:"Error loading box sale data",type:"error"})}};p.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){n("/login");return}let oe=!0;return(async()=>{ye(!0);try{const[Ee,Te,gt,ne]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200}),Je("salesmen",{page:1,pageSize:200}),Je("products",{page:1,pageSize:200})]);if(!oe)return;Ee&&Array.isArray(Ee.data)&&T(Ee.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),Te&&Array.isArray(Te.data)&&D(Te.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),gt&&Array.isArray(gt.data)&&L(gt.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),ne&&Array.isArray(ne.data)&&q(ne.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),await F()}catch(ge){console.error("Error loading lookup data via listEntities:",ge),b({message:"Failed loading lookup data",type:"error"})}finally{oe&&ye(!1)}})(),()=>{oe=!1}},[n]);const Y=z=>c(z),ie=()=>c(null),de=z=>{f(z)},me=()=>{f(null)},le=z=>{h(z)},be=()=>{h(null)},Fe=async()=>{if(x)try{await zh(x.id),o(z=>z.filter(oe=>oe.id!==x.id)),b({message:"Box sales entry deleted successfully!",type:"success"}),be(),me()}catch(z){console.error("Error deleting box sale entry:",z);const oe=z?.response?.data?.message??"Error deleting entry";b({message:oe,type:"error"})}},rt=async z=>{try{const oe={date:z.date,party_name:z.party,salesman_name:z.salesman,total_box:Number(z.totalBox||0),total_amount:Number(z.totalAmount||0),items:z.items.map(ge=>({customer:ge.customer,box:Number(ge.box||0),box_type:ge.box_type?Number(ge.box_type):null})),load_number:z.load_number,load_number_str:z.load_number_string},xe=await Oh(z.id,oe);await F(),b({message:"Box sales entry updated successfully!",type:"success"}),me()}catch(oe){console.error("Error updating box sale entry:",oe);const xe=oe?.response?.data?.message??"Error updating entry";b({message:xe,type:"error"})}};return p.useEffect(()=>{if(y){const z=setTimeout(()=>{b(null)},3e3);return()=>clearTimeout(z)}},[y]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),y&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${y.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[y.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:y.message})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Sales List"}),r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between w-full gap-4",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"Salesman:"}),r.jsx("input",{type:"text",value:R,onChange:z=>{w(z.target.value),ve(1)},placeholder:"Search salesman...",className:"min-w-[120px] md:min-w-[150px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"From:"}),r.jsx("input",{type:"date",value:v,onChange:z=>{E(z.target.value),ve(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"To:"}),r.jsx("input",{type:"date",value:P,onChange:z=>{N(z.target.value),ve(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(xl,{className:"w-4 h-4"}),r.jsxs("span",{children:[K.length," entries found"]})]})]}),M>1&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("span",{children:["Page ",se," of ",M]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>ve(z=>Math.max(z-1,1)),disabled:se===1,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),r.jsx("button",{onClick:()=>ve(z=>Math.min(z+1,M)),disabled:se===M,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Added"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:K.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total of Total Box column"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Sold"}),r.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:K.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total boxes sold (from items)"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Current Balance"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:K.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)-K.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Boxes available (Added - Sold)"})]})]}),K.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xl,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No sales entries found."}),r.jsx("button",{onClick:()=>n("/fish-box-sent"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all",children:"Create First Entry"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Load No"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Date"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Party"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Balance"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Salesman"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:j.map((z,oe)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.load_number_string||z.id}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:new Date(z.date).toLocaleDateString()}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.party}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.totalBox}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.balance}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.salesman}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>Y(z),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",title:"View Details",children:r.jsx(qi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>de(z),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 transition-colors",title:"Edit Entry",children:r.jsx(Va,{className:"w-4 h-4"})})]})})]},z.id))})]})})]})}),r.jsx(Mh,{isOpen:!!m,onClose:me,entry:m,onSave:rt,onDelete:le,parties:k,salesmenList:S,products:I,customers:V}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sales Entry Details"}),r.jsx("button",{onClick:ie,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(d.date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Party"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.party})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Box"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.totalBox})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Balance Boxes"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.balance})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Salesman"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.salesman})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Type"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Balance"})]})}),r.jsx("tbody",{children:d.items.map(z=>(console.log(d),r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:z.customer}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:z.box}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:r.jsx("td",{children:je(z.box_type)})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:d.balance})]},z.id)))})]})})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Box Sales Entry"}),r.jsx("button",{onClick:be,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Are you sure you want to delete this entry?"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["This action cannot be undone. This will permanently delete the box sales entry for"," ",r.jsx("span",{className:"font-medium",children:x.party})," on"," ",r.jsx("span",{className:"font-medium",children:new Date(x.date).toLocaleDateString()}),"."]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:be,className:"px-4 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:Fe,className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]})]})]})]})})]})},Uh=async(n,l,o)=>(console.log("incrementBoxSaleBatch payload:",{partyId:n,entries:l,date:o}),(await Pe.post("/api/boxes/sale",{partyId:n,entries:l,date:o})).data),Hh=async(n,l,o)=>(await Pe.post("/api/boxes/receive",{partyId:n,entries:l,date:o})).data;function Vh(n){return Pe.post("/api/boxes/report",n)}async function Wh(n,l){const{data:o}=await Pe.get("/api/boxes/receive-report",{params:{start:n,end:l}});return console.log(o),o}async function qh(n){const{data:l}=await Pe.get("/api/boxes/daily-summary",{params:{date:n}});return l}async function Kh(n,l){const{data:o}=await Pe.get("/api/boxes/daily-summary/customers",{params:{date:n,partyId:l}});return o}async function Qh(){const{data:n}=await Pe.get("/api/boxes/total-balance");return n}async function Yh(n){const{data:l}=await Pe.get("/api/boxes/total-balance/customers",{params:{partyId:n}});return console.log("customerData",l),l}const Jh=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState(new Date().toISOString().split("T")[0]),[x,h]=p.useState(""),[y,b]=p.useState([{id:"1",customer:"",boxCount:""}]),[v,E]=p.useState(null),[P,N]=p.useState(null),[R,w]=p.useState(!1),k=["customer","boxCount"],D=["date","party"];p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{let te=!0;return(async()=>{try{const[ye,je]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200})]);if(!te)return;ye&&Array.isArray(ye.data)&&o(ye.data.map(K=>({id:String(K.id),name:K.name}))),je&&Array.isArray(je.data)&&c(je.data.map(K=>({id:String(K.id),name:K.name})))}catch(ke){console.error("Error loading lookups via listEntities:",ke),E({message:"Failed loading lookup data",type:"error"})}})(),()=>{te=!1}},[]),p.useEffect(()=>{if(P){const te=()=>{const W=document.querySelector(`[data-item-id="${P}"][data-field="customer"] input`);W?W.focus():document.querySelector(`input[data-item-id="${P}"][data-field="customer"]`)?.focus()};requestAnimationFrame(()=>{setTimeout(te,10)}),N(null)}},[P,y]);const S=()=>{const te=Date.now().toString();return b([{id:te,customer:"",boxCount:""},...y]),te},L=te=>{y.length>1&&b(y.filter(W=>W.id!==te))},V=(te,W,ke)=>{b(y.map(ye=>ye.id===te?{...ye,[W]:ke}:ye))},T=(te,W)=>{V(te,"customer",W.id)},I=te=>{h(te.id)},q=()=>y.reduce((te,W)=>te+(parseInt(W.boxCount)||0),0),se=async()=>{if(!x){E({message:"Please select a party",type:"error"});return}const te=y.map(ye=>({customerId:String(ye.customer||"").trim(),boxes:parseInt(ye.boxCount||"0",10)||0})).filter(ye=>ye.customerId&&ye.boxes>0);if(te.length===0){E({message:"Please provide at least one customer with boxes",type:"error"});return}const W=te.map(ye=>({customerId:String(ye.customerId),boxes:ye.boxes})),ke=String(x);try{w(!0);const ye=await Hh(ke,W,m),je=(ye.updated||[]).length,K=ye.missing||[];je>0&&E({message:`${je} rows updated`,type:"success"}),K.length>0&&E({message:`Missing rows: ${K.join(", ")}`,type:"error"}),K.length===0&&(f(new Date().toISOString().split("T")[0]),h(""),b([{id:Date.now().toString(),customer:"",boxCount:""}]))}catch(ye){const je=ye;E({message:je?.response?.data?.message??je?.message??"Failed to save",type:"error"})}finally{w(!1)}};p.useEffect(()=>{if(v){const te=setTimeout(()=>{E(null)},3e3);return()=>clearTimeout(te)}},[v]);const ve=te=>{if(te.key==="Enter"){te.preventDefault();const ke=te.target.closest("[data-field]")?.getAttribute("data-field");if(!ke)return;const ye=D.indexOf(ke);if(ye===-1)return;const je=D[ye+1];if(!je){if(y.length>0){const M=document.querySelector(`[data-item-id="${y[0].id}"][data-field="customer"] input`);M?M.focus():document.querySelector(`input[data-item-id="${y[0].id}"][data-field="customer"]`)?.focus()}return}let K=document.querySelector(`[data-field="${je}"] input`);K?K.focus():(K=document.querySelector(`input[data-field="${je}"]`),K?.focus())}},we=(te,W)=>{if(te.key==="Enter"){te.preventDefault();let ke=te.target.dataset.field;if(ke||(ke=te.target.closest("[data-field]")?.getAttribute("data-field")||""),!ke)return;const ye=k.indexOf(ke);if(ye===-1)return;const je=k[ye+1];if(je){const K=document.querySelector(`[data-item-id="${W}"][data-field="${je}"] input`);K?K.focus():document.querySelector(`input[data-item-id="${W}"][data-field="${je}"]`)?.focus()}else{const K=S();N(K)}}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),v&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${v.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[v.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:v.message})]})})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6 h-[600px] flex flex-col",children:[r.jsx("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Receive"})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:m,onChange:te=>f(te.target.value),onKeyDown:ve,"data-field":"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:x,onChange:h,placeholder:"Search party...",searchData:d,onSelect:I,onKeyDown:ve,createRoute:"/create-party",entityType:"party","data-field":"party"})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Count"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:y.map(te=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx(pt,{value:te.customer,onChange:W=>V(te.id,"customer",W),placeholder:"Search customer...",searchData:l,onSelect:W=>T(te.id,W),onKeyDown:W=>we(W,te.id),createRoute:"/create-customer",entityType:"customer",className:"min-w-[200px]","data-field":"customer","data-item-id":te.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",value:te.boxCount,onChange:W=>V(te.id,"boxCount",W.target.value),onKeyDown:W=>we(W,te.id),"data-item-id":te.id,"data-field":"boxCount",className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:r.jsx("button",{onClick:()=>L(te.id),disabled:y.length===1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(At,{className:"w-4 h-4"})})})]},te.id))})]})})}),r.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex justify-end items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-4",children:"Total Boxes:"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q()})]})})}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[r.jsxs("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Customer"})]}),r.jsxs("button",{onClick:se,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all",children:[r.jsx(Ha,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Entry"})]})]})]})})]})},Xh=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState([]),[x,h]=p.useState(new Date().toISOString().split("T")[0]),[y,b]=p.useState(""),[v,E]=p.useState(""),[P,N]=p.useState([{id:"1",customer:"",boxCount:""}]),[R,w]=p.useState(null),[k,D]=p.useState(null),[S,L]=p.useState(!1),[V,T]=p.useState(!1),[I,q]=p.useState(null),se=["customer","boxCount"],ve=["date","party"];p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{let j=!0;return(async()=>{T(!0);try{const[ie,de,me]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200}),Je("salesmen",{page:1,pageSize:200})]);if(!j)return;ie&&Array.isArray(ie.data)&&o(ie.data.map(le=>({id:String(le.id),name:le.name}))),de&&Array.isArray(de.data)&&c(de.data.map(le=>({id:String(le.id),name:le.name}))),me&&Array.isArray(me.data)&&f(me.data.map(le=>({id:String(le.id),name:le.name})))}catch(Y){console.error("Error loading lookup data via listEntities:",Y),w({message:"Failed loading lookup data",type:"error"})}finally{j&&T(!1)}})(),()=>{j=!1}},[]);const we=p.useCallback(()=>{try{const j=localStorage.getItem("salesFormDraft");if(j){const F=JSON.parse(j);q({date:F.date||"",party:F.party||"",salesman:F.salesman||"",totalBox:F.totalBox||"0",items:F.items||[]})}else q(null)}catch(j){console.error("Error loading sales data:",j),q(null)}},[]);p.useEffect(()=>{we()},[we]),p.useEffect(()=>{const j=Y=>{Y.key==="salesFormDraft"&&we()};window.addEventListener("storage",j);const F=setInterval(()=>{we()},1e3);return()=>{window.removeEventListener("storage",j),clearInterval(F)}},[we]),p.useEffect(()=>{if(k){const j=()=>{const F=document.querySelector(`[data-item-id="${k}"][data-field="customer"] input`);F?F.focus():document.querySelector(`input[data-item-id="${k}"][data-field="customer"]`)?.focus()};requestAnimationFrame(()=>{setTimeout(j,10)}),D(null)}},[k,P]);const te=()=>{const j=Date.now().toString();return N([{id:j,customer:"",boxCount:""},...P]),j},W=j=>{P.length>1&&N(P.filter(F=>F.id!==j))},ke=(j,F,Y)=>{N(P.map(ie=>ie.id===j?{...ie,[F]:Y}:ie))},ye=(j,F)=>{ke(j,"customer",F.id)},je=j=>{b(j.id)},K=()=>P.reduce((j,F)=>j+(parseInt(F.boxCount)||0),0),M=async()=>{if(!y||String(y).trim()===""){w({message:"Please select a party before saving.",type:"error"});return}const j=P.map(Y=>({customerId:String(Y.customer||"").trim(),boxes:parseInt(Y.boxCount||"0",10)})).filter(Y=>Y.customerId!==""&&Number.isFinite(Y.boxes)&&Y.boxes>0);if(j.length===0){w({message:"Please add at least one customer with positive box count.",type:"error"});return}const F=String(y);L(!0);try{const Y=await Uh(F,j,x),ie=Y?.updated??[],de=Y?.missing??[];ie.length>0&&w({message:`${ie.length} rows updated successfully.`,type:"success"}),de.length>0?w({message:`${de.length} rows were missing and not updated: ${de.join(", ")}`,type:"error"}):(h(new Date().toISOString().split("T")[0]),b(""),E(""),N([{id:Date.now().toString(),customer:"",boxCount:""}]),we())}catch(Y){console.error("Batch save failed",Y);const ie=Y?.response?.data?.message||Y?.message||"Failed to save box entries";w({message:ie,type:"error"})}finally{L(!1)}};p.useEffect(()=>{if(R){const j=setTimeout(()=>{w(null)},3e3);return()=>clearTimeout(j)}},[R]);const J=j=>{if(j.key==="Enter"){j.preventDefault();const Y=j.target.closest("[data-field]")?.getAttribute("data-field");if(!Y)return;const ie=ve.indexOf(Y);if(ie===-1)return;const de=ve[ie+1];if(!de){if(P.length>0){const le=document.querySelector(`[data-item-id="${P[0].id}"][data-field="customer"] input`);le?le.focus():document.querySelector(`input[data-item-id="${P[0].id}"][data-field="customer"]`)?.focus()}return}let me=document.querySelector(`[data-field="${de}"] input`);me?me.focus():(me=document.querySelector(`input[data-field="${de}"]`),me?.focus())}},ae=(j,F)=>{if(j.key==="Enter"){j.preventDefault();let Y=j.target.dataset.field;if(Y||(Y=j.target.closest("[data-field]")?.getAttribute("data-field")||""),!Y)return;const ie=se.indexOf(Y);if(ie===-1)return;const de=se[ie+1];if(de){const me=document.querySelector(`[data-item-id="${F}"][data-field="${de}"] input`);me?me.focus():document.querySelector(`input[data-item-id="${F}"][data-field="${de}"]`)?.focus()}else{const me=te();D(me)}}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),R&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${R.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[R.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:R.message})]})})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6 h-[600px] flex flex-col",children:[r.jsx("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Sale"})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:x,onChange:j=>h(j.target.value),onKeyDown:J,"data-field":"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:y,onChange:b,placeholder:"Search party...",searchData:d,onSelect:je,onKeyDown:J,createRoute:"/create-party",entityType:"party","data-field":"party"})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-scroll",style:{maxHeight:"300px"},children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Count"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:P.map(j=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx(pt,{value:j.customer,onChange:F=>ke(j.id,"customer",F),placeholder:"Search customer...",searchData:l,onSelect:F=>ye(j.id,F),onKeyDown:F=>ae(F,j.id),createRoute:"/create-customer",entityType:"customer",className:"min-w-[200px]","data-field":"customer","data-item-id":j.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",value:j.boxCount,onChange:F=>ke(j.id,"boxCount",F.target.value),onKeyDown:F=>ae(F,j.id),"data-item-id":j.id,"data-field":"boxCount",className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:r.jsx("button",{onClick:()=>W(j.id),disabled:P.length===1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(At,{className:"w-4 h-4"})})})]},j.id))})]})})}),r.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex justify-end items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-4",children:"Total Boxes:"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:K()})]})})}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[r.jsxs("button",{onClick:te,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Customer"})]}),r.jsxs("button",{onClick:M,disabled:S,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ha,{className:"w-4 h-4"}),r.jsx("span",{children:S?"Saving...":"Save Entry"})]})]})]})})]})};async function Gh(n){return(await Pe.get("/api/box-tracking/",{params:{date:n}})).data}async function Zh(n){if(!Array.isArray(n)||n.length===0)throw new Error("updates must be a non-empty array");return(await Pe.post("/api/box-tracking/receive",{updates:n})).data}const ey=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState(!0),[m,f]=p.useState(!1),[x,h]=p.useState(null);p.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){n("/login");return}y()},[n]),p.useEffect(()=>{if(x){const v=setTimeout(()=>h(null),3e3);return()=>clearTimeout(v)}},[x]);const y=async()=>{c(!0);try{const v=new Date().toISOString().slice(0,10),E=await Gh(v),R=(Array.isArray(E.items)?E.items:[]).map((w,k)=>{const D=w.party_id??w.partyId??null,S=w.customer_id??w.customerId??null,L=w.party_name??w.party??null,V=w.customer_name??w.customer??null,T=Number(w.openingBalance??w.opening_balance??0),I=Number(w.todaySales??w.todays_sales??0),q=Number(w.total??T+I),se=Number(w.closingBalance??w.closing_balance??0),ve=Number(w.totalReceived??w.total_received??w.box_receive??0);return{id:String(w.id??`${D??L}|||${S??V}|||${k}`),customer:V??"",party:L??"",openingBalance:T,todaySales:I,total:q,currentDbBalance:se,rcdBox:0,balance:se,isModified:!1,totalReceived:ve,partyId:D,customerId:S}}).sort((w,k)=>w.customer.localeCompare(k.customer));o(R)}catch(v){console.error("Error fetching box tracking",v),h({message:"Error loading data. Please refresh the page.",type:"error"})}finally{c(!1)}},b=async()=>{if(!m){f(!0);try{const v=l.filter(P=>P.isModified&&Number(P.rcdBox)>0);if(v.length===0){h({message:"No changes to save!",type:"error"}),f(!1);return}const E=v.map(P=>{const N={receiveDelta:Number(P.rcdBox)};return P.partyId&&P.customerId?(N.partyId=P.partyId,N.customerId=P.customerId):(N.partyName=P.party,N.customerName=P.customer),N});await Zh(E),h({message:`${v.length} record(s) saved successfully!`,type:"success"}),await y()}catch(v){console.error("Save error",v);const E=v?.response?.data?.message??v.message??"Error saving data.";h({message:E,type:"error"})}finally{f(!1)}}};return d?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-gray-900 dark:text-white",children:"Loading data..."})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),x&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${x.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsx("span",{className:"font-medium",children:x.message})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Multiple Box Receive"}),r.jsxs("button",{onClick:b,disabled:l.filter(v=>v.isModified).length===0||m,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:[r.jsx(Ha,{className:`w-4 h-4 ${m?"animate-pulse":""}`}),r.jsx("span",{children:m?"Saving...":"Save Changes"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",style:{minWidth:"800px"},children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Customer"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Party"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Opening Balance"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Today's Sales"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Total"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",style:{minWidth:"120px"},children:"Received Box"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Closing Balance"})]})}),r.jsx("tbody",{children:l.map((v,E)=>r.jsxs("tr",{className:E%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[r.jsx("td",{className:"border px-4 py-3 text-sm",children:v.customer}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:v.party}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:v.openingBalance}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:v.todaySales}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:v.total}),r.jsx("td",{className:"border px-4 py-3",children:r.jsx("input",{type:"text",value:v.rcdBox===0?"":v.rcdBox.toString(),placeholder:`Today's Entry: ${v.totalReceived}`,onChange:P=>{const N=P.target.value;(N===""||/^\d+$/.test(N))&&o(R=>{const w=R.findIndex(k=>k.id===v.id);if(w!==-1){const k=R[w].currentDbBalance,D=Number(N)||0,S=Math.min(D,k),L={...R[w],rcdBox:S,balance:Math.max(0,k-S),isModified:!0};return[...R.slice(0,w),L,...R.slice(w+1)]}return R})},className:"w-full px-3 py-2 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-sm text-gray-900 dark:text-white"})}),r.jsxs("td",{className:`border px-4 py-3 text-sm font-medium ${v.balance<0?"text-red-600 dark:text-red-400":v.balance>0?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"}`,children:[v.balance,v.isModified&&r.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"(modified)"})]})]},`${v.id}-${E}`))})]})})]})})]})},rl="customers",ty=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[h,y]=p.useState(1),[b,v]=p.useState(0),[E,P]=p.useState(!1),[N,R]=p.useState(!1),w=10,k=async(T=h)=>{try{P(!0);const I=await Je(rl,{page:T,pageSize:w});d(I.data||[]),v(I.totalCount||0),y(I.page||T)}catch(I){console.error("Error fetching customers:",I)}finally{P(!1)}};p.useEffect(()=>{k(h)},[h]);const D=async()=>{if(n.trim())try{R(!0);const T=await El(rl,{name:n.trim()});l(""),await k(1),y(1)}catch(T){console.error("Error saving customer:",T),T?.message&&alert(T.message)}finally{R(!1)}},S=T=>{m(T.id),x(T.name)},L=async T=>{if(f.trim())try{R(!0),await Dl(rl,T,{name:f.trim()}),m(null),x(""),await k()}catch(I){console.error("Error updating customer:",I),I?.message&&alert(I.message)}finally{R(!1)}},V=async T=>{if(window.confirm("Are you sure you want to delete this customer?"))try{R(!0),await Tl(rl,T);const I=Math.max(0,b-1),q=Math.max(1,Math.ceil(I/w));h>q&&y(q),await k()}catch(I){console.error("Error deleting customer:",I),I?.message&&alert(I.message)}finally{R(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Customer"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:T=>{T.preventDefault(),D()},children:[r.jsx("input",{type:"text",placeholder:"Customer name",value:n,onChange:T=>l(T.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:E?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No customers found"})}):o.map(T=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:T.created_at?new Date(T.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===T.id?r.jsx("input",{type:"text",value:f,onChange:I=>x(I.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):T.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===T.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(T.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(wl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(ma,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(T),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Va,{size:18})}),r.jsx("button",{onClick:()=>V(T.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(T.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:h===1||E,onClick:()=>y(T=>Math.max(1,T-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",h," of ",Math.max(1,Math.ceil(b/w))]}),r.jsx("button",{disabled:h*w>=b||E,onClick:()=>y(T=>T+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})};async function ry(){const{data:n}=await Pe.get("/api/dashboard/metrics");return n}const ay=()=>{const n=kt(),[l,o]=p.useState(!0),[d,c]=p.useState({totalSales:0,activeCustomers:0,boxesTotal:0,boxesItems:0,boxesBoxSale:0,activeParties:0});p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{(async()=>{try{const x=await ry();c({totalSales:x.totalSales,activeCustomers:x.activeCustomers,boxesTotal:x.boxes.totalBoxes,boxesItems:x.boxes.itemsBoxes,boxesBoxSale:x.boxes.boxSaleBoxes,activeParties:x.activeParties})}catch(x){console.error(x)}finally{o(!1)}})()},[]);const m=new Intl.NumberFormat,f=[{name:"Total Sales",value:m.format(d.totalSales),icon:Di,color:"bg-blue-500"},{name:"Active Customers",value:m.format(d.activeCustomers),icon:e0,color:"bg-green-500"},{name:"Boxes Sent",value:m.format(d.boxesTotal),icon:Ri,color:"bg-purple-500"},{name:"Active Parties",value:m.format(d.activeParties),icon:e0,color:"bg-orange-500"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mt-2",children:"Welcome to Fishow ERP System"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(x=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-600",title:x.tooltip||"",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`${x.color} p-3 rounded-lg`,children:r.jsx(x.icon,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:x.name}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.value})]})]})},x.name))}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>n("/sales-entry"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"New Sales Entry"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:"Create a new sales entry form"})]}),r.jsxs("button",{onClick:()=>n("/load-wise-list"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"View Load List"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:"Check load wise sales data"})]}),r.jsxs("button",{onClick:()=>n("/fish-box-sent"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Send Fish Boxes"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:"Record fish box shipments"})]})]})]})]})]})};async function ny(n){return console.log(n),(await Pe.post("/api/sales/",n)).data}async function sy(n,l){return console.log(l),(await Pe.put(`/api/sales/${n}`,l)).data}async function ly({date:n,partyName:l,salesmanName:o,totalBox:d,entryNumber:c}){return(await Pe.get("/api/sales/entry",{params:{date:n,partyName:l,salesmanName:o,totalBox:d,entryNumber:c}})).data}async function oy({date:n,partyName:l,salesmanName:o,totalBox:d}){return(await Pe.get("/api/sales/entry-latest",{params:{date:n,partyName:l,salesmanName:o,totalBox:d}})).data}const iy=({isOpen:n,onClose:l,formData:o,parties:d,salesmenList:c,customers:m,products:f})=>{if(!n)return null;const x=(h,y)=>{const b=y.find(v=>v.id===h);return b?b.name:h};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sales Form Preview"}),r.jsx("button",{onClick:l,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Date"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:o.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Party"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:x(o.party,d)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Total Box"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:o.totalBox||"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Entry Number"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:o.entryNumber||"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Salesman"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:x(o.salesman,c)})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"KG"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Price"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Remark"})]})}),r.jsx("tbody",{children:o.items.map(h=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:x(h.customer,m)}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:h.box||"0"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:h.kg||"0.00"}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",h.price||"0.00"]}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",h.total||"0.00"]}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:x(h.item,f)}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:h.remark||"-"})]},h.id))}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 font-semibold",children:[r.jsx("td",{colSpan:6,className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-right text-gray-900 dark:text-white",children:"Total Amount:"}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white",children:["",o.totalAmount]})]})})]})})]}),r.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 dark:border-gray-600",children:r.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})})};function b0(n,l){if(!n)return null;const o=String(n).trim();if(l.some(c=>c.id===o))return o;const d=l.find(c=>c.name&&c.name.toLowerCase()===o.toLowerCase());return d?d.id:null}const dy=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState([]),[x,h]=p.useState([]),[y,b]=p.useState(!1),[v,E]=p.useState("idle"),[P,N]=p.useState(null),[R,w]=p.useState(null),[k,D]=p.useState(null),[S,L]=p.useState(null),[V,T]=p.useState({}),[I,q]=p.useState(!1),[se,ve]=p.useState(""),[we,te]=p.useState(""),[W,ke]=p.useState(""),ye=()=>{const Q=new Date,U=Q.getFullYear(),Z=String(Q.getMonth()+1).padStart(2,"0"),_e=String(Q.getDate()).padStart(2,"0");return`${U}-${Z}-${_e}`},je=Q=>Q.filter(U=>U&&(U.customer?.trim()||U.box||U.kg||U.price||U.item?.trim()||U.remark?.trim())).map(U=>{const Z=b0(U.customer,l),_e=b0(U.item,x);return{customerName:Z,productName:_e,box:U.box!==""?U.box:null,kg:U.kg!==""?U.kg:null,price:U.price!==""?U.price:null,total:U.total!==""?U.total:null,remark:U.remark||null}}),[K,M]=p.useState(ye()),[J,ae]=p.useState(""),[j,F]=p.useState(""),[Y,ie]=p.useState(""),[de,me]=p.useState(""),[le,be]=p.useState([{id:"1",customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}]),Fe="salesFormHeaderValues",rt=p.useCallback(()=>{const Q={party:J,salesman:j,manualTotalBox:Y,lastSaved:new Date().toISOString()};try{localStorage.setItem(Fe,JSON.stringify(Q)),console.log("Header values saved to localStorage:",Q)}catch(U){console.error("Error saving header values to localStorage:",U)}},[J,j,Y]),z=p.useCallback(()=>{try{const Q=localStorage.getItem(Fe);if(Q){const U=JSON.parse(Q);console.log("Loading header values from localStorage:",U),U.party&&ae(U.party),U.salesman&&F(U.salesman),U.manualTotalBox&&ie(U.manualTotalBox),U.entryNumber&&me(U.entryNumber)}}catch(Q){console.error("Error loading header values from localStorage:",Q)}},[]);p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{(async()=>{try{const[Z,_e,Re,$e]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200}),Je("salesmen",{page:1,pageSize:200}),Je("products",{page:1,pageSize:200})]);Z&&Array.isArray(Z.data)&&o(Z.data.map(Ue=>({...Ue,id:String(Ue.id)}))),_e&&Array.isArray(_e.data)&&c(_e.data.map(Ue=>({...Ue,id:String(Ue.id)}))),Re&&Array.isArray(Re.data)&&f(Re.data.map(Ue=>({...Ue,id:String(Ue.id)}))),$e&&Array.isArray($e.data)&&h($e.data.map(Ue=>({...Ue,id:String(Ue.id)})))}catch(U){console.error("Error loading entity lists",U),L({message:"Failed loading lookup data",type:"error"})}})()},[]),p.useEffect(()=>{z()},[z]),p.useEffect(()=>{(J||j||Y)&&rt()},[J,j,Y,rt]),p.useEffect(()=>{const Q=U=>{U.key==="F2"&&(U.preventDefault(),Ka())};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[]),p.useEffect(()=>{if(v==="saved"){const Q=setTimeout(()=>{E("idle")},3e3);return()=>clearTimeout(Q)}},[v]);const oe=()=>{const Q={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:we,total:"",item:W,remark:""};return be([Q,...le]),Q.id},xe=Q=>{le.length>1&&be(le.filter(U=>U.id!==Q))},ge=(Q,U,Z)=>{try{be(le.map(_e=>{if(_e.id===Q){const Re={..._e,[U]:Z};if(U==="customer"&&ve(Z),U==="price"&&te(Z),U==="item"&&ke(Z),U==="box"||U==="kg"||U==="price"){const $e=parseFloat(U==="box"?Z:Re.box)||0,Ue=parseFloat(U==="kg"?Z:Re.kg)||0,Qr=parseFloat(U==="price"?Z:Re.price)||0,Ja=Ue>0?Ue:$e;Re.total=(Qr*Ja).toFixed(2)}return Re}return _e}))}catch(_e){console.error("Error updating item:",_e)}},Ee=(Q,U)=>{try{ge(Q,"customer",U.id)}catch(Z){console.error("Error selecting customer:",Z)}},Te=(Q,U)=>{try{ge(Q,"item",U.id)}catch(Z){console.error("Error selecting item:",Z)}},gt=Q=>{try{ae(Q.id)}catch(U){console.error("Error selecting party:",U)}},ne=Q=>{try{F(Q.id)}catch(U){console.error("Error selecting salesman:",U)}},Ae=()=>le.reduce((Q,U)=>Q+(parseFloat(U.total)||0),0).toFixed(2),Ke=()=>le.reduce((Q,U)=>Q+(parseFloat(U.box)||0),0),Me=Ke(),fa=p.useCallback(async()=>{if(!K||!J||!j||!Y||J.trim()===""||j.trim()===""||Y.trim()===""){me("");const Q={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([Q]);return}try{const Q=await oy({date:K,partyName:J,salesmanName:j,totalBox:Y});if(console.log(Q),Q&&Q.sale){const U=Q.sale;me(String(U.entry_number||1)),D(U.id||null),Array.isArray(Q.items)&&Q.items.length>0?(be(Q.items.map((Z,_e)=>({id:Z.id?String(Z.id):`${_e+1}`,customer:Z.customer_name||"",box:Z.box!=null?String(Z.box):"",kg:Z.kg!=null?String(Z.kg):"",price:Z.price!=null?String(Z.price):"",total:Z.total!=null?String(Z.total):"",item:Z.product_name||"",remark:Z.remark||""}))),L({message:`Loaded entry ${U.entry_number}`,type:"success"}),setTimeout(()=>{const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:we,total:"",item:W,remark:""};be(_e=>[Z,..._e])},100)):be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}else me("1"),D(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}catch(Q){console.error("fetchAndLoadLastEntry error",Q),me("1"),D(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}},[K,J,j,Y]),qr=p.useCallback(async Q=>{if(!K||!J||!j||!Y||!Q){be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}]);return}try{const U=await ly({date:K,partyName:J,salesmanName:j,totalBox:Y,entryNumber:Q});U&&U.sale?(D(U.sale.id||null),be(U.items.map((Z,_e)=>({id:Z.id?String(Z.id):`${_e+1}`,customer:Z.customer_name||"",box:Z.box!=null?String(Z.box):"",kg:Z.kg!=null?String(Z.kg):"",price:Z.price!=null?String(Z.price):"",total:Z.total!=null?String(Z.total):"",item:Z.product_name||"",remark:Z.remark||""}))),L({message:`Loaded entry ${Q}`,type:"success"}),setTimeout(()=>{const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:we,total:"",item:W,remark:""};be(_e=>[Z,..._e])},100)):(D(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}]),console.log("No existing entry found for entry number, cleared items"))}catch(U){console.error("loadEntryData error",U),D(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}},[K,J,j,Y]);p.useEffect(()=>{if(console.log(" Header fields changed:",{date:K,party:J,salesman:j,manualTotalBox:Y}),K&&J&&j&&Y&&J.trim()!==""&&j.trim()!==""&&Y.trim()!=="")console.log(" All fields filled, calling fetchAndLoadLastEntry"),fa();else{console.log(" Fields not complete, clearing form"),me("");const Q={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([Q])}},[fa,K,J,j,Y]),p.useEffect(()=>{if(!de||parseInt(de)<=0)return;const Q=setTimeout(()=>{qr(de)},500);return()=>clearTimeout(Q)},[de,qr]);const Ka=()=>{b(!0)},Qa=["customer","box","kg","price","item","remark"],Ya=["date","party","totalBox","salesman","entryNumber"],dr=Q=>{if(Q.key==="Enter"){Q.preventDefault();const Z=Q.target.closest("[data-field]")?.getAttribute("data-field");if(!Z)return;const _e=Ya.indexOf(Z);if(_e===-1)return;const Re=Ya[_e+1];if(Z==="salesman"||!Re){if(le.length>0){const Ue=document.querySelector(`[data-item-id="${le[0].id}"][data-field="customer"] input`);Ue?Ue.focus():document.querySelector(`input[data-item-id="${le[0].id}"][data-field="customer"]`)?.focus()}return}let $e=document.querySelector(`[data-field="${Re}"] input`);$e?$e.focus():($e=document.querySelector(`input[data-field="${Re}"]`),$e?.focus())}},pa=Q=>{const U=Q.target.value;if(me(U),U&&K&&J&&j&&Y)qr(U);else{const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([Z])}},cr=(Q,U)=>{if(Q.key==="Enter"){Q.preventDefault();let Z=Q.target.dataset.field;if(Z||(Z=Q.target.closest("[data-field]")?.getAttribute("data-field")||""),!Z)return;const _e=Qa.indexOf(Z);if(_e===-1)return;let Re;if(Z==="box"?Re="price":Re=Qa[_e+1],Re){const $e=document.querySelector(`[data-item-id="${U}"][data-field="${Re}"] input`);$e?$e.focus():document.querySelector(`input[data-item-id="${U}"][data-field="${Re}"]`)?.focus()}else if(!Q.shiftKey){const $e=oe();setTimeout(()=>{const Ue=document.querySelector(`[data-item-id="${$e}"][data-field="customer"] input`);Ue?Ue.focus():document.querySelector(`input[data-item-id="${$e}"][data-field="customer"]`)?.focus()},0)}}},jr=p.useCallback(()=>{console.log("Starting autosave with data:",{date:K,party:J,salesman:j,entryNumber:de,totalBoxes:Me,itemsCount:le.length});const Q={date:K,party:J,totalBox:Y,entryNumber:de,salesman:j,items:le,lastAutosave:new Date().toISOString()};try{localStorage.setItem("salesFormDraft",JSON.stringify(Q)),E("saved"),N(new Date),console.log("Autosave completed successfully")}catch(U){console.error("Autosave failed:",U),E("error")}},[J,j,de,le,K,Me,Y]);p.useEffect(()=>{const Q=J?.trim()||j?.trim()||Y?.trim()||le.some(U=>U.customer?.trim()||U.box||U.kg||U.price||U.item?.trim()||U.remark?.trim());if(console.log("Autosave effect check:",{hasAnyFilledField:Q,date:K,party:J?.trim(),salesman:j?.trim(),manualTotalBox:Y?.trim(),itemsWithData:le.filter(U=>U.customer?.trim()||U.box||U.kg||U.price||U.item?.trim()||U.remark?.trim()).length}),!Q){console.log("No filled fields, skipping autosave"),E("idle");return}console.log("Autosave conditions met, saving immediately"),jr()},[J,j,le,K,Y,jr]),p.useEffect(()=>{(()=>{try{const U=localStorage.getItem("salesFormDraft");if(U){const Z=JSON.parse(U);console.log("Loading draft from localStorage:",Z),Z.party?.trim()||Z.salesman?.trim()||Z.totalBox?.trim()||Z.items&&Z.items.some(Re=>Re.customer?.trim()||Re.box||Re.kg||Re.price||Re.item?.trim()||Re.remark?.trim())?(M(Z.date||ye()),ae(Z.party||""),F(Z.salesman||""),ie(Z.totalBox||""),be(Z.items||le),Z.items&&Z.items.length>0&&(ve(Z.items[0].customer||""),te(Z.items[0].price||""),ke(Z.items[0].item||"")),N(new Date(Z.lastAutosave)),E("idle"),console.log("Draft loaded with meaningful data")):(console.log("Draft data appears to be empty post-save state, skipping load"),localStorage.removeItem("salesFormDraft"))}}catch(U){console.error("Error loading draft from localStorage:",U)}})()},[]);const Kr=async()=>{console.log(" Save button clicked with data:",{date:K,party:J,salesman:j,manualTotalBox:Y,entryNumber:de,itemsCount:le.length}),q(!0);const Q={};if(J?.trim()||(Q.party=!0),j?.trim()||(Q.salesman=!0),Y?.trim()||(Q.totalBox=!0),!le||le.length===0?Q.items=!0:le.forEach((Z,_e)=>{Z.customer?.trim()||(Q[`item-${_e}-customer`]=!0);const Re=Z.box&&Z.box.trim()!=="",$e=Z.kg&&Z.kg.trim()!=="";!Re&&!$e&&(Q[`item-${_e}-boxorkg`]=!0),(!Z.price||Z.price.trim()==="")&&(Q[`item-${_e}-price`]=!0)}),T(Q),Object.keys(Q).length>0){L({message:"Please enter all mandatory fields",type:"error"});return}const U={date:K,partyName:J,salesmanName:j,totalBox:Y!=null?Number(Y):0,entryNumber:de?Number(de):1,totalAmount:Ae(),items:je(le)};try{if(console.log("Starting save operation with payload:",U),k)await sy(k,U),L({message:`Sales entry ${de} updated successfully!`,type:"success"});else{const Re=(await ny(U))?.id;D(Re||null),me(String(U.entryNumber||1)),L({message:`Sales entry ${U.entryNumber} saved successfully!`,type:"success"})}T({}),q(!1),M(ye()),ae(""),F(""),ie(""),ve(""),te(""),ke("");const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([Z]),w(null),D(null),E("idle"),N(null),localStorage.removeItem("salesFormDraft"),localStorage.removeItem("salesFormHeaderValues")}catch(Z){console.error("Save operation failed:",Z);const _e=Z?.response?.status,Re=Z?.response?.data;if(_e===409)L({message:Re?.message||"Duplicate entry",type:"error"});else{const $e=Re&&Re.message?Re.message:Z.message||"Failed to save";L({message:`Error saving sales entry: ${$e}`,type:"error"})}}};return p.useEffect(()=>{if(S){const Q=setTimeout(()=>{L(null)},3e3);return()=>clearTimeout(Q)}},[S]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),S&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${S.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[S.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:S.message})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6 h-[600px] flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cash Sales"}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[v==="saved"&&r.jsxs("div",{className:"flex items-center space-x-1 text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsxs("span",{children:["Auto-saved ",P&&`at ${P.toLocaleTimeString()}`]})]}),v==="error"&&r.jsxs("div",{className:"flex items-center space-x-1 text-red-600 dark:text-red-400",children:[r.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"}),r.jsx("span",{children:"Save failed"})]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:K,onChange:Q=>M(Q.target.value),onKeyDown:dr,"data-field":"date",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${I&&V.party?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:["Party ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(pt,{value:J,onChange:ae,placeholder:"Search party...",searchData:d,onSelect:gt,onKeyDown:dr,createRoute:"/create-party",entityType:"party","data-field":"party",className:I&&V.party?"border-red-500 dark:border-red-400":""})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:["Total Box ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:Y,onChange:Q=>ie(Q.target.value),onKeyDown:dr,"data-field":"totalBox",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${I&&V.totalBox?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:["Salesman ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(pt,{value:j,onChange:F,placeholder:"Search salesman...",searchData:m,onSelect:ne,onKeyDown:dr,createRoute:"/create-salesman",entityType:"salesman","data-field":"salesman",className:I&&V.salesman?"border-red-500 dark:border-red-400":""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Entry Number"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"1",value:de,onChange:pa,onKeyDown:dr,"data-field":"entryNumber",disabled:!K||!J||!j||!Y,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${!K||!J||!j||!Y?"border-gray-200 dark:border-gray-500 bg-gray-50 dark:bg-gray-600 text-gray-400 dark:text-gray-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),r.jsx("button",{type:"button",onClick:()=>{const U=(parseInt(de)||0)+1;me(U.toString()),U>0&&K&&J&&j&&Y&&qr(U.toString())},disabled:!K||!J||!j||!Y,className:"absolute right-4 top-1/2 transform -translate-y-1/2 px-1 py-0.5 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500 disabled:bg-gray-50 dark:disabled:bg-gray-600 disabled:text-gray-400 dark:disabled:text-gray-500 disabled:cursor-not-allowed rounded text-sm",title:"Increase entry number",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]})]})}),r.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-700 border-t border-b border-gray-200 dark:border-gray-600 my-2",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex justify-end items-center space-x-8",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-2",children:"Grand Total Box:"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Ke()})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-2",children:"Total Amount:"}),r.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["",Ae()]})]})]})})}),r.jsx("div",{className:"flex-1 overflow-y-auto mt-2",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200 min-w-[220px]",children:["Customer ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:["Box ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"KG"}),r.jsxs("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:["Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200 min-w-[220px]",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Remark"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:le.map(Q=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 min-w-[220px]",children:r.jsx(pt,{value:Q.customer,onChange:U=>ge(Q.id,"customer",U),placeholder:"Search customer...",searchData:l,onSelect:U=>Ee(Q.id,U),onKeyDown:U=>cr(U,Q.id),createRoute:"/create-customer",entityType:"customer",className:`w-full ${I&&V[`item-${le.indexOf(Q)}-customer`]?"border-red-500 dark:border-red-400":""}`,"data-field":"customer","data-item-id":Q.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",step:"1",value:Q.box,onChange:U=>ge(Q.id,"box",U.target.value),onKeyDown:U=>cr(U,Q.id),"data-item-id":Q.id,"data-field":"box",className:`w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${I&&V[`item-${le.indexOf(Q)}-boxorkg`]?"border-red-500 dark:border-red-400 rounded":""}`,placeholder:"0"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",step:"0.01",value:Q.kg,onChange:U=>ge(Q.id,"kg",U.target.value),onKeyDown:U=>cr(U,Q.id),"data-item-id":Q.id,"data-field":"kg",className:`w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${I&&V[`item-${le.indexOf(Q)}-boxorkg`]?"border-red-500 dark:border-red-400 rounded":""}`,placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",step:"0.01",value:Q.price,onChange:U=>ge(Q.id,"price",U.target.value),onKeyDown:U=>cr(U,Q.id),"data-item-id":Q.id,"data-field":"price",className:`w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${I&&V[`item-${le.indexOf(Q)}-price`]?"border-red-500 dark:border-red-400 rounded":""}`,placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"text",value:Q.total,readOnly:!0,className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 min-w-[220px]",children:r.jsx(pt,{value:Q.item,onChange:U=>ge(Q.id,"item",U),placeholder:"Search item...",searchData:x,onSelect:U=>Te(Q.id,U),onKeyDown:U=>cr(U,Q.id),createRoute:"/create-item",entityType:"item",className:`w-full ${I&&V[`item-${le.indexOf(Q)}-price`]?"border-red-500 dark:border-red-400":""}`,"data-field":"item","data-item-id":Q.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"text",value:Q.remark,onChange:U=>ge(Q.id,"remark",U.target.value),onKeyDown:U=>cr(U,Q.id),"data-item-id":Q.id,"data-field":"remark",className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Remark"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:r.jsx("button",{onClick:()=>xe(Q.id),disabled:le.length===1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(At,{className:"w-4 h-4"})})})]},Q.id))})]})})}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 dark:border-gray-600 flex-shrink-0 mt-4",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:oe,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Row"})]}),r.jsxs("button",{onClick:Ka,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 dark:hover:bg-purple-500 transition-all",children:[r.jsx(qi,{className:"w-4 h-4"}),r.jsx("span",{children:"Preview/F2"})]})]}),r.jsxs("button",{onClick:Kr,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all",children:[r.jsx(Ha,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Entry"})]})]})]})})]}),r.jsx(iy,{isOpen:y,onClose:()=>b(!1),formData:{date:K,party:J,totalBox:Y,entryNumber:de,salesman:j,items:le,totalAmount:Ae()},parties:d,salesmenList:m,customers:l,products:x})]})},cy=async n=>{const l={};n?.from&&(l.from=n.from),n?.to&&(l.to=n.to),n?.salesman&&(l.salesman=n.salesman),l.page=n?.page??1,l.pageSize=n?.pageSize??25;const o=await Pe.get("/api/summary",{params:l});return console.log(o),o.data},uy=async n=>(await Pe.delete(`/api/summary/${encodeURIComponent(String(n))}`)).data,my=async(n,l)=>(await Pe.put(`/api/summary/${encodeURIComponent(String(n))}`,l)).data,fy=({isOpen:n,onClose:l,entry:o,onSave:d,onDelete:c,parties:m,salesmenList:f,products:x,customers:h})=>{const[y,b]=p.useState(null);if(p.useEffect(()=>{if(o){const k=m.find(L=>L.name===o.party)?.id||o.party,D=f.find(L=>L.name===o.salesman)?.id||o.salesman,S=o.items.map(L=>{const V=x.find(I=>I.name===L.item)?.id||L.item,T=h.find(I=>I.name===(L.customer||""))?.id||L.customer||"";return{...L,item:V,customer:T}});b({...o,party:k,salesman:D,items:S})}},[o,m,f,x,h]),!n||!y)return null;const v=(k,D)=>{b(S=>S?{...S,[k]:D}:null)},E=(k,D,S)=>{b(L=>{if(!L)return null;const V=L.items.map(T=>{if(T.id===k){const I={...T,[D]:S};if(D==="box"||D==="price"){const q=parseFloat(D==="box"?S:I.box)||0,se=parseFloat(D==="price"?S:I.price)||0;I.total=(q*se).toFixed(2)}return I}return T});return{...L,items:V}})},P=(k,D,S)=>{if(k.key==="Enter"){k.preventDefault();const L=y?.items.findIndex(V=>V.id===D)??-1;if(L===-1)return;if(S==="item")setTimeout(()=>{document.querySelector(`input[data-item-id="${D}"][data-field="box"]`)?.focus()},0);else if(S==="box")setTimeout(()=>{document.querySelector(`input[data-item-id="${D}"][data-field="price"]`)?.focus()},0);else if(S==="price")if(L>0){const V=y.items[L-1];V&&setTimeout(()=>{const T=document.querySelector(`[data-item-id="${V.id}"][data-field="item"]`);T&&T.querySelector("input")?.focus()},0)}else{const V=R();V&&setTimeout(()=>{const T=document.querySelector(`[data-item-id="${V}"][data-field="item"]`);T&&T.querySelector("input")?.focus()},0)}}},N=k=>{y&&(y.items.length<=1||b(D=>D?{...D,items:D.items.filter(S=>S.id!==k)}:null))},R=()=>{if(!y)return null;const k={id:crypto.randomUUID(),item:"",customer:"",box:"",kg:"",price:"",total:""};return b(D=>D?{...D,items:[k,...D.items]}:null),k.id},w=()=>{if(!y)return;const k=(y.items||[]).reduce((S,L)=>{const V=parseFloat(String(L.total||"0"))||0;return S+V},0),D={...y,totalAmount:String(k.toFixed(2))};d(D),l()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Sales Entry"}),r.jsx("button",{onClick:l,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:y.date,onChange:k=>v("date",k.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:y.party,onChange:k=>v("party",k),placeholder:"Search Party",searchData:m,onSelect:()=>{},createRoute:"/create-party",entityType:"party"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Total Box"}),r.jsx("input",{type:"number",value:y.totalBox,onChange:k=>v("totalBox",k.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Salesman"}),r.jsx(pt,{value:y.salesman,onChange:k=>v("salesman",k),placeholder:"Search Salesman",searchData:f,onSelect:()=>{},createRoute:"/create-salesman",entityType:"salesman"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:R,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Row"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>o&&c(o),className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]}),r.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:w,className:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[r.jsx(Ha,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"kg"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Price"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Action"})]})}),r.jsx("tbody",{children:y.items.map(k=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:k.customer||"",onChange:D=>E(k.id,"customer",D),placeholder:"Search Customer",searchData:h,onSelect:D=>E(k.id,"customer",D.id),createRoute:"/create-customer",entityType:"customer","data-field":"customer","data-item-id":k.id,onKeyDown:D=>{D.key==="Enter"&&!D.defaultPrevented&&setTimeout(()=>{document.querySelector(`input[data-item-id="${k.id}"][data-field="box"]`)?.focus()},0)}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:k.item,onChange:D=>E(k.id,"item",D),placeholder:"Search Item",searchData:x,onSelect:D=>E(k.id,"item",D.id),createRoute:"/create-item",entityType:"item","data-field":"item","data-item-id":k.id,onKeyDown:D=>{D.key==="Enter"&&!D.defaultPrevented?setTimeout(()=>{document.querySelector(`input[data-item-id="${k.id}"][data-field="box"]`)?.focus()},0):P(D,k.id,"item")}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",value:k.box,onChange:D=>E(k.id,"box",D.target.value),onKeyDown:D=>P(D,k.id,"box"),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0","data-field":"box","data-item-id":k.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",step:"0.01",value:k.kg,onChange:D=>E(k.id,"kg",D.target.value),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),setTimeout(()=>{document.querySelector(`input[data-item-id="${k.id}"][data-field="price"]`)?.focus()},0))},className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0.00","data-field":"kg","data-item-id":k.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",step:"0.01",value:k.price,onChange:D=>E(k.id,"price",D.target.value),onKeyDown:D=>P(D,k.id,"price"),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0.00","data-field":"price","data-item-id":k.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"text",value:k.total,readOnly:!0,className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center",children:r.jsx("button",{onClick:()=>N(k.id),disabled:y?.items.length<=1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove Row",children:r.jsx(ma,{className:"w-4 h-4"})})})]},k.id))})]})})]})]})})},py=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState(null),[x,h]=p.useState(null),[y,b]=p.useState(null),[v,E]=p.useState(null),[P,N]=p.useState(new Date().toISOString().split("T")[0]),[R,w]=p.useState(new Date().toISOString().split("T")[0]),[k,D]=p.useState(""),[S,L]=p.useState([]),[V,T]=p.useState([]),[I,q]=p.useState([]),[se,ve]=p.useState([]),[we,te]=p.useState(1),[W]=p.useState(25),[ke,ye]=p.useState(null),[je,K]=p.useState(0),M=l.filter(z=>{const oe=new Date(z.date).setHours(0,0,0,0),xe=P?new Date(P).setHours(0,0,0,0):null,ge=R?new Date(R).setHours(0,0,0,0):null;let Ee=!0;xe&&ge&&xe===ge||xe&&!ge?Ee=oe===xe:!xe&&ge?Ee=oe===ge:xe&&ge&&(Ee=oe>=xe&&oe<=ge);const Te=!k||z.salesman.toLowerCase().includes(k.toLowerCase());return Ee&&Te});d.filter(z=>{const oe=new Date(z.date).setHours(0,0,0,0),xe=P?new Date(P).setHours(0,0,0,0):null,ge=R?new Date(R).setHours(0,0,0,0):null;let Ee=!0;return xe&&ge&&xe===ge||xe&&!ge?Ee=oe===xe:!xe&&ge?Ee=oe===ge:xe&&ge&&(Ee=oe>=xe&&oe<=ge),Ee});const J=Math.ceil(M.length/W),ae=(we-1)*W,j=ae+W,F=M.slice(ae,j);p.useEffect(()=>{P&&!R&&w(P)},[P,R]),p.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){n("/login");return}let oe=!1;const xe=500,ge=async()=>{try{const[Te,gt,ne,Ae]=await Promise.all([Je("parties",{page:1,pageSize:xe}),Je("salesmen",{page:1,pageSize:xe}),Je("customers",{page:1,pageSize:xe}),Je("products",{page:1,pageSize:xe})]);if(oe)return;Array.isArray(Te.data)&&L(Te.data.map(Ke=>({id:String(Ke.id),name:Ke.name}))),Array.isArray(gt.data)&&T(gt.data.map(Ke=>({id:String(Ke.id),name:Ke.name}))),Array.isArray(ne.data)&&q(ne.data.map(Ke=>({id:String(Ke.id),name:Ke.name}))),Array.isArray(Ae.data)&&ve(Ae.data.map(Ke=>({id:String(Ke.id),name:Ke.name})))}catch(Te){console.error("Error loading lookups",Te),oe||E({message:"Failed loading lookup data",type:"error"})}},Ee=async()=>{try{const Te=await cy({from:P||void 0,to:R||void 0,salesman:k||void 0,page:we,pageSize:W});if(oe)return;const gt=(Te.data||[]).map(ne=>{const Ae=Array.isArray(ne.items)?ne.items.map(Me=>({id:String(Me.id??crypto.randomUUID()),item:Me.product_name??Me.productName??Me.item??"",box:Me.box!=null?String(Me.box):"",kg:Me.kg!=null?String(Me.kg):"",price:Me.price!=null?String(Me.price):"",total:Me.total!=null?String(Me.total):"",customer:Me.customer_name??Me.customerName??Me.customer??""})):[],Ke=ne.load_number_string??ne.loadNumberString??null;return{id:String(ne.id),date:ne.date,party:ne.party_name??ne.partyName??ne.party??"",totalBox:String(ne.total_box??ne.totalBox??0),salesman:ne.salesman_name??ne.salesmanName??ne.salesman??"",items:Ae,totalAmount:String(ne.total_amount??ne.totalAmount??0),createdAt:ne.created_at??ne.createdAt??"",load_number:ne.load_number??ne.loadNumber??null,load_number_string:Ke??(ne.load_number?Ke(ne.load_number):null)}});o(gt),K(Te.totalCount??0),Te.summary?ye({totalSaleAmount:Te.summary.totalSaleAmount??Te.summary.totalSaleAmount??0,boxesAdded:Te.summary.boxesAdded??Te.summary.boxesAdded??0,boxesSold:Te.summary.boxesSold??Te.summary.boxesSold??0}):ye(null)}catch(Te){console.error("Error loading sales:",Te),oe||E({message:"Failed loading sales",type:"error"})}};return ge(),Ee(),()=>{oe=!0}},[n,P,R,k,we,W]);const Y=z=>f(z),ie=()=>f(null),de=z=>{h(z)},me=()=>{h(null)},le=z=>{b(z)},be=()=>{b(null)},Fe=async()=>{if(y)try{await uy(y.id),o(z=>z.filter(oe=>oe.id!==y.id)),E({message:"Sales entry deleted successfully!",type:"success"}),be(),me()}catch(z){console.error("Error deleting sales entry:",z),E({message:"Error deleting sales entry",type:"error"})}},rt=async z=>{try{const oe=Object.fromEntries(S.map(ne=>[ne.id,ne.name])),xe=Object.fromEntries(V.map(ne=>[ne.id,ne.name])),ge=Object.fromEntries(se.map(ne=>[ne.id,ne.name])),Ee=Object.fromEntries(I.map(ne=>[ne.id,ne.name])),Te={date:z.date,partyName:z.party,salesmanName:z.salesman,totalBox:parseInt(z.totalBox||"0",10),entryNumber:z.load_number??void 0,totalAmount:(z.items||[]).reduce((ne,Ae)=>ne+(parseFloat(Ae.total||"0")||0),0),items:(z.items||[]).map(ne=>({customerName:ne.customer||ne.customerName||null,productName:ne.item||ne.productName||null,box:ne.box!==""&&ne.box!=null?parseInt(String(ne.box),10):0,kg:ne.kg!==""&&ne.kg!=null?Number(ne.kg):0,price:ne.price!==""&&ne.price!=null?parseFloat(String(ne.price)):0,total:ne.total!==""&&ne.total!=null?parseFloat(String(ne.total)):0,remark:ne.remark??null}))};console.log(z.id,Te,"id,payload"),await my(z.id,Te);const gt={...z,party:oe[z.party]??String(z.party),salesman:xe[z.salesman]??String(z.salesman),items:(z.items||[]).map(ne=>({...ne,item:ge[ne.item]??String(ne.item),customer:ne.customer?Ee[ne.customer]??String(ne.customer):ne.customer}))};o(ne=>ne.map(Ae=>Ae.id===z.id?gt:Ae)),E({message:"Sales entry updated successfully!",type:"success"}),me()}catch(oe){console.error("Error updating sales entry:",oe);const xe=oe?.response?.data?.message||oe?.message||"Error updating sales entry";E({message:xe,type:"error"})}};return p.useEffect(()=>{if(v){const z=setTimeout(()=>{E(null)},3e3);return()=>clearTimeout(z)}},[v]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),v&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${v.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[v.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:v.message})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Summary"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"Salesman:"}),r.jsx("input",{type:"text",value:k,onChange:z=>{D(z.target.value),te(1)},placeholder:"Search salesman...",className:"min-w-[120px] md:min-w-[150px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"From:"}),r.jsx("input",{type:"date",value:P,onChange:z=>{N(z.target.value),te(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"To:"}),r.jsx("input",{type:"date",value:R,onChange:z=>{w(z.target.value),te(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(xl,{className:"w-4 h-4"}),r.jsxs("span",{children:[M.length," entries found"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("span",{children:["Page ",we," of ",J]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>te(z=>Math.max(z-1,1)),disabled:we===1,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),r.jsx("button",{onClick:()=>te(z=>Math.min(z+1,J)),disabled:we===J,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Total Sale"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["",M.reduce((z,oe)=>z+(parseFloat(oe.totalAmount)||0),0).toFixed(2)]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Total amount from ",M.length," entries"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Added"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:M.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total of Total Box column"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Sold"}),r.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:M.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total boxes sold (from items)"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Current Balance"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:M.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)-M.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Boxes available (Added - Sold)"})]})]}),M.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xl,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No sales entries found."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600 table-fixed",style:{minWidth:"900px"},children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Load No"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-24",children:"Date"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-32",children:"Party"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Total Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Boxes Sold"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-32",children:"Salesman"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-32",children:"Total Amount"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-24",children:"Action"})]})}),r.jsx("tbody",{children:F.map((z,oe)=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white truncate",children:z.load_number_string||z.id}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:new Date(z.date).toLocaleDateString()}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white truncate",title:z.party,children:z.party}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.totalBox}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0)}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white truncate",title:z.salesman,children:z.salesman}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:["",z.totalAmount]}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>Y(z),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",title:"View Details",children:r.jsx(qi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>de(z),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 transition-colors",title:"Edit Entry",children:r.jsx(Va,{className:"w-4 h-4"})})]})})]},z.id))})]})})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sales Entry Details"}),r.jsx("button",{onClick:ie,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(m.date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:m.party})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Total Box"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:m.totalBox})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Salesman"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:m.salesman})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"kg"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Price"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"})]})}),r.jsx("tbody",{children:m.items.map(z=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.customer||"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.item}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.box}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.kg}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",z.price]}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",z.total]})]},z.id))})]})})]})]})}),r.jsx(fy,{isOpen:!!x,onClose:me,entry:x,onSave:rt,onDelete:le,parties:S,salesmenList:V,products:se,customers:I}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Sales Entry"}),r.jsx("button",{onClick:be,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Are you sure you want to delete this entry?"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["This action cannot be undone. This will permanently delete the sales entry for"," ",r.jsx("span",{className:"font-medium",children:y.party})," on"," ",r.jsx("span",{className:"font-medium",children:new Date(y.date).toLocaleDateString()}),"."]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:be,className:"px-4 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:Fe,className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]})]})]})]})})]})]})};let xy={data:""},gy=n=>{if(typeof window=="object"){let l=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(n||document.head).appendChild(l),l.firstChild}return n||xy},hy=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yy=/\/\*[^]*?\*\/|  +/g,v0=/\n+/g,Hr=(n,l)=>{let o="",d="",c="";for(let m in n){let f=n[m];m[0]=="@"?m[1]=="i"?o=m+" "+f+";":d+=m[1]=="f"?Hr(f,m):m+"{"+Hr(f,m[1]=="k"?"":l)+"}":typeof f=="object"?d+=Hr(f,l?l.replace(/([^,])+/g,x=>m.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,x):x?x+" "+h:h)):m):f!=null&&(m=/^--/.test(m)?m:m.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=Hr.p?Hr.p(m,f):m+":"+f+";")}return o+(l&&c?l+"{"+c+"}":c)+d},br={},dm=n=>{if(typeof n=="object"){let l="";for(let o in n)l+=o+dm(n[o]);return l}return n},by=(n,l,o,d,c)=>{let m=dm(n),f=br[m]||(br[m]=(h=>{let y=0,b=11;for(;y<h.length;)b=101*b+h.charCodeAt(y++)>>>0;return"go"+b})(m));if(!br[f]){let h=m!==n?n:(y=>{let b,v,E=[{}];for(;b=hy.exec(y.replace(yy,""));)b[4]?E.shift():b[3]?(v=b[3].replace(v0," ").trim(),E.unshift(E[0][v]=E[0][v]||{})):E[0][b[1]]=b[2].replace(v0," ").trim();return E[0]})(n);br[f]=Hr(c?{["@keyframes "+f]:h}:h,o?"":"."+f)}let x=o&&br.g?br.g:null;return o&&(br.g=br[f]),((h,y,b,v)=>{v?y.data=y.data.replace(v,h):y.data.indexOf(h)===-1&&(y.data=b?h+y.data:y.data+h)})(br[f],l,d,x),f},vy=(n,l,o)=>n.reduce((d,c,m)=>{let f=l[m];if(f&&f.call){let x=f(o),h=x&&x.props&&x.props.className||/^go/.test(x)&&x;f=h?"."+h:x&&typeof x=="object"?x.props?"":Hr(x,""):x===!1?"":x}return d+c+(f??"")},"");function Rl(n){let l=this||{},o=n.call?n(l.p):n;return by(o.unshift?o.raw?vy(o,[].slice.call(arguments,1),l.p):o.reduce((d,c)=>Object.assign(d,c&&c.call?c(l.p):c),{}):o,gy(l.target),l.g,l.o,l.k)}let cm,Bi,Fi;Rl.bind({g:1});let kr=Rl.bind({k:1});function wy(n,l,o,d){Hr.p=l,cm=n,Bi=o,Fi=d}function Wr(n,l){let o=this||{};return function(){let d=arguments;function c(m,f){let x=Object.assign({},m),h=x.className||c.className;o.p=Object.assign({theme:Bi&&Bi()},x),o.o=/ *go\d+/.test(h),x.className=Rl.apply(o,d)+(h?" "+h:"");let y=n;return n[0]&&(y=x.as||n,delete x.as),Fi&&y[0]&&Fi(x),cm(y,x)}return c}}var ky=n=>typeof n=="function",hl=(n,l)=>ky(n)?n(l):n,jy=(()=>{let n=0;return()=>(++n).toString()})(),um=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");n=!l||l.matches}return n}})(),Ny=20,Zi="default",mm=(n,l)=>{let{toastLimit:o}=n.settings;switch(l.type){case 0:return{...n,toasts:[l.toast,...n.toasts].slice(0,o)};case 1:return{...n,toasts:n.toasts.map(f=>f.id===l.toast.id?{...f,...l.toast}:f)};case 2:let{toast:d}=l;return mm(n,{type:n.toasts.find(f=>f.id===d.id)?1:0,toast:d});case 3:let{toastId:c}=l;return{...n,toasts:n.toasts.map(f=>f.id===c||c===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return l.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(f=>f.id!==l.toastId)};case 5:return{...n,pausedAt:l.time};case 6:let m=l.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+m}))}}},fl=[],fm={toasts:[],pausedAt:void 0,settings:{toastLimit:Ny}},ir={},pm=(n,l=Zi)=>{ir[l]=mm(ir[l]||fm,n),fl.forEach(([o,d])=>{o===l&&d(ir[l])})},xm=n=>Object.keys(ir).forEach(l=>pm(n,l)),Sy=n=>Object.keys(ir).find(l=>ir[l].toasts.some(o=>o.id===n)),Pl=(n=Zi)=>l=>{pm(l,n)},Cy={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ey=(n={},l=Zi)=>{let[o,d]=p.useState(ir[l]||fm),c=p.useRef(ir[l]);p.useEffect(()=>(c.current!==ir[l]&&d(ir[l]),fl.push([l,d]),()=>{let f=fl.findIndex(([x])=>x===l);f>-1&&fl.splice(f,1)}),[l]);let m=o.toasts.map(f=>{var x,h,y;return{...n,...n[f.type],...f,removeDelay:f.removeDelay||((x=n[f.type])==null?void 0:x.removeDelay)||n?.removeDelay,duration:f.duration||((h=n[f.type])==null?void 0:h.duration)||n?.duration||Cy[f.type],style:{...n.style,...(y=n[f.type])==null?void 0:y.style,...f.style}}});return{...o,toasts:m}},Dy=(n,l="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...o,id:o?.id||jy()}),Vn=n=>(l,o)=>{let d=Dy(l,n,o);return Pl(d.toasterId||Sy(d.id))({type:2,toast:d}),d.id},it=(n,l)=>Vn("blank")(n,l);it.error=Vn("error");it.success=Vn("success");it.loading=Vn("loading");it.custom=Vn("custom");it.dismiss=(n,l)=>{let o={type:3,toastId:n};l?Pl(l)(o):xm(o)};it.dismissAll=n=>it.dismiss(void 0,n);it.remove=(n,l)=>{let o={type:4,toastId:n};l?Pl(l)(o):xm(o)};it.removeAll=n=>it.remove(void 0,n);it.promise=(n,l,o)=>{let d=it.loading(l.loading,{...o,...o?.loading});return typeof n=="function"&&(n=n()),n.then(c=>{let m=l.success?hl(l.success,c):void 0;return m?it.success(m,{id:d,...o,...o?.success}):it.dismiss(d),c}).catch(c=>{let m=l.error?hl(l.error,c):void 0;m?it.error(m,{id:d,...o,...o?.error}):it.dismiss(d)}),n};var Ty=1e3,Ry=(n,l="default")=>{let{toasts:o,pausedAt:d}=Ey(n,l),c=p.useRef(new Map).current,m=p.useCallback((v,E=Ty)=>{if(c.has(v))return;let P=setTimeout(()=>{c.delete(v),f({type:4,toastId:v})},E);c.set(v,P)},[]);p.useEffect(()=>{if(d)return;let v=Date.now(),E=o.map(P=>{if(P.duration===1/0)return;let N=(P.duration||0)+P.pauseDuration-(v-P.createdAt);if(N<0){P.visible&&it.dismiss(P.id);return}return setTimeout(()=>it.dismiss(P.id,l),N)});return()=>{E.forEach(P=>P&&clearTimeout(P))}},[o,d,l]);let f=p.useCallback(Pl(l),[l]),x=p.useCallback(()=>{f({type:5,time:Date.now()})},[f]),h=p.useCallback((v,E)=>{f({type:1,toast:{id:v,height:E}})},[f]),y=p.useCallback(()=>{d&&f({type:6,time:Date.now()})},[d,f]),b=p.useCallback((v,E)=>{let{reverseOrder:P=!1,gutter:N=8,defaultPosition:R}=E||{},w=o.filter(S=>(S.position||R)===(v.position||R)&&S.height),k=w.findIndex(S=>S.id===v.id),D=w.filter((S,L)=>L<k&&S.visible).length;return w.filter(S=>S.visible).slice(...P?[D+1]:[0,D]).reduce((S,L)=>S+(L.height||0)+N,0)},[o]);return p.useEffect(()=>{o.forEach(v=>{if(v.dismissed)m(v.id,v.removeDelay);else{let E=c.get(v.id);E&&(clearTimeout(E),c.delete(v.id))}})},[o,m]),{toasts:o,handlers:{updateHeight:h,startPause:x,endPause:y,calculateOffset:b}}},Py=kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Iy=kr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_y=kr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ly=Wr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Py} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Iy} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_y} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,By=kr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Fy=Wr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${By} 1s linear infinite;
`,Ay=kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Oy=kr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zy=Wr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ay} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Oy} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,My=Wr("div")`
  position: absolute;
`,$y=Wr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Uy=kr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hy=Wr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Uy} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vy=({toast:n})=>{let{icon:l,type:o,iconTheme:d}=n;return l!==void 0?typeof l=="string"?p.createElement(Hy,null,l):l:o==="blank"?null:p.createElement($y,null,p.createElement(Fy,{...d}),o!=="loading"&&p.createElement(My,null,o==="error"?p.createElement(Ly,{...d}):p.createElement(zy,{...d})))},Wy=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qy=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Ky="0%{opacity:0;} 100%{opacity:1;}",Qy="0%{opacity:1;} 100%{opacity:0;}",Yy=Wr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jy=Wr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Xy=(n,l)=>{let o=n.includes("top")?1:-1,[d,c]=um()?[Ky,Qy]:[Wy(o),qy(o)];return{animation:l?`${kr(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${kr(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Gy=p.memo(({toast:n,position:l,style:o,children:d})=>{let c=n.height?Xy(n.position||l||"top-center",n.visible):{opacity:0},m=p.createElement(Vy,{toast:n}),f=p.createElement(Jy,{...n.ariaProps},hl(n.message,n));return p.createElement(Yy,{className:n.className,style:{...c,...o,...n.style}},typeof d=="function"?d({icon:m,message:f}):p.createElement(p.Fragment,null,m,f))});wy(p.createElement);var Zy=({id:n,className:l,style:o,onHeightUpdate:d,children:c})=>{let m=p.useCallback(f=>{if(f){let x=()=>{let h=f.getBoundingClientRect().height;d(n,h)};x(),new MutationObserver(x).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[n,d]);return p.createElement("div",{ref:m,className:l,style:o},c)},eb=(n,l)=>{let o=n.includes("top"),d=o?{top:0}:{bottom:0},c=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:um()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(o?1:-1)}px)`,...d,...c}},tb=Rl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,al=16,rb=({reverseOrder:n,position:l="top-center",toastOptions:o,gutter:d,children:c,toasterId:m,containerStyle:f,containerClassName:x})=>{let{toasts:h,handlers:y}=Ry(o,m);return p.createElement("div",{"data-rht-toaster":m||"",style:{position:"fixed",zIndex:9999,top:al,left:al,right:al,bottom:al,pointerEvents:"none",...f},className:x,onMouseEnter:y.startPause,onMouseLeave:y.endPause},h.map(b=>{let v=b.position||l,E=y.calculateOffset(b,{reverseOrder:n,gutter:d,defaultPosition:l}),P=eb(v,E);return p.createElement(Zy,{id:b.id,key:b.id,onHeightUpdate:y.updateHeight,className:b.visible?tb:"",style:P},b.type==="custom"?hl(b.message,b):c?c(b):p.createElement(Gy,{toast:b,position:v}))}))},st=it;const nl="products",ab=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[h,y]=p.useState(1),[b,v]=p.useState(0),[E,P]=p.useState(!1),[N,R]=p.useState(!1),w=10,k=async(T=h)=>{try{P(!0);const I=await Je(nl,{page:T,pageSize:w});d(I.data||[]),v(I.totalCount||0),y(I.page||T)}catch(I){console.error("Error fetching items:",I),st.error("Failed to load items")}finally{P(!1)}};p.useEffect(()=>{k(h)},[h]);const D=async()=>{if(n.trim())try{R(!0),await El(nl,{name:n.trim()}),l(""),await k(1),y(1),st.success("Item added successfully!")}catch(T){console.error("Error saving item:",T),st.error(T?.message||"Error saving item")}finally{R(!1)}},S=T=>{m(T.id),x(T.name)},L=async T=>{if(f.trim())try{R(!0),await Dl(nl,T,{name:f.trim()}),m(null),x(""),await k(),st.success("Item updated successfully!")}catch(I){console.error("Error updating item:",I),st.error(I?.message||"Error updating item")}finally{R(!1)}},V=T=>{st(I=>r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("span",{children:"Are you sure you want to delete this item?"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:async()=>{try{R(!0),await Tl(nl,T);const q=Math.max(0,b-1),se=Math.max(1,Math.ceil(q/w));h>se&&y(se),await k(),st.success("Item deleted successfully!")}catch(q){console.error("Error deleting item:",q),st.error(q?.message||"Error deleting item")}finally{R(!1)}st.dismiss(I.id)},className:"bg-red-600 dark:bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors",children:"Delete"}),r.jsx("button",{onClick:()=>st.dismiss(I.id),className:"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]}),{duration:1/0,position:"top-center",style:{transform:"translateY(50vh) translateX(-50%)",left:"50%",top:"50%",minWidth:"200px",padding:"16px",textAlign:"center",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})};return r.jsxs(r.Fragment,{children:[r.jsx(rb,{position:"top-right",reverseOrder:!1}),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Item"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:T=>{T.preventDefault(),D()},children:[r.jsx("input",{type:"text",placeholder:"Item name",value:n,onChange:T=>l(T.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"ID"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:E?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No items found"})}):o.map(T=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:T.id}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===T.id?r.jsx("input",{type:"text",value:f,onChange:I=>x(I.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):T.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:T.created_at?new Date(T.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===T.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(T.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(wl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(ma,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(T),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Va,{size:18})}),r.jsx("button",{onClick:()=>V(T.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(T.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:h===1||E,onClick:()=>y(T=>Math.max(1,T-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",h," of ",Math.max(1,Math.ceil(b/w))]}),r.jsx("button",{disabled:h*w>=b||E,onClick:()=>y(T=>T+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})]})},sl="parties",nb=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[h,y]=p.useState(1),[b,v]=p.useState(0),[E,P]=p.useState(!1),[N,R]=p.useState(!1),w=10,k=async(T=h)=>{try{P(!0);const I=await Je(sl,{page:T,pageSize:w});d(I.data||[]),v(I.totalCount||0),y(I.page||T)}catch(I){console.error("Error fetching parties:",I)}finally{P(!1)}};p.useEffect(()=>{k(h)},[h]);const D=async()=>{if(n.trim())try{R(!0),await El(sl,{name:n.trim()}),l(""),await k(1),y(1)}catch(T){console.error("Error saving party:",T),T?.message&&alert(T.message)}finally{R(!1)}},S=T=>{m(T.id),x(T.name)},L=async T=>{if(f.trim())try{R(!0),await Dl(sl,T,{name:f.trim()}),m(null),x(""),await k()}catch(I){console.error("Error updating party:",I),I?.message&&alert(I.message)}finally{R(!1)}},V=async T=>{if(window.confirm("Are you sure you want to delete this party?"))try{R(!0),await Tl(sl,T);const I=Math.max(0,b-1),q=Math.max(1,Math.ceil(I/w));h>q&&y(q),await k()}catch(I){console.error("Error deleting party:",I),I?.message&&alert(I.message)}finally{R(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Party"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:T=>{T.preventDefault(),D()},children:[r.jsx("input",{type:"text",placeholder:"Party name",value:n,onChange:T=>l(T.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:E?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No parties found"})}):o.map(T=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:T.created_at?new Date(T.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===T.id?r.jsx("input",{type:"text",value:f,onChange:I=>x(I.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):T.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===T.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(T.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(wl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(ma,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(T),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Va,{size:18})}),r.jsx("button",{onClick:()=>V(T.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(T.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:h===1||E,onClick:()=>y(T=>Math.max(1,T-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",h," of ",Math.max(1,Math.ceil(b/w))]}),r.jsx("button",{disabled:h*w>=b||E,onClick:()=>y(T=>T+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})},ed=({children:n,title:l})=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"print:hidden",children:n}),r.jsxs("div",{className:"hidden print:block print:p-4 print:text-black print:bg-white print:overflow-visible print:max-w-full print:m-0 print:shadow-none print:border print:border-black print:rounded-none",children:[r.jsxs("div",{className:"print-header text-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Fishow"}),r.jsx("h2",{className:"text-lg font-semibold",children:l}),r.jsx("div",{className:"border-b-2 border-black mt-4"})]}),r.jsx("div",{className:"print-content overflow-visible max-w-full m-0 shadow-none border border-black rounded-none",children:n}),r.jsx("div",{className:"print-footer text-center mt-6 text-sm",children:r.jsx("div",{className:"border-t-2 border-black pt-2",children:"Thank you for your business!"})})]})]});async function sb(n){const{data:l}=await Pe.get("/api/ledger/collection",{params:{date:n}});return console.log(l,"get result ledger"),l}async function lb(n){console.log(n,"ledger payload");const{data:l}=await Pe.post("/api/ledger/collection",n);return l}async function gm(n){const{data:l}=await Pe.get("/api/daily/summary",{params:{date:n}});return l}async function ob(n){const{data:l}=await Pe.get("/api/sales-register/register",{params:{date:n}});return l}const ib=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1),[m,f]=p.useState({}),[x,h]=p.useState({}),[y,b]=p.useState("");p.useEffect(()=>{n&&(async()=>{c(!0);try{const{rows:w}=await sb(n);o(w);const k={},D={};for(const S of w){const L=typeof S.customer=="object"&&S.customer!==null?S.customer.id??S.customer.name:S.customer;S.paid&&(k[L]=Number(S.paid)||0),S.discount&&(D[L]=Number(S.discount)||0)}f(k),h(D)}catch(w){console.error(w)}finally{c(!1)}})()},[n]);const v=l.reduce((w,k)=>w+k.opening,0),E=l.reduce((w,k)=>w+k.todaysAmount,0),P=Object.values(m).reduce((w,k)=>w+(k??0),0),N=Object.values(x).reduce((w,k)=>w+(k??0),0),R=async()=>{try{const k=l.map(D=>{const S=typeof D.customer=="object"&&D.customer!==null?D.customer:{id:null,name:String(D.customer)},L=String(S.id??S.name);return{customerId:S.id??null,paid:Number(m[L]??0),discount:Number(x[L]??0)}}).filter(D=>D.customerId!==null);console.log(k,"ledger input"),await lb({date:n,items:k}),b("Data saved successfully!"),setTimeout(()=>b(""),2500)}catch(w){console.error(w),b("Save failed."),setTimeout(()=>b(""),2500)}};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsx(ed,{title:"Daily Collection Sheet",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Daily Collection Sheet"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:R,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),r.jsx("button",{onClick:()=>{const w=document.getElementById("printable-area");if(!w)return;const k=window.open("","","height=600,width=800");if(!k)return;const D=new Date().toISOString().split("T")[0];k.document.title=`Daily Collection Sheet - ${D}`,k.document.write("<html><head><title>Fishow - Daily Collection Sheet</title>"),k.document.write(`<style>
                    body{font-family: Arial, sans-serif; margin: 20px;}
                    h1,h2{text-align:center;}
                    table{width:100%; border-collapse:collapse;}
                    th,td{border:1px solid #000; padding:8px; text-align:left;}
                    th{background:#f2f2f2;}
                    .footer{margin-top:20px; text-align:center; font-size:12px;}
                  </style>`),k.document.write("</head><body><h1>Fishow</h1><h2>Daily Collection Sheet</h2>"),k.document.write(w.innerHTML),k.document.write('<div class="footer">Thank you for your business!</div>'),k.document.write("</body></html>"),k.document.close(),k.focus(),k.print(),k.close()},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]})]}),y&&r.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded print:hidden",children:y}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Balance (Carried Forward)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Today's Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Paid"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Closing Balance"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map((w,k)=>{const D=typeof w.customer=="object"&&w.customer!==null?w.customer:{id:null,name:String(w.customer)},S=D.id??D.name;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:D.name}),r.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",w.opening.toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",w.todaysAmount.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:r.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-1",children:["",(w.opening+w.todaysAmount).toFixed(2)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 print:hidden",children:r.jsx("input",{type:"number",className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-moz-appearance:textfield]",value:m[S]??"",onChange:L=>{const V=L.target.value,T=V===""?void 0:Math.max(0,Number(V)||0);f(I=>({...I,[S]:T}))},placeholder:"Enter amount",min:0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 print:hidden",children:r.jsx("input",{type:"number",className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-moz-appearance:textfield]",value:x[S]??"",onChange:L=>{const V=L.target.value,T=V===""?void 0:Math.max(0,Number(V)||0);h(I=>({...I,[S]:T}))},placeholder:"Enter amount",min:0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:r.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-1 font-semibold text-gray-900 dark:text-white",children:["",(w.opening+w.todaysAmount-(Number(m[S]??0)+Number(x[S]??0))).toFixed(2)]})})]},D.id??`c-${k}`)})}),r.jsxs("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total (Paid - Discount):"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-green-600 dark:text-green-400",children:["",(P-N).toFixed(2)]}),r.jsx("td",{colSpan:2,className:"print:hidden"})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:6,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total Closing Balance:"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left text-sm font-bold text-blue-600 dark:text-blue-400",children:["",(v+E-(P+N)).toFixed(2)]})]})]})]})})]})})},db=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1),[m,f]=p.useState(()=>new Date().toISOString().split("T")[0]),x=n||m;p.useEffect(()=>{if(!n){const b=setInterval(()=>{f(new Date().toISOString().split("T")[0])},6e4);return()=>clearInterval(b)}},[n]),p.useEffect(()=>{x&&h()},[x]);const h=async()=>{c(!0);try{const b=await ob(x);o(b.rows||[])}catch(b){console.error("Error fetching sales data:",b),o([])}finally{c(!1)}},y=()=>{const b=document.getElementById("printable-area")?.innerHTML;if(!b)return;const v=window.open("","","height=600,width=800");if(!v)return;const E=new Date().toISOString().split("T")[0];v.document.title=`Sales Register - ${E}`,v.document.write("<html><head><title>Fishow - Sales Register</title>"),v.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px;} h1,h2{text-align: center;} table{width:100%; border-collapse: collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),v.document.write("</head><body>"),v.document.write("<h1>Fishow</h1><h2>Sales Register</h2>"),v.document.write(b),v.document.write('<div class="footer">Thank you for your business!</div>'),v.document.write("</body></html>"),v.document.close(),v.focus(),v.print(),v.close()};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Sales Register"}),r.jsx("button",{onClick:y,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Box"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Boxes Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cash Paid"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map((b,v)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:b.party}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.totalBox}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.salesman}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.customer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.product??""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.boxesSold??""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.price!=null?`${b.price.toFixed(2)}`:""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:b.total!=null?`${b.total.toFixed(2)}`:""}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",b.cashPaid.toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",b.discount.toFixed(2)]})]},v))})]})})]})},cb=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1);p.useEffect(()=>{n&&m()},[n]);const m=async()=>{c(!0);try{const h=((await gm(n)).rows||[]).map(y=>({party:y.party,totalBox:y.totalBox,salesman:y.salesman,grandTotal:y.grandTotal}));o(h)}catch(x){console.error("Error fetching summary data:",x),o([])}finally{c(!1)}},f=()=>{const x=document.getElementById("printable-area")?.innerHTML;if(x){const h=window.open("","","height=600,width=800");if(h){const y=new Date().toISOString().split("T")[0];h.document.title=`Daily Summary - ${y}`,h.document.write("<html><head><title>Fishow - Daily Summary</title>"),h.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px; overflow: visible !important; max-width: 100% !important;} h1, h2 {text-align: center;} table {width: 100%; border-collapse: collapse; overflow: visible !important; max-width: 100% !important;} th, td {border: 1px solid #000; padding: 8px; text-align: left;} th {background-color: #f2f2f2;} .footer {margin-top: 20px; text-align: center; font-size: 12px;}</style>"),h.document.write("</head><body>"),h.document.write("<h1>Fishow</h1>"),h.document.write("<h2>Daily Summary</h2>"),h.document.write(x),h.document.write('<div class="footer">Thank you for your business!</div>'),h.document.write("</body></html>"),h.document.close(),h.focus(),h.print(),h.close()}}};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Daily Summary"}),r.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Box"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Grand Total (Day by Day)"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map((x,h)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:x.party}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:x.totalBox}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:x.salesman}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",x.grandTotal.toFixed(2)]})]},h))})]})})]})},ub=({dateRange:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState({}),[m,f]=p.useState(!1),[x,h]=p.useState("");p.useEffect(()=>{n.startDate&&n.endDate&&y()},[n]);const y=async()=>{f(!0);try{const N=await Wh(n.startDate,n.endDate);o(N.rows||[]),c({})}catch(N){console.error("Error fetching box receive data:",N),o([])}finally{f(!1)}},b=async()=>{const N=Object.entries(d).map(([R,w])=>{const k=Number(w);if(!k||k<=0||Number.isNaN(k))return null;const D=l.find(S=>S.id===R);return D?{partyName:D.party,customerName:D.customer,boxes:k,date:new Date(D.date).toISOString().split("T")[0]}:null}).filter(Boolean);if(console.log("Prepared payloads for box receive:",N),!N.length){h("Nothing to save"),setTimeout(()=>h(""),2e3);return}try{for(const R of N)await Vh(R);h("Saved successfully"),setTimeout(()=>h(""),2e3),await y()}catch(R){console.error(R),h("Save failed"),setTimeout(()=>h(""),2500)}},v=()=>{const N=document.getElementById("printable-area")?.innerHTML;if(!N)return;const R=window.open("","","height=600,width=800");if(!R)return;const w=new Date().toISOString().split("T")[0];R.document.title=`Box Receive Report - ${w}`,R.document.write("<html><head><title>Fishow - Box Receive Report</title>"),R.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px;} h1,h2{text-align:center;} table{width:100%; border-collapse:collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),R.document.write("</head><body><h1>Fishow</h1><h2>Box Receive Report</h2>"),R.document.write(N),R.document.write('<div class="footer">Thank you for your business!</div>'),R.document.write("</body></html>"),R.document.close(),R.focus(),R.print(),R.close()};if(m)return r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const E=l.reduce((N,R)=>N+(R.totalBox||0),0),P=l.reduce((N,R)=>N+(R.boxesSold||0),0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Box Receive Report"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[x&&r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 mr-2",children:x}),r.jsx("button",{onClick:b,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),r.jsx("button",{onClick:v,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Total Box"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Boxes Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Box Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Balance"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map(N=>{const R=Number(d[N.id]??""),w=Number.isFinite(R)?Math.max(0,R):0,k=N.boxesSold-w;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:new Date(N.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.party}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.totalBox}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.salesman}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.customer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.boxesSold}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200 flex items-center gap-2",children:[r.jsx("span",{children:N.boxReceived}),r.jsx("input",{type:"number",min:0,className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm text-center",value:d[N.id]??"",onChange:D=>c(S=>({...S,[N.id]:D.target.value})),placeholder:"Enter"})]}),r.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${(Number.isFinite(R)&&R!==0?k:N.balance)<0?"text-red-500":"text-green-500"}`,children:Number.isFinite(R)&&R!==0?k:N.balance})]},N.id)})})]})}),r.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:["Total Boxes: ",r.jsx("b",{children:E})," | Boxes Sold:"," ",r.jsx("b",{children:P})]})]})},mb=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1),[m,f]=p.useState(0),[x,h]=p.useState(null),[y,b]=p.useState([]),[v,E]=p.useState(!1);p.useEffect(()=>{n&&P()},[n]);const P=async()=>{c(!0);try{const w=await qh(n);o(w.rows||[]),f(w.totals?.totalBalance??0)}catch(w){console.error("Error fetching box summary:",w),o([]),f(0)}finally{c(!1)}},N=async w=>{E(!0);try{const k=await Kh(n,w);b(k.rows||[]),h(w)}catch(k){console.error(k),b([])}finally{E(!1)}},R=()=>{const w=document.getElementById("printable-area")?.innerHTML;if(!w)return;const k=window.open("","","height=600,width=800");if(!k)return;const D=new Date().toISOString().split("T")[0];k.document.title=`Daily Summary Box - ${D}`,k.document.write("<html><head><title>Fishow - Daily Summary Box</title>"),k.document.write("<style>body{font-family: Arial, sans-serif; margin:20px;} h1,h2{text-align:center;} table{width:100%; border-collapse:collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),k.document.write("</head><body><h1>Fishow</h1><h2>Daily Summary (Box)</h2>"),k.document.write(w),k.document.write('<div class="footer">Thank you for your business!</div>'),k.document.write("</body></html>"),k.document.close(),k.focus(),k.print(),k.close()};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Daily Summary (Box)"}),r.jsx("button",{onClick:R,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sold(cash sale+box sale)"})]})}),r.jsx("tbody",{children:l.map((w,k)=>r.jsxs(Oi.Fragment,{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-medium",children:w.party}),r.jsx("td",{className:"px-6 py-4",children:w.balance}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>N(w.partyId),className:"text-blue-600 text-sm underline",children:"View Customers"})})]}),x===w.partyId&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"bg-gray-50 p-4",children:v?r.jsx("div",{children:"Loading..."}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left",children:"Customer"}),r.jsx("th",{className:"text-left",children:"Boxes"})]})}),r.jsx("tbody",{children:y.map((D,S)=>r.jsxs("tr",{children:[r.jsx("td",{children:D.customer}),r.jsx("td",{children:D.boxes})]},S))})]})})})]},k))}),r.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:"Total Balance"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:m})]})})]})})]})},fb=()=>{const[n,l]=p.useState([]),[o,d]=p.useState(!1),[c,m]=p.useState(null),[f,x]=p.useState(0),[h,y]=p.useState(null),[b,v]=p.useState([]),[E,P]=p.useState(!1),N=async k=>{if(h===k){y(null);return}P(!0);try{const D=await Yh(k);v(D.rows||[]),y(k)}finally{P(!1)}};p.useEffect(()=>{R()},[]),p.useEffect(()=>{if(!c)return;const k=setTimeout(()=>m(null),3e3);return()=>clearTimeout(k)},[c]);const R=async()=>{d(!0);try{const k=await Qh(),D=(k.rows||[]).map(S=>({partyId:S.partyId,party:S.party,totalBalance:S.totalBalance}));l(D),x(k.totals?.grandTotal??0)}catch(k){console.error("Error loading box balance:",k),m({message:"Failed to load box balance",type:"error"}),l([]),x(0)}finally{d(!1)}},w=()=>{const k=document.getElementById("printable-area")?.innerHTML;if(!k)return;const D=window.open("","","height=600,width=800");if(!D)return;const S=new Date().toISOString().split("T")[0];D.document.title=`Total Box Balance - ${S}`,D.document.write("<html><head><title>Fishow - Total Box Balance</title>"),D.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px;} h1,h2{text-align:center;} table{width:100%; border-collapse:collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),D.document.write("</head><body><h1>Fishow</h1><h2>Total Box Balance</h2>"),D.document.write(k),D.document.write('<div class="footer">Thank you for your business!</div>'),D.document.write("</body></html>"),D.document.close(),D.focus(),D.print(),D.close()};return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[c&&r.jsx("div",{className:`px-4 py-3 rounded-lg shadow border ${c.type==="success"?"bg-green-100 border-green-200 text-green-800":"bg-red-100 border-red-200 text-red-800"}`,children:c.message}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Total Box Balance"}),r.jsx("button",{onClick:w,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Balance of Boxes"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Details"})]})}),r.jsx("tbody",{children:n.map((k,D)=>r.jsxs(Oi.Fragment,{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-medium",children:k.party}),r.jsx("td",{className:"px-6 py-4",children:k.totalBalance}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>N(k.partyId),className:"text-blue-600 text-sm underline",children:"View Customers"})})]}),h===k.partyId&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"bg-gray-50 p-4",children:E?r.jsx("div",{children:"Loading..."}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Customer"}),r.jsx("th",{children:"Box Balance"})]})}),r.jsx("tbody",{children:b.map((S,L)=>r.jsxs("tr",{children:[r.jsx("td",{children:S.customer}),r.jsx("td",{children:S.total_balance})]},L))})]})})})]},D))}),r.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:f})]})})]})})]})},ll=()=>new Date().toISOString().split("T")[0],pb=()=>{const n=kt(),{reportType:l}=Zp(),o=l||"daily-collection",[d,c]=p.useState(()=>{const P=ll();return o==="total-box-balance"||o==="daily-summary-box"||o==="daily-summary"||o==="sales-register"?{startDate:"",endDate:""}:{startDate:P,endDate:P}}),[m,f]=p.useState(()=>o==="total-box-balance"||o==="daily-summary-box"||o==="daily-summary"||o==="daily-collection"||o==="sales-register"?ll():""),[x,h]=p.useState(0),y={"daily-collection":ib,"sales-register":db,"daily-summary":cb,"box-receive":ub,"daily-summary-box":mb,"total-box-balance":fb},b={"daily-collection":"Daily Collection Sheet","sales-register":"Sales Register","daily-summary":"Daily Summary","box-receive":"Box Receive Report","daily-summary-box":"Daily Summary (Box)","total-box-balance":"Total Box Balance"},v=(P,N)=>{c({startDate:P,endDate:N})},E=y[o];return p.useEffect(()=>{(o==="total-box-balance"||o==="daily-summary-box"||o==="daily-summary"||o==="daily-collection"||o==="sales-register")&&!m&&f(ll())},[o,m]),p.useEffect(()=>{if(o!=="total-box-balance"&&o!=="daily-summary-box"&&o!=="daily-summary"&&o!=="sales-register"&&(!d.startDate||!d.endDate)){const N=ll();c({startDate:N,endDate:N})}},[o,d.startDate,d.endDate]),p.useEffect(()=>{(async()=>{if(o!=="daily-summary"||!m){h(0);return}try{const N=await gm(m);h(Number(N.totals.grandTotal)||0)}catch(N){console.error(N),h(0)}})()},[o,m]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b[o]||"Reports"})}),r.jsx("button",{onClick:()=>n("/dashboard"),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Back to Dashboard"})]})}),o!=="total-box-balance"&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-4",children:o==="daily-summary-box"||o==="daily-summary"||o==="daily-collection"||o==="sales-register"?r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Select Date:"}),r.jsx("input",{type:"date",value:m,onChange:P=>f(P.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),o==="daily-summary"&&r.jsxs("div",{className:"ml-auto text-sm font-medium text-gray-700 dark:text-gray-300",children:["Total Sale: ",r.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",x.toFixed(2)]})]})]}):r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Date Range:"}),r.jsx("input",{type:"date",value:d.startDate,onChange:P=>v(P.target.value,d.endDate),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"to"}),r.jsx("input",{type:"date",value:d.endDate,onChange:P=>v(d.startDate,P.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4",children:E?o==="total-box-balance"?r.jsx(E,{}):o==="daily-summary-box"?r.jsx(E,{date:m}):o==="daily-summary"?r.jsx(E,{date:m}):o==="daily-collection"?r.jsx(E,{date:m}):o==="sales-register"?r.jsx(E,{date:m}):r.jsx(E,{dateRange:d}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Report not found."})})})]})]})},ol="salesmen",xb=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[h,y]=p.useState(1),[b,v]=p.useState(0),[E,P]=p.useState(!1),[N,R]=p.useState(!1),w=10,k=async(T=h)=>{try{P(!0);const I=await Je(ol,{page:T,pageSize:w});d(I.data||[]),v(I.totalCount||0),y(I.page||T)}catch(I){console.error("Error fetching salesmen:",I)}finally{P(!1)}};p.useEffect(()=>{k(h)},[h]);const D=async()=>{if(n.trim())try{R(!0),await El(ol,{name:n.trim()}),l(""),await k(1),y(1)}catch(T){console.error("Error saving salesman:",T),T?.message&&alert(T.message)}finally{R(!1)}},S=T=>{m(T.id),x(T.name)},L=async T=>{if(f.trim())try{R(!0),await Dl(ol,T,{name:f.trim()}),m(null),x(""),await k()}catch(I){console.error("Error updating salesman:",I),I?.message&&alert(I.message)}finally{R(!1)}},V=async T=>{if(window.confirm("Are you sure you want to delete this salesman?"))try{R(!0),await Tl(ol,T);const I=Math.max(0,b-1),q=Math.max(1,Math.ceil(I/w));h>q&&y(q),await k()}catch(I){console.error("Error deleting salesman:",I),I?.message&&alert(I.message)}finally{R(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Salesman"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:T=>{T.preventDefault(),D()},children:[r.jsx("input",{type:"text",placeholder:"Salesman name",value:n,onChange:T=>l(T.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:E?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No salesmen found"})}):o.map(T=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:T.created_at?new Date(T.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===T.id?r.jsx("input",{type:"text",value:f,onChange:I=>x(I.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):T.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===T.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(T.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(wl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(ma,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(T),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Va,{size:18})}),r.jsx("button",{onClick:()=>V(T.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(T.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:h===1||E,onClick:()=>y(T=>Math.max(1,T-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",h," of ",Math.max(1,Math.ceil(b/w))]}),r.jsx("button",{disabled:h*w>=b||E,onClick:()=>y(T=>T+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})},gb=()=>{const[n,l]=p.useState(""),[o,d]=p.useState(""),[c,m]=p.useState(""),[f,x]=p.useState(""),[h,y]=p.useState(""),[b,v]=p.useState(""),[E,P]=p.useState(!1),N=kt(),R=h&&b&&h===b,w=async k=>{if(k.preventDefault(),!R){alert("Passwords do not match");return}if(!f){alert("Please select a role");return}P(!0);try{await Ph({fullName:n.trim(),username:o.trim(),email:c.trim(),password:h,role:f}),alert("Account created successfully!"),N("/login")}catch(D){if(D?.response){const S=D.response.data?.message||D.response.data;D.response.status===409?alert(S||"Email or username already exists"):D.response.status===400?alert(S||"Invalid input"):alert(S||"Something went wrong.")}else alert("Network error. Check connection.")}finally{P(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-colors duration-200",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-600 transition-colors duration-200",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:r.jsx(Ki,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Fishow"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Powered by Popular Fish"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Developed by Cydexsoft"})]}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(tg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"text",value:n,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your full name",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",value:o,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Choose a username",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"email",value:c,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your email",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Role"}),r.jsxs("select",{value:f,onChange:k=>x(k.target.value),className:"w-full pl-3 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[r.jsx("option",{value:"",children:"Select role"}),r.jsx("option",{value:"sale",children:"Sale"}),r.jsx("option",{value:"box",children:"Box"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"password",value:h,onChange:k=>y(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Create a password",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"password",value:b,onChange:k=>v(k.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg ${b&&!R?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`,placeholder:"Confirm your password",required:!0})]}),b&&!R&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"})]}),r.jsx("button",{type:"submit",disabled:!R||!n||!o||!c||!f||E,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all disabled:bg-gray-400 dark:disabled:bg-gray-600",children:E?"Signing up...":"Sign Up"})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Already have an account?"," ",r.jsx(vl,{to:"/login",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign In"})]})})]})})})};async function hb(n){const l=await Pe.get("/api/ledger/transactions",{params:n});return{data:l.data.data,meta:l.data.meta}}async function yb(n,l){if(!n||n<=0)throw new Error("Invalid id");return(await Pe.put(`/api/ledger/transactions/${n}`,l)).data}async function bb(n){if(!n||n<=0)throw new Error("Invalid id");await Pe.delete(`/api/ledger/transactions/${n}`)}const w0=["ACME Traders","Blue Ocean Ltd","SeaFresh","Prime Fishery","Harbor Supplies"];function vb(n){const l=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),d=String(n.getDate()).padStart(2,"0");return`${l}-${o}-${d}`}(()=>{const n=[],l=new Date;for(let o=1;o<=120;o++){const d=Math.floor(Math.random()*90),c=new Date(l);c.setDate(l.getDate()-d);const m=["sale","payment","discount"],f=m[Math.floor(Math.random()*m.length)];n.push({id:o,customer_id:o%5+1,customer_name:w0[o%w0.length],entry_date:vb(c),source_type:f,source_id:f==="sale"?1e3+o:null,source_display:f==="sale"?`INV-${1e3+o}`:f==="payment"?`PAY-${2e3+o}`:null,amount:parseFloat((Math.random()*5e3+100).toFixed(2)),note:Math.random()>.7?"Manual adjustment":null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}return n.sort((o,d)=>o.entry_date<d.entry_date?1:-1),n})();const wb=25;function k0(n){const l=new Date;l.setDate(l.getDate()-n+1);const o=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),c=String(l.getDate()).padStart(2,"0");return`${o}-${d}-${c}`}const kb=()=>{const[n,l]=p.useState([]),[o,d]=p.useState(!0),[c,m]=p.useState(1),[f,x]=p.useState(wb),[h,y]=p.useState(1),[b,v]=p.useState(k0(30)),[E,P]=p.useState(()=>{const W=new Date,ke=W.getFullYear(),ye=String(W.getMonth()+1).padStart(2,"0"),je=String(W.getDate()).padStart(2,"0");return`${ke}-${ye}-${je}`}),[N,R]=p.useState(""),[w,k]=p.useState(null),[D,S]=p.useState(!1),[L,V]=p.useState(!1);p.useEffect(()=>{I()},[c,f]);const T=()=>({start:b||void 0,end:E||void 0,q:N||void 0,page:c,pageSize:f,sortBy:"entry_date",sortOrder:"desc"}),I=async()=>{d(!0);try{const W=T(),ke=await hb(W);l(ke.data),y(ke.meta.totalPages)}catch(W){console.error("Failed to fetch transactions",W),st.error("Failed to load transactions")}finally{d(!1)}},q=()=>{m(1),I()},se=()=>{v(k0(30));const W=new Date;P(`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`),R(""),m(1),I()},ve=W=>{k({...W}),S(!0)},we=async()=>{if(w){V(!0);try{await yb(w.id,{entry_date:w.entry_date,amount:w.amount,note:w.note}),st.success("Transaction updated"),S(!1),k(null),I()}catch(W){console.error("Failed to update",W),st.error("Failed to update transaction")}finally{V(!1)}}},te=async W=>{if(confirm("Are you sure you want to delete this transaction?"))try{await bb(W),st.success("Transaction deleted"),I()}catch(ke){console.error("Failed to delete",ke),st.error("Failed to delete transaction")}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Cash Transactions"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mt-2",children:"Manage cash-related transactions"})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Start Date"}),r.jsx("input",{type:"date",value:b,onChange:W=>v(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"End Date"}),r.jsx("input",{type:"date",value:E,onChange:W=>P(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Search (customer)"}),r.jsx("input",{value:N,onChange:W=>R(W.target.value),placeholder:"Search...",className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Apply"}),r.jsx("button",{onClick:se,className:"px-3 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md",children:"Reset"})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Source Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})}):n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300",children:"No transactions found."})}):n.map(W=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.entry_date}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.customer_name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.source_type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.amount.toFixed(2)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>ve(W),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>te(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},W.id))})]})}),r.jsxs("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",c," of ",h]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{c>1&&m(c-1)},disabled:c<=1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Prev"}),r.jsx("button",{onClick:()=>{c<h&&m(c+1)},disabled:c>=h,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Next"})]})]})]})]}),D&&w&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Edit Cash Transaction"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),r.jsx("input",{type:"date",value:w.entry_date,onChange:W=>k({...w,entry_date:W.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Customer"}),r.jsx("input",{type:"text",value:w.customer_name,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Source Type"}),r.jsx("input",{type:"text",value:w.source_type,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),r.jsx("input",{type:"number",value:w.amount,onChange:W=>k({...w,amount:parseFloat(W.target.value||"0")}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),r.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[r.jsx("button",{onClick:()=>{S(!1),k(null)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"}),r.jsx("button",{onClick:we,disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:L?"Saving...":"Save"})]})]})})})]})};async function jb(n={}){return(await Pe.get("/api/box-transactions",{params:n})).data}async function Nb(n,l){return(await Pe.put(`/api/box-transactions/${n}`,l)).data}async function Sb(n){await Pe.delete(`/api/box-transactions/${n}`)}const Cb=25;function j0(n){const l=new Date;l.setDate(l.getDate()-n+1);const o=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),c=String(l.getDate()).padStart(2,"0");return`${o}-${d}-${c}`}const Eb=()=>{const[n,l]=p.useState([]),[o,d]=p.useState(!0),[c,m]=p.useState(1),[f,x]=p.useState(Cb),[h,y]=p.useState(1),[b,v]=p.useState(j0(30)),[E,P]=p.useState(()=>{const W=new Date;return`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`}),[N,R]=p.useState(""),[w,k]=p.useState(null),[D,S]=p.useState(!1),[L,V]=p.useState(!1);p.useEffect(()=>{I()},[c,f]);const T=()=>({start:b||void 0,end:E||void 0,page:c,pageSize:f}),I=async()=>{d(!0);try{const W=await jb(T());l(W.data),y(W.meta.totalPages)}catch(W){console.error("Failed to fetch box transactions",W),st.error("Failed to load box transactions")}finally{d(!1)}},q=()=>{m(1),I()},se=()=>{v(j0(30));const W=new Date;P(`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`),m(1),I()},ve=W=>{k({...W}),S(!0)},we=async()=>{if(w){V(!0);try{await Nb(w.id,{trans_date:w.trans_date,box_sale:w.box_sale,box_receive:w.box_receive}),st.success("Transaction updated"),S(!1),k(null),I()}catch(W){console.error("Failed to update box transaction",W),st.error("Failed to update transaction")}finally{V(!1)}}},te=async W=>{if(confirm("Are you sure you want to delete this transaction?"))try{await Sb(W),st.success("Transaction deleted"),I()}catch(ke){console.error("Failed to delete",ke),st.error("Failed to delete transaction")}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-6 flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Box Transactions"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mt-2",children:"Manage box receive & sale records"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Start Date"}),r.jsx("input",{type:"date",value:b,onChange:W=>v(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"End Date"}),r.jsx("input",{type:"date",value:E,onChange:W=>P(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[r.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Apply"}),r.jsx("button",{onClick:se,className:"px-3 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md",children:"Reset"})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})}):n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300",children:"No transactions found."})}):n.map(W=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.trans_date}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.party.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.customer.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.box_receive}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.box_sale}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>ve(W),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>te(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},W.id))})]})}),r.jsxs("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",c," of ",h]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{c>1&&m(c-1)},disabled:c<=1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Prev"}),r.jsx("button",{onClick:()=>{c<h&&m(c+1)},disabled:c>=h,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Next"})]})]})]})]}),D&&w&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Edit Box Transaction"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),r.jsx("input",{type:"date",value:w.trans_date,onChange:W=>k({...w,trans_date:W.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Party"}),r.jsx("input",{type:"text",value:w.party.name,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Customer"}),r.jsx("input",{type:"text",value:w.customer.name,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Box Received"}),r.jsx("input",{type:"number",value:w.box_receive,onChange:W=>k({...w,box_receive:parseInt(W.target.value||"0")}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Box Sold"}),r.jsx("input",{type:"number",value:w.box_sale,onChange:W=>k({...w,box_sale:parseInt(W.target.value||"0")}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),r.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[r.jsx("button",{onClick:()=>{S(!1),k(null)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"}),r.jsx("button",{onClick:we,disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:L?"Saving...":"Save"})]})]})})})]})};async function Db(n){return(await Pe.get("/api/statements",{params:n})).data}async function Tb(n){return(await Pe.get("/api/statements/box",{params:n})).data}const Rb=()=>{const n=kt(),[l,o]=p.useState(""),[d,c]=p.useState(""),[m,f]=p.useState(""),[x,h]=p.useState(""),[y,b]=p.useState([]),[v,E]=p.useState([]),[P,N]=p.useState(0),[R,w]=p.useState(!1),[k,D]=p.useState("");p.useEffect(()=>{(async()=>{try{const q=await Je("customers",{pageSize:1e3});b(q.data)}catch(q){console.error("Failed to load customers:",q)}})()},[]);const L=(()=>{let I=0,q=0;return v.forEach(se=>{I+=(se.box_sold||0)+(se.box_sale||0),q+=se.box_receive||0}),{totalBoxSale:I,totalBoxReceived:q,totalBalance:P+I-q}})();p.useEffect(()=>{const I=async()=>{if(!l||!d||!m){E([]),D("");return}w(!0),D("");try{const se={start:l,end:d,pageSize:1e3,customer_id:Number(m)},ve=await Tb(se);E(ve.data),N(ve.openingBalance??0)}catch(se){console.error("Failed to fetch transactions:",se),D("Failed to load transaction data"),E([])}finally{w(!1)}},q=setTimeout(()=>{I()},500);return()=>clearTimeout(q)},[l,d,m]);const V=I=>{f(I.id),h(I.name)},T=()=>{const I=document.getElementById("printable-area");if(!I)return;const q=window.open("","","height=600,width=800");q&&(q.document.title=`Box Statement - ${x||"All Customers"}`,q.document.write("<html><head><title>Fishow - Box Statement</title>"),q.document.write(`
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: left; }
        th { background: #f2f2f2; }
        .footer { margin-top: 20px; text-align: center; font-size: 12px; }
        .header-info { margin: 10px 0; }
      </style>
    `),q.document.write("</head><body><h1>Fishow</h1><h2>Box Statement</h2>"),q.document.write(`
      <div class="header-info">
        <p><strong>Date:</strong> ${l} To ${d}</p>
        ${x?`<p><strong>Customer Name:</strong> ${x}</p>`:""}

      </div>
    `),q.document.write(I.innerHTML),q.document.write('<div class="footer">Thank you for your business!</div>'),q.document.write("</body></html>"),q.document.close(),q.focus(),q.print(),q.close())};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Statement"})}),r.jsx("button",{onClick:()=>n("/dashboard"),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Back to Dashboard"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:l,onChange:I=>o(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:d,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Name"}),r.jsx(pt,{value:m,onChange:f,placeholder:"Search customer...",searchData:y.map(I=>({...I,id:String(I.id)})),onSelect:V,createRoute:"/customers/create",entityType:"customer"})]})]}),k&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4",children:r.jsx(ed,{title:"Box Statement",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Box Statement"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:T,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6 print:block hidden",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Box Statement"}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",l," To ",d]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"})," ",x||"All Customers"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Old Balance:"})," ",P]})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Mark"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sale"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Remark"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Balance"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:v.length>0?v.map((I,q)=>{const se=P+v.slice(0,q+1).reduce((ve,we)=>ve+(we.box_sold||0)+(we.box_sale||0)-(we.box_receive||0),0);return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(I.trans_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.party?.name||"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:I.box_sold}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:I.box_sale||0}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:I.box_receive||0}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:I.remark||""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:se})]},I.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:R?"Loading...":"No data available"})})}),r.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Total:"}),r.jsx("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:L.totalBoxSale}),r.jsx("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:L.totalBoxReceived}),r.jsx("td",{className:"px-6 py-3 text-sm font-bold text-blue-600 dark:text-blue-400",children:L.totalBalance})]})})]})})]})]})})})]})]})},Pb=()=>{const n=kt(),[l,o]=p.useState(""),[d,c]=p.useState(""),[m,f]=p.useState(""),[x,h]=p.useState(""),[y,b]=p.useState([]),[v,E]=p.useState(null),[P,N]=p.useState(!1),[R,w]=p.useState("");p.useEffect(()=>{(async()=>{try{const L=await Je("customers",{pageSize:1e3});b(L.data)}catch(L){console.error("Failed to load customers:",L)}})()},[]),p.useEffect(()=>{const S=async()=>{if(!l||!d||!m){E(null);return}N(!0),w("");try{const V={start:l,end:d};m&&(V.customerId=m);const T=await Db(V);E(T)}catch(V){console.error("Failed to fetch statement:",V),w("Failed to load statement data"),E(null)}finally{N(!1)}},L=setTimeout(()=>{S()},500);return()=>clearTimeout(L)},[l,d,m]);const k=S=>{f(S.id),h(S.name)},D=()=>{const S=document.getElementById("printable-area");if(!S)return;const L=window.open("","","height=600,width=800");L&&(L.document.title=`Cash Statement - ${x||"All Customers"}`,L.document.write("<html><head><title>Fishow - Statement</title>"),L.document.write(`
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: left; }
        th { background: #f2f2f2; }
        .footer { margin-top: 20px; text-align: center; font-size: 12px; }
        .header-info { margin: 10px 0; }
        .text-right { text-align: right; }
      </style>
    `),L.document.write("</head><body><h1>Fishow</h1><h2>Statement</h2>"),L.document.write(`
      <div class="header-info">
        <p><strong>From:</strong> ${l} <strong>To:</strong> ${d}</p>
        ${x?`<p><strong>Name:</strong> ${x}</p>`:""}
        ${v?.totals?`<p><strong>Old Balance:</strong> ${v.totals.balanceBeforeStart.toFixed(2)}</p>`:""}
      </div>
    `),L.document.write(S.innerHTML),L.document.write('<div class="footer">Thank you for your business!</div>'),L.document.write("</body></html>"),L.document.close(),L.focus(),L.print(),L.close())};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cash Statement"})}),r.jsx("button",{onClick:()=>n("/dashboard"),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Back to Dashboard"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:l,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:d,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Name"}),r.jsx(pt,{value:m,onChange:f,placeholder:"Search customer...",searchData:y.map(S=>({...S,id:String(S.id)})),onSelect:k,createRoute:"/customers/create",entityType:"customer"})]})]}),R&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:R})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4",children:r.jsx(ed,{title:"Cash Statement",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cash Statement"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:D,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6 print:block hidden",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Popular Fish Kondotty : Statement"}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"From:"})," ",l," ",r.jsx("span",{className:"ml-4 font-medium",children:"To:"})," ",d]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"})," ",v?.customerName||x||"All Customers"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Old Balance:"})," ",v?.totals.balanceBeforeStart.toFixed(4)??"0.0000"]})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:v&&v.rows.length>0?v.rows.map((S,L)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.party}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:S.item}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:S.salesman}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.boxesSold}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.price.toFixed(4)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.grandTotal.toFixed(4)})]},L)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:P?"Loading...":"No data available"})})}),r.jsxs("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Total:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:["",v?.totals.salesBetween.toFixed(4)??"0.0000"]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Old Balance:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:["",v?.totals.balanceBeforeStart.toFixed(4)??"0.0000"]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-blue-600 dark:text-blue-400",children:["",((v?.totals.salesBetween||0)+(v?.totals.balanceBeforeStart||0)).toFixed(4)]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Cash Paid:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-green-600 dark:text-green-400",children:["",v?.totals.totalCashPaid.toFixed(4)??"0.0000"]})]}),r.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-600",children:[r.jsx("td",{colSpan:4,className:"px-6 py-4 text-right text-sm font-bold text-gray-900 dark:text-white",children:"Final Balance:"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-red-600 dark:text-red-400",children:["",((v?.totals.salesBetween||0)+(v?.totals.balanceBeforeStart||0)-(v?.totals.totalCashPaid||0)).toFixed(4)]})]})]})]})})]})]})})})]})]})};function Ib(){return r.jsx(Ox,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:r.jsxs(xx,{children:[r.jsx(nt,{path:"/login",element:r.jsx(_h,{})}),r.jsx(nt,{path:"/signup",element:r.jsx(gb,{})}),r.jsx(nt,{path:"/dashboard",element:r.jsx(ay,{})}),r.jsx(nt,{path:"/sales-entry",element:r.jsx(dy,{})}),r.jsx(nt,{path:"/load-wise-list",element:r.jsx(py,{})}),r.jsx(nt,{path:"/fish-box-sent",element:r.jsx(Xh,{})}),r.jsx(nt,{path:"/fish-box-received",element:r.jsx(Jh,{})}),r.jsx(nt,{path:"/multiple-box-update",element:r.jsx(ey,{})}),r.jsx(nt,{path:"/box-sales-list",element:r.jsx($h,{})}),r.jsx(nt,{path:"/create-customer",element:r.jsx(ty,{})}),r.jsx(nt,{path:"/create-party",element:r.jsx(nb,{})}),r.jsx(nt,{path:"/create-salesman",element:r.jsx(xb,{})}),r.jsx(nt,{path:"/create-item",element:r.jsx(ab,{})}),r.jsx(nt,{path:"/cash-transactions",element:r.jsx(kb,{})}),r.jsx(nt,{path:"/box-transactions",element:r.jsx(Eb,{})}),r.jsx(nt,{path:"/reports/:reportType",element:r.jsx(pb,{})}),r.jsx(nt,{path:"/reports/box-statement",element:r.jsx(Rb,{})}),r.jsx(nt,{path:"/reports/cash-statement",element:r.jsx(Pb,{})}),r.jsx(nt,{path:"/",element:r.jsx(fx,{to:"/login",replace:!0})})]})})})}wp.createRoot(document.getElementById("root")).render(r.jsx(p.StrictMode,{children:r.jsx(Fh,{children:r.jsx(Ib,{})})}));
