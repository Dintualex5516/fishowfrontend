(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(c){if(c.ep)return;c.ep=!0;const m=o(c);fetch(c.href,m)}})();function mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xi={exports:{}},In={},gi={exports:{}},_e={};var Bu;function fp(){if(Bu)return _e;Bu=1;var n=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function w(j,F,Q){this.props=j,this.context=F,this.refs=D,this.updater=Q||P}w.prototype.isReactComponent={},w.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=w.prototype;function C(j,F,Q){this.props=j,this.context=F,this.refs=D,this.updater=Q||P}var S=C.prototype=new k;S.constructor=C,N(S,w.prototype),S.isPureReactComponent=!0;var L=Array.isArray,V=Object.prototype.hasOwnProperty,R={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function Y(j,F,Q){var ie,de={},me=null,le=null;if(F!=null)for(ie in F.ref!==void 0&&(le=F.ref),F.key!==void 0&&(me=""+F.key),F)V.call(F,ie)&&!_.hasOwnProperty(ie)&&(de[ie]=F[ie]);var be=arguments.length-2;if(be===1)de.children=Q;else if(1<be){for(var Fe=Array(be),rt=0;rt<be;rt++)Fe[rt]=arguments[rt+2];de.children=Fe}if(j&&j.defaultProps)for(ie in be=j.defaultProps,be)de[ie]===void 0&&(de[ie]=be[ie]);return{$$typeof:n,type:j,key:me,ref:le,props:de,_owner:R.current}}function se(j,F){return{$$typeof:n,type:j.type,key:F,ref:j.ref,props:j.props,_owner:j._owner}}function ve(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function we(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Q){return F[Q]})}var te=/\/+/g;function W(j,F){return typeof j=="object"&&j!==null&&j.key!=null?we(""+j.key):F.toString(36)}function ke(j,F,Q,ie,de){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var le=!1;if(j===null)le=!0;else switch(me){case"string":case"number":le=!0;break;case"object":switch(j.$$typeof){case n:case l:le=!0}}if(le)return le=j,de=de(le),j=ie===""?"."+W(le,0):ie,L(de)?(Q="",j!=null&&(Q=j.replace(te,"$&/")+"/"),ke(de,F,Q,"",function(rt){return rt})):de!=null&&(ve(de)&&(de=se(de,Q+(!de.key||le&&le.key===de.key?"":(""+de.key).replace(te,"$&/")+"/")+j)),F.push(de)),1;if(le=0,ie=ie===""?".":ie+":",L(j))for(var be=0;be<j.length;be++){me=j[be];var Fe=ie+W(me,be);le+=ke(me,F,Q,Fe,de)}else if(Fe=T(j),typeof Fe=="function")for(j=Fe.call(j),be=0;!(me=j.next()).done;)me=me.value,Fe=ie+W(me,be++),le+=ke(me,F,Q,Fe,de);else if(me==="object")throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return le}function ye(j,F,Q){if(j==null)return j;var ie=[],de=0;return ke(j,ie,"","",function(me){return F.call(Q,me,de++)}),ie}function je(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(Q){(j._status===0||j._status===-1)&&(j._status=1,j._result=Q)},function(Q){(j._status===0||j._status===-1)&&(j._status=2,j._result=Q)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var q={current:null},M={transition:null},J={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:M,ReactCurrentOwner:R};function ae(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:ye,forEach:function(j,F,Q){ye(j,function(){F.apply(this,arguments)},Q)},count:function(j){var F=0;return ye(j,function(){F++}),F},toArray:function(j){return ye(j,function(F){return F})||[]},only:function(j){if(!ve(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},_e.Component=w,_e.Fragment=o,_e.Profiler=c,_e.PureComponent=C,_e.StrictMode=d,_e.Suspense=g,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,_e.act=ae,_e.cloneElement=function(j,F,Q){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=N({},j.props),de=j.key,me=j.ref,le=j._owner;if(F!=null){if(F.ref!==void 0&&(me=F.ref,le=R.current),F.key!==void 0&&(de=""+F.key),j.type&&j.type.defaultProps)var be=j.type.defaultProps;for(Fe in F)V.call(F,Fe)&&!_.hasOwnProperty(Fe)&&(ie[Fe]=F[Fe]===void 0&&be!==void 0?be[Fe]:F[Fe])}var Fe=arguments.length-2;if(Fe===1)ie.children=Q;else if(1<Fe){be=Array(Fe);for(var rt=0;rt<Fe;rt++)be[rt]=arguments[rt+2];ie.children=be}return{$$typeof:n,type:j.type,key:de,ref:me,props:ie,_owner:le}},_e.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:m,_context:j},j.Consumer=j},_e.createElement=Y,_e.createFactory=function(j){var F=Y.bind(null,j);return F.type=j,F},_e.createRef=function(){return{current:null}},_e.forwardRef=function(j){return{$$typeof:x,render:j}},_e.isValidElement=ve,_e.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:je}},_e.memo=function(j,F){return{$$typeof:y,type:j,compare:F===void 0?null:F}},_e.startTransition=function(j){var F=M.transition;M.transition={};try{j()}finally{M.transition=F}},_e.unstable_act=ae,_e.useCallback=function(j,F){return q.current.useCallback(j,F)},_e.useContext=function(j){return q.current.useContext(j)},_e.useDebugValue=function(){},_e.useDeferredValue=function(j){return q.current.useDeferredValue(j)},_e.useEffect=function(j,F){return q.current.useEffect(j,F)},_e.useId=function(){return q.current.useId()},_e.useImperativeHandle=function(j,F,Q){return q.current.useImperativeHandle(j,F,Q)},_e.useInsertionEffect=function(j,F){return q.current.useInsertionEffect(j,F)},_e.useLayoutEffect=function(j,F){return q.current.useLayoutEffect(j,F)},_e.useMemo=function(j,F){return q.current.useMemo(j,F)},_e.useReducer=function(j,F,Q){return q.current.useReducer(j,F,Q)},_e.useRef=function(j){return q.current.useRef(j)},_e.useState=function(j){return q.current.useState(j)},_e.useSyncExternalStore=function(j,F,Q){return q.current.useSyncExternalStore(j,F,Q)},_e.useTransition=function(){return q.current.useTransition()},_e.version="18.3.1",_e}var Fu;function Li(){return Fu||(Fu=1,gi.exports=fp()),gi.exports}var Au;function pp(){if(Au)return In;Au=1;var n=Li(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(x,g,y){var v,b={},T=null,P=null;y!==void 0&&(T=""+y),g.key!==void 0&&(T=""+g.key),g.ref!==void 0&&(P=g.ref);for(v in g)d.call(g,v)&&!m.hasOwnProperty(v)&&(b[v]=g[v]);if(x&&x.defaultProps)for(v in g=x.defaultProps,g)b[v]===void 0&&(b[v]=g[v]);return{$$typeof:l,type:x,key:T,ref:P,props:b,_owner:c.current}}return In.Fragment=o,In.jsx=f,In.jsxs=f,In}var Ou;function xp(){return Ou||(Ou=1,xi.exports=pp()),xi.exports}var r=xp(),p=Li();const Bi=mp(p);var Gs={},hi={exports:{}},Tt={},yi={exports:{}},bi={};var zu;function gp(){return zu||(zu=1,(function(n){function l(M,J){var ae=M.length;M.push(J);e:for(;0<ae;){var j=ae-1>>>1,F=M[j];if(0<c(F,J))M[j]=J,M[ae]=F,ae=j;else break e}}function o(M){return M.length===0?null:M[0]}function d(M){if(M.length===0)return null;var J=M[0],ae=M.pop();if(ae!==J){M[0]=ae;e:for(var j=0,F=M.length,Q=F>>>1;j<Q;){var ie=2*(j+1)-1,de=M[ie],me=ie+1,le=M[me];if(0>c(de,ae))me<F&&0>c(le,de)?(M[j]=le,M[me]=ae,j=me):(M[j]=de,M[ie]=ae,j=ie);else if(me<F&&0>c(le,ae))M[j]=le,M[me]=ae,j=me;else break e}}return J}function c(M,J){var ae=M.sortIndex-J.sortIndex;return ae!==0?ae:M.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var f=Date,x=f.now();n.unstable_now=function(){return f.now()-x}}var g=[],y=[],v=1,b=null,T=3,P=!1,N=!1,D=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var J=o(y);J!==null;){if(J.callback===null)d(y);else if(J.startTime<=M)d(y),J.sortIndex=J.expirationTime,l(g,J);else break;J=o(y)}}function L(M){if(D=!1,S(M),!N)if(o(g)!==null)N=!0,je(V);else{var J=o(y);J!==null&&q(L,J.startTime-M)}}function V(M,J){N=!1,D&&(D=!1,k(Y),Y=-1),P=!0;var ae=T;try{for(S(J),b=o(g);b!==null&&(!(b.expirationTime>J)||M&&!we());){var j=b.callback;if(typeof j=="function"){b.callback=null,T=b.priorityLevel;var F=j(b.expirationTime<=J);J=n.unstable_now(),typeof F=="function"?b.callback=F:b===o(g)&&d(g),S(J)}else d(g);b=o(g)}if(b!==null)var Q=!0;else{var ie=o(y);ie!==null&&q(L,ie.startTime-J),Q=!1}return Q}finally{b=null,T=ae,P=!1}}var R=!1,_=null,Y=-1,se=5,ve=-1;function we(){return!(n.unstable_now()-ve<se)}function te(){if(_!==null){var M=n.unstable_now();ve=M;var J=!0;try{J=_(!0,M)}finally{J?W():(R=!1,_=null)}}else R=!1}var W;if(typeof C=="function")W=function(){C(te)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ye=ke.port2;ke.port1.onmessage=te,W=function(){ye.postMessage(null)}}else W=function(){w(te,0)};function je(M){_=M,R||(R=!0,W())}function q(M,J){Y=w(function(){M(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){N||P||(N=!0,je(V))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return o(g)},n.unstable_next=function(M){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var ae=T;T=J;try{return M()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=T;T=M;try{return J()}finally{T=ae}},n.unstable_scheduleCallback=function(M,J,ae){var j=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?j+ae:j):ae=j,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,M={id:v++,callback:J,priorityLevel:M,startTime:ae,expirationTime:F,sortIndex:-1},ae>j?(M.sortIndex=ae,l(y,M),o(g)===null&&M===o(y)&&(D?(k(Y),Y=-1):D=!0,q(L,ae-j))):(M.sortIndex=F,l(g,M),N||P||(N=!0,je(V))),M},n.unstable_shouldYield=we,n.unstable_wrapCallback=function(M){var J=T;return function(){var ae=T;T=J;try{return M.apply(this,arguments)}finally{T=ae}}}})(bi)),bi}var Mu;function hp(){return Mu||(Mu=1,yi.exports=gp()),yi.exports}var $u;function yp(){if($u)return Tt;$u=1;var n=Li(),l=hp();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,c={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)d.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function T(e){return g.call(b,e)?!0:g.call(v,e)?!1:y.test(e)?b[e]=!0:(v[e]=!0,!1)}function P(e,t,a,s){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,a,s){if(t===null||typeof t>"u"||P(e,t,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function D(e,t,a,s,i,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new D(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k,C);w[t]=new D(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k,C);w[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k,C);w[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,a,s){var i=w.hasOwnProperty(t)?w[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,a,i,s)&&(a=null),s||i===null?T(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):i.mustUseProperty?e[i.propertyName]=a===null?i.type===3?!1:"":a:(t=i.attributeName,s=i.attributeNamespace,a===null?e.removeAttribute(t):(i=i.type,a=i===3||i===4&&a===!0?"":""+a,s?e.setAttributeNS(s,t,a):e.setAttribute(t,a))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),R=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),we=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),M=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,j;function F(e){if(j===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var Q=!1;function ie(e,t){if(!e||Q)return"";Q=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var s=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){s=$}e.call(t.prototype)}else{try{throw Error()}catch($){s=$}e()}}catch($){if($&&s&&typeof $.stack=="string"){for(var i=$.stack.split(`
`),u=s.stack.split(`
`),h=i.length-1,E=u.length-1;1<=h&&0<=E&&i[h]!==u[E];)E--;for(;1<=h&&0<=E;h--,E--)if(i[h]!==u[E]){if(h!==1||E!==1)do if(h--,E--,0>E||i[h]!==u[E]){var I=`
`+i[h].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=h&&0<=E);break}}}finally{Q=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?F(e):""}function de(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case R:return"Portal";case se:return"Profiler";case Y:return"StrictMode";case W:return"Suspense";case ke:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case ve:return(e._context.displayName||"Context")+".Provider";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case je:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function le(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rt(e){var t=Fe(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function z(e){e._valueTracker||(e._valueTracker=rt(e))}function oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Fe(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ge(e,t){var a=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Ce(e,t){var a=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;a=be(t.value!=null?t.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Re(e,t){t=t.checked,t!=null&&S(e,"checked",t,!1)}function gt(e,t){Re(e,t);var a=be(t.value),s=t.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ae(e,t.type,a):t.hasOwnProperty("defaultValue")&&Ae(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Ae(e,t,a){(t!=="number"||xe(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Ke=Array.isArray;function Me(e,t,a,s){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&s&&(e[a].defaultSelected=!0)}else{for(a=""+be(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ma(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vr(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(o(92));if(Ke(a)){if(1<a.length)throw Error(o(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:be(a)}}function qa(e,t){var a=be(t.value),s=be(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function Ka(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fa,dr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,a,s,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){K.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function U(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function Z(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=a.indexOf("--")===0,i=U(a,t[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,i):e[a]=i}}var Ie=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ie[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function $e(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,pa=null,xa=null;function Gi(e){if(e=yn(e)){if(typeof Ya!="function")throw Error(o(280));var t=e.stateNode;t&&(t=fs(t),Ya(e.stateNode,e.type,t))}}function Zi(e){pa?xa?xa.push(e):xa=[e]:pa=e}function ed(){if(pa){var e=pa,t=xa;if(xa=pa=null,Gi(e),t)for(e=0;e<t.length;e++)Gi(t[e])}}function td(e,t){return e(t)}function rd(){}var Pl=!1;function ad(e,t,a){if(Pl)return e(t,a);Pl=!0;try{return td(e,t,a)}finally{Pl=!1,(pa!==null||xa!==null)&&(rd(),ed())}}function Ja(e,t){var a=e.stateNode;if(a===null)return null;var s=fs(a);if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var _l=!1;if(x)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{_l=!1}function hm(e,t,a,s,i,u,h,E,I){var $=Array.prototype.slice.call(arguments,3);try{t.apply(a,$)}catch(G){this.onError(G)}}var Ga=!1,Vn=null,qn=!1,Il=null,ym={onError:function(e){Ga=!0,Vn=e}};function bm(e,t,a,s,i,u,h,E,I){Ga=!1,Vn=null,hm.apply(ym,arguments)}function vm(e,t,a,s,i,u,h,E,I){if(bm.apply(this,arguments),Ga){if(Ga){var $=Vn;Ga=!1,Vn=null}else throw Error(o(198));qn||(qn=!0,Il=$)}}function Qr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function nd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sd(e){if(Qr(e)!==e)throw Error(o(188))}function wm(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var i=a.return;if(i===null)break;var u=i.alternate;if(u===null){if(s=i.return,s!==null){a=s;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===a)return sd(i),e;if(u===s)return sd(i),t;u=u.sibling}throw Error(o(188))}if(a.return!==s.return)a=i,s=u;else{for(var h=!1,E=i.child;E;){if(E===a){h=!0,a=i,s=u;break}if(E===s){h=!0,s=i,a=u;break}E=E.sibling}if(!h){for(E=u.child;E;){if(E===a){h=!0,a=u,s=i;break}if(E===s){h=!0,s=u,a=i;break}E=E.sibling}if(!h)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function ld(e){return e=wm(e),e!==null?od(e):null}function od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=od(e);if(t!==null)return t;e=e.sibling}return null}var id=l.unstable_scheduleCallback,dd=l.unstable_cancelCallback,km=l.unstable_shouldYield,jm=l.unstable_requestPaint,Ze=l.unstable_now,Nm=l.unstable_getCurrentPriorityLevel,Ll=l.unstable_ImmediatePriority,cd=l.unstable_UserBlockingPriority,Kn=l.unstable_NormalPriority,Sm=l.unstable_LowPriority,ud=l.unstable_IdlePriority,Qn=null,tr=null;function Em(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Qn,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Rm,Cm=Math.log,Dm=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(Cm(e)/Dm|0)|0}var Yn=64,Jn=4194304;function Za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xn(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,u=e.pingedLanes,h=a&268435455;if(h!==0){var E=h&~i;E!==0?s=Za(E):(u&=h,u!==0&&(s=Za(u)))}else h=a&~i,h!==0?s=Za(h):u!==0&&(s=Za(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&i)===0&&(i=s&-s,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)a=31-qt(t),i=1<<a,s|=e[a],t&=~i;return s}function Tm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-qt(u),E=1<<h,I=i[h];I===-1?((E&a)===0||(E&s)!==0)&&(i[h]=Tm(E,t)):I<=t&&(e.expiredLanes|=E),u&=~E}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function md(){var e=Yn;return Yn<<=1,(Yn&4194240)===0&&(Yn=64),e}function Fl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function en(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=a}function _m(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<a;){var i=31-qt(a),u=1<<i;t[i]=0,s[i]=-1,e[i]=-1,a&=~u}}function Al(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-qt(a),i=1<<s;i&t|e[s]&t&&(e[s]|=t),a&=~i}}var Oe=0;function fd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var pd,Ol,xd,gd,hd,zl=!1,Gn=[],jr=null,Nr=null,Sr=null,tn=new Map,rn=new Map,Er=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rn.delete(t.pointerId)}}function an(e,t,a,s,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[i]},t!==null&&(t=yn(t),t!==null&&Ol(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lm(e,t,a,s,i){switch(t){case"focusin":return jr=an(jr,e,t,a,s,i),!0;case"dragenter":return Nr=an(Nr,e,t,a,s,i),!0;case"mouseover":return Sr=an(Sr,e,t,a,s,i),!0;case"pointerover":var u=i.pointerId;return tn.set(u,an(tn.get(u)||null,e,t,a,s,i)),!0;case"gotpointercapture":return u=i.pointerId,rn.set(u,an(rn.get(u)||null,e,t,a,s,i)),!0}return!1}function bd(e){var t=Yr(e.target);if(t!==null){var a=Qr(t);if(a!==null){if(t=a.tag,t===13){if(t=nd(a),t!==null){e.blockedOn=t,hd(e.priority,function(){xd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ue=s,a.target.dispatchEvent(s),Ue=null}else return t=yn(a),t!==null&&Ol(t),e.blockedOn=a,!1;t.shift()}return!0}function vd(e,t,a){Zn(e)&&a.delete(t)}function Bm(){zl=!1,jr!==null&&Zn(jr)&&(jr=null),Nr!==null&&Zn(Nr)&&(Nr=null),Sr!==null&&Zn(Sr)&&(Sr=null),tn.forEach(vd),rn.forEach(vd)}function nn(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bm)))}function sn(e){function t(i){return nn(i,e)}if(0<Gn.length){nn(Gn[0],e);for(var a=1;a<Gn.length;a++){var s=Gn[a];s.blockedOn===e&&(s.blockedOn=null)}}for(jr!==null&&nn(jr,e),Nr!==null&&nn(Nr,e),Sr!==null&&nn(Sr,e),tn.forEach(t),rn.forEach(t),a=0;a<Er.length;a++)s=Er[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)bd(a),a.blockedOn===null&&Er.shift()}var ga=L.ReactCurrentBatchConfig,es=!0;function Fm(e,t,a,s){var i=Oe,u=ga.transition;ga.transition=null;try{Oe=1,Ml(e,t,a,s)}finally{Oe=i,ga.transition=u}}function Am(e,t,a,s){var i=Oe,u=ga.transition;ga.transition=null;try{Oe=4,Ml(e,t,a,s)}finally{Oe=i,ga.transition=u}}function Ml(e,t,a,s){if(es){var i=$l(e,t,a,s);if(i===null)no(e,t,s,ts,a),yd(e,s);else if(Lm(i,e,t,a,s))s.stopPropagation();else if(yd(e,s),t&4&&-1<Im.indexOf(e)){for(;i!==null;){var u=yn(i);if(u!==null&&pd(u),u=$l(e,t,a,s),u===null&&no(e,t,s,ts,a),u===i)break;i=u}i!==null&&s.stopPropagation()}else no(e,t,s,null,a)}}var ts=null;function $l(e,t,a,s){if(ts=null,e=Kr(s),e=Yr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(a=t.tag,a===13){if(e=nd(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ts=e,null}function wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case Ll:return 1;case cd:return 4;case Kn:case Sm:return 16;case ud:return 536870912;default:return 16}default:return 16}}var Cr=null,Ul=null,rs=null;function kd(){if(rs)return rs;var e,t=Ul,a=t.length,s,i="value"in Cr?Cr.value:Cr.textContent,u=i.length;for(e=0;e<a&&t[e]===i[e];e++);var h=a-e;for(s=1;s<=h&&t[a-s]===i[u-s];s++);return rs=i.slice(e,1<s?1-s:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function jd(){return!1}function It(e){function t(a,s,i,u,h){this._reactName=a,this._targetInst=i,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(u):u[E]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ns:jd,this.isPropagationStopped=jd,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=It(ha),ln=ae({},ha,{view:0,detail:0}),Om=It(ln),Wl,Vl,on,ss=ae({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&e.type==="mousemove"?(Wl=e.screenX-on.screenX,Vl=e.screenY-on.screenY):Vl=Wl=0,on=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),Nd=It(ss),zm=ae({},ss,{dataTransfer:0}),Mm=It(zm),$m=ae({},ln,{relatedTarget:0}),ql=It($m),Um=ae({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=It(Um),Wm=ae({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vm=It(Wm),qm=ae({},ha,{data:0}),Sd=It(qm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ym[e])?!!t[e]:!1}function Kl(){return Jm}var Xm=ae({},ln,{key:function(e){if(e.key){var t=Km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=It(Xm),Zm=ae({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=It(Zm),ef=ae({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),tf=It(ef),rf=ae({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),af=It(rf),nf=ae({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sf=It(nf),lf=[9,13,27,32],Ql=x&&"CompositionEvent"in window,dn=null;x&&"documentMode"in document&&(dn=document.documentMode);var of=x&&"TextEvent"in window&&!dn,Cd=x&&(!Ql||dn&&8<dn&&11>=dn),Dd=" ",Rd=!1;function Td(e,t){switch(e){case"keyup":return lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function df(e,t){switch(e){case"compositionend":return Pd(t);case"keypress":return t.which!==32?null:(Rd=!0,Dd);case"textInput":return e=t.data,e===Dd&&Rd?null:e;default:return null}}function cf(e,t){if(ya)return e==="compositionend"||!Ql&&Td(e,t)?(e=kd(),rs=Ul=Cr=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uf[e.type]:t==="textarea"}function Id(e,t,a,s){Zi(s),t=cs(t,"onChange"),0<t.length&&(a=new Hl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var cn=null,un=null;function mf(e){Xd(e,0)}function ls(e){var t=ja(e);if(oe(t))return e}function ff(e,t){if(e==="change")return t}var Ld=!1;if(x){var Yl;if(x){var Jl="oninput"in document;if(!Jl){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Jl=typeof Bd.oninput=="function"}Yl=Jl}else Yl=!1;Ld=Yl&&(!document.documentMode||9<document.documentMode)}function Fd(){cn&&(cn.detachEvent("onpropertychange",Ad),un=cn=null)}function Ad(e){if(e.propertyName==="value"&&ls(un)){var t=[];Id(t,un,e,Kr(e)),ad(mf,t)}}function pf(e,t,a){e==="focusin"?(Fd(),cn=t,un=a,cn.attachEvent("onpropertychange",Ad)):e==="focusout"&&Fd()}function xf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(un)}function gf(e,t){if(e==="click")return ls(t)}function hf(e,t){if(e==="input"||e==="change")return ls(t)}function yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:yf;function mn(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var i=a[s];if(!g.call(t,i)||!Kt(e[i],t[i]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zd(e,t){var a=Od(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Od(a)}}function Md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $d(){for(var e=window,t=xe();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=xe(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bf(e){var t=$d(),a=e.focusedElem,s=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Md(a.ownerDocument.documentElement,a)){if(s!==null&&Xl(a)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=a.textContent.length,u=Math.min(s.start,i);s=s.end===void 0?u:Math.min(s.end,i),!e.extend&&u>s&&(i=s,s=u,u=i),i=zd(a,u);var h=zd(a,s);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vf=x&&"documentMode"in document&&11>=document.documentMode,ba=null,Gl=null,fn=null,Zl=!1;function Ud(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zl||ba==null||ba!==xe(s)||(s=ba,"selectionStart"in s&&Xl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),fn&&mn(fn,s)||(fn=s,s=cs(Gl,"onSelect"),0<s.length&&(t=new Hl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=ba)))}function os(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var va={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},eo={},Hd={};x&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function is(e){if(eo[e])return eo[e];if(!va[e])return e;var t=va[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Hd)return eo[e]=t[a];return e}var Wd=is("animationend"),Vd=is("animationiteration"),qd=is("animationstart"),Kd=is("transitionend"),Qd=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Qd.set(e,t),m(t,[e])}for(var to=0;to<Yd.length;to++){var ro=Yd[to],wf=ro.toLowerCase(),kf=ro[0].toUpperCase()+ro.slice(1);Dr(wf,"on"+kf)}Dr(Wd,"onAnimationEnd"),Dr(Vd,"onAnimationIteration"),Dr(qd,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Kd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jf=new Set("cancel close invalid load scroll toggle".split(" ").concat(pn));function Jd(e,t,a){var s=e.type||"unknown-event";e.currentTarget=a,vm(s,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],i=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var E=s[h],I=E.instance,$=E.currentTarget;if(E=E.listener,I!==u&&i.isPropagationStopped())break e;Jd(i,E,$),u=I}else for(h=0;h<s.length;h++){if(E=s[h],I=E.instance,$=E.currentTarget,E=E.listener,I!==u&&i.isPropagationStopped())break e;Jd(i,E,$),u=I}}}if(qn)throw e=Il,qn=!1,Il=null,e}function He(e,t){var a=t[uo];a===void 0&&(a=t[uo]=new Set);var s=e+"__bubble";a.has(s)||(Gd(t,e,2,!1),a.add(s))}function ao(e,t,a){var s=0;t&&(s|=4),Gd(a,e,s,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function xn(e){if(!e[ds]){e[ds]=!0,d.forEach(function(a){a!=="selectionchange"&&(jf.has(a)||ao(a,!1,e),ao(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,ao("selectionchange",!1,t))}}function Gd(e,t,a,s){switch(wd(t)){case 1:var i=Fm;break;case 4:i=Am;break;default:i=Ml}a=i.bind(null,t,a,e),i=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function no(e,t,a,s,i){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var E=s.stateNode.containerInfo;if(E===i||E.nodeType===8&&E.parentNode===i)break;if(h===4)for(h=s.return;h!==null;){var I=h.tag;if((I===3||I===4)&&(I=h.stateNode.containerInfo,I===i||I.nodeType===8&&I.parentNode===i))return;h=h.return}for(;E!==null;){if(h=Yr(E),h===null)return;if(I=h.tag,I===5||I===6){s=u=h;continue e}E=E.parentNode}}s=s.return}ad(function(){var $=u,G=Kr(a),ee=[];e:{var X=Qd.get(e);if(X!==void 0){var ce=Hl,fe=e;switch(e){case"keypress":if(as(a)===0)break e;case"keydown":case"keyup":ce=Gm;break;case"focusin":fe="focus",ce=ql;break;case"focusout":fe="blur",ce=ql;break;case"beforeblur":case"afterblur":ce=ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=tf;break;case Wd:case Vd:case qd:ce=Hm;break;case Kd:ce=af;break;case"scroll":ce=Om;break;case"wheel":ce=sf;break;case"copy":case"cut":case"paste":ce=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ed}var pe=(t&4)!==0,et=!pe&&e==="scroll",A=pe?X!==null?X+"Capture":null:X;pe=[];for(var B=$,O;B!==null;){O=B;var re=O.stateNode;if(O.tag===5&&re!==null&&(O=re,A!==null&&(re=Ja(B,A),re!=null&&pe.push(gn(B,re,O)))),et)break;B=B.return}0<pe.length&&(X=new ce(X,fe,null,a,G),ee.push({event:X,listeners:pe}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",X&&a!==Ue&&(fe=a.relatedTarget||a.fromElement)&&(Yr(fe)||fe[cr]))break e;if((ce||X)&&(X=G.window===G?G:(X=G.ownerDocument)?X.defaultView||X.parentWindow:window,ce?(fe=a.relatedTarget||a.toElement,ce=$,fe=fe?Yr(fe):null,fe!==null&&(et=Qr(fe),fe!==et||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=$),ce!==fe)){if(pe=Nd,re="onMouseLeave",A="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Ed,re="onPointerLeave",A="onPointerEnter",B="pointer"),et=ce==null?X:ja(ce),O=fe==null?X:ja(fe),X=new pe(re,B+"leave",ce,a,G),X.target=et,X.relatedTarget=O,re=null,Yr(G)===$&&(pe=new pe(A,B+"enter",fe,a,G),pe.target=O,pe.relatedTarget=et,re=pe),et=re,ce&&fe)t:{for(pe=ce,A=fe,B=0,O=pe;O;O=wa(O))B++;for(O=0,re=A;re;re=wa(re))O++;for(;0<B-O;)pe=wa(pe),B--;for(;0<O-B;)A=wa(A),O--;for(;B--;){if(pe===A||A!==null&&pe===A.alternate)break t;pe=wa(pe),A=wa(A)}pe=null}else pe=null;ce!==null&&Zd(ee,X,ce,pe,!1),fe!==null&&et!==null&&Zd(ee,et,fe,pe,!0)}}e:{if(X=$?ja($):window,ce=X.nodeName&&X.nodeName.toLowerCase(),ce==="select"||ce==="input"&&X.type==="file")var he=ff;else if(_d(X))if(Ld)he=hf;else{he=xf;var Ne=pf}else(ce=X.nodeName)&&ce.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=gf);if(he&&(he=he(e,$))){Id(ee,he,a,G);break e}Ne&&Ne(e,X,$),e==="focusout"&&(Ne=X._wrapperState)&&Ne.controlled&&X.type==="number"&&Ae(X,"number",X.value)}switch(Ne=$?ja($):window,e){case"focusin":(_d(Ne)||Ne.contentEditable==="true")&&(ba=Ne,Gl=$,fn=null);break;case"focusout":fn=Gl=ba=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Ud(ee,a,G);break;case"selectionchange":if(vf)break;case"keydown":case"keyup":Ud(ee,a,G)}var Se;if(Ql)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ya?Td(e,a)&&(Ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Cd&&a.locale!=="ko"&&(ya||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ya&&(Se=kd()):(Cr=G,Ul="value"in Cr?Cr.value:Cr.textContent,ya=!0)),Ne=cs($,Ee),0<Ne.length&&(Ee=new Sd(Ee,e,null,a,G),ee.push({event:Ee,listeners:Ne}),Se?Ee.data=Se:(Se=Pd(a),Se!==null&&(Ee.data=Se)))),(Se=of?df(e,a):cf(e,a))&&($=cs($,"onBeforeInput"),0<$.length&&(G=new Sd("onBeforeInput","beforeinput",null,a,G),ee.push({event:G,listeners:$}),G.data=Se))}Xd(ee,t)})}function gn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function cs(e,t){for(var a=t+"Capture",s=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=Ja(e,a),u!=null&&s.unshift(gn(e,u,i)),u=Ja(e,t),u!=null&&s.push(gn(e,u,i))),e=e.return}return s}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zd(e,t,a,s,i){for(var u=t._reactName,h=[];a!==null&&a!==s;){var E=a,I=E.alternate,$=E.stateNode;if(I!==null&&I===s)break;E.tag===5&&$!==null&&(E=$,i?(I=Ja(a,u),I!=null&&h.unshift(gn(a,I,E))):i||(I=Ja(a,u),I!=null&&h.push(gn(a,I,E)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Nf=/\r\n?/g,Sf=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(Nf,`
`).replace(Sf,"")}function us(e,t,a){if(t=ec(t),ec(e)!==t&&a)throw Error(o(425))}function ms(){}var so=null,lo=null;function oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var io=typeof setTimeout=="function"?setTimeout:void 0,Ef=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,Cf=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(Df)}:io;function Df(e){setTimeout(function(){throw e})}function co(e,t){var a=t,s=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){e.removeChild(i),sn(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=i}while(a);sn(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),rr="__reactFiber$"+ka,hn="__reactProps$"+ka,cr="__reactContainer$"+ka,uo="__reactEvents$"+ka,Rf="__reactListeners$"+ka,Tf="__reactHandles$"+ka;function Yr(e){var t=e[rr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[cr]||a[rr]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=rc(e);e!==null;){if(a=e[rr])return a;e=rc(e)}return t}e=a,a=e.parentNode}return null}function yn(e){return e=e[rr]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ja(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function fs(e){return e[hn]||null}var mo=[],Na=-1;function Tr(e){return{current:e}}function We(e){0>Na||(e.current=mo[Na],mo[Na]=null,Na--)}function ze(e,t){Na++,mo[Na]=e.current,e.current=t}var Pr={},ht=Tr(Pr),St=Tr(!1),Jr=Pr;function Sa(e,t){var a=e.type.contextTypes;if(!a)return Pr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in a)i[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Et(e){return e=e.childContextTypes,e!=null}function ps(){We(St),We(ht)}function ac(e,t,a){if(ht.current!==Pr)throw Error(o(168));ze(ht,t),ze(St,a)}function nc(e,t,a){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(o(108,le(e)||"Unknown",i));return ae({},a,s)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,Jr=ht.current,ze(ht,e),ze(St,St.current),!0}function sc(e,t,a){var s=e.stateNode;if(!s)throw Error(o(169));a?(e=nc(e,t,Jr),s.__reactInternalMemoizedMergedChildContext=e,We(St),We(ht),ze(ht,e)):We(St),ze(St,a)}var ur=null,gs=!1,fo=!1;function lc(e){ur===null?ur=[e]:ur.push(e)}function Pf(e){gs=!0,lc(e)}function _r(){if(!fo&&ur!==null){fo=!0;var e=0,t=Oe;try{var a=ur;for(Oe=1;e<a.length;e++){var s=a[e];do s=s(!0);while(s!==null)}ur=null,gs=!1}catch(i){throw ur!==null&&(ur=ur.slice(e+1)),id(Ll,_r),i}finally{Oe=t,fo=!1}}return null}var Ea=[],Ca=0,hs=null,ys=0,Ot=[],zt=0,Xr=null,mr=1,fr="";function Gr(e,t){Ea[Ca++]=ys,Ea[Ca++]=hs,hs=e,ys=t}function oc(e,t,a){Ot[zt++]=mr,Ot[zt++]=fr,Ot[zt++]=Xr,Xr=e;var s=mr;e=fr;var i=32-qt(s)-1;s&=~(1<<i),a+=1;var u=32-qt(t)+i;if(30<u){var h=i-i%5;u=(s&(1<<h)-1).toString(32),s>>=h,i-=h,mr=1<<32-qt(t)+i|a<<i|s,fr=u+e}else mr=1<<u|a<<i|s,fr=e}function po(e){e.return!==null&&(Gr(e,1),oc(e,1,0))}function xo(e){for(;e===hs;)hs=Ea[--Ca],Ea[Ca]=null,ys=Ea[--Ca],Ea[Ca]=null;for(;e===Xr;)Xr=Ot[--zt],Ot[zt]=null,fr=Ot[--zt],Ot[zt]=null,mr=Ot[--zt],Ot[zt]=null}var Lt=null,Bt=null,Ve=!1,Qt=null;function ic(e,t){var a=Ht(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function dc(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Bt=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Xr!==null?{id:mr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Ht(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,Lt=e,Bt=null,!0):!1;default:return!1}}function go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ho(e){if(Ve){var t=Bt;if(t){var a=t;if(!dc(e,t)){if(go(e))throw Error(o(418));t=Rr(a.nextSibling);var s=Lt;t&&dc(e,t)?ic(s,a):(e.flags=e.flags&-4097|2,Ve=!1,Lt=e)}}else{if(go(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ve=!1,Lt=e}}}function cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function bs(e){if(e!==Lt)return!1;if(!Ve)return cc(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oo(e.type,e.memoizedProps)),t&&(t=Bt)){if(go(e))throw uc(),Error(o(418));for(;t;)ic(e,t),t=Rr(t.nextSibling)}if(cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Bt=Rr(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Lt?Rr(e.stateNode.nextSibling):null;return!0}function uc(){for(var e=Bt;e;)e=Rr(e.nextSibling)}function Da(){Bt=Lt=null,Ve=!1}function yo(e){Qt===null?Qt=[e]:Qt.push(e)}var _f=L.ReactCurrentBatchConfig;function bn(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var s=a.stateNode}if(!s)throw Error(o(147,e));var i=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var E=i.refs;h===null?delete E[u]:E[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mc(e){var t=e._init;return t(e._payload)}function fc(e){function t(A,B){if(e){var O=A.deletions;O===null?(A.deletions=[B],A.flags|=16):O.push(B)}}function a(A,B){if(!e)return null;for(;B!==null;)t(A,B),B=B.sibling;return null}function s(A,B){for(A=new Map;B!==null;)B.key!==null?A.set(B.key,B):A.set(B.index,B),B=B.sibling;return A}function i(A,B){return A=Mr(A,B),A.index=0,A.sibling=null,A}function u(A,B,O){return A.index=O,e?(O=A.alternate,O!==null?(O=O.index,O<B?(A.flags|=2,B):O):(A.flags|=2,B)):(A.flags|=1048576,B)}function h(A){return e&&A.alternate===null&&(A.flags|=2),A}function E(A,B,O,re){return B===null||B.tag!==6?(B=di(O,A.mode,re),B.return=A,B):(B=i(B,O),B.return=A,B)}function I(A,B,O,re){var he=O.type;return he===_?G(A,B,O.props.children,re,O.key):B!==null&&(B.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===je&&mc(he)===B.type)?(re=i(B,O.props),re.ref=bn(A,B,O),re.return=A,re):(re=Ws(O.type,O.key,O.props,null,A.mode,re),re.ref=bn(A,B,O),re.return=A,re)}function $(A,B,O,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==O.containerInfo||B.stateNode.implementation!==O.implementation?(B=ci(O,A.mode,re),B.return=A,B):(B=i(B,O.children||[]),B.return=A,B)}function G(A,B,O,re,he){return B===null||B.tag!==7?(B=la(O,A.mode,re,he),B.return=A,B):(B=i(B,O),B.return=A,B)}function ee(A,B,O){if(typeof B=="string"&&B!==""||typeof B=="number")return B=di(""+B,A.mode,O),B.return=A,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return O=Ws(B.type,B.key,B.props,null,A.mode,O),O.ref=bn(A,null,B),O.return=A,O;case R:return B=ci(B,A.mode,O),B.return=A,B;case je:var re=B._init;return ee(A,re(B._payload),O)}if(Ke(B)||J(B))return B=la(B,A.mode,O,null),B.return=A,B;vs(A,B)}return null}function X(A,B,O,re){var he=B!==null?B.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return he!==null?null:E(A,B,""+O,re);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return O.key===he?I(A,B,O,re):null;case R:return O.key===he?$(A,B,O,re):null;case je:return he=O._init,X(A,B,he(O._payload),re)}if(Ke(O)||J(O))return he!==null?null:G(A,B,O,re,null);vs(A,O)}return null}function ce(A,B,O,re,he){if(typeof re=="string"&&re!==""||typeof re=="number")return A=A.get(O)||null,E(B,A,""+re,he);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case V:return A=A.get(re.key===null?O:re.key)||null,I(B,A,re,he);case R:return A=A.get(re.key===null?O:re.key)||null,$(B,A,re,he);case je:var Ne=re._init;return ce(A,B,O,Ne(re._payload),he)}if(Ke(re)||J(re))return A=A.get(O)||null,G(B,A,re,he,null);vs(B,re)}return null}function fe(A,B,O,re){for(var he=null,Ne=null,Se=B,Ee=B=0,ut=null;Se!==null&&Ee<O.length;Ee++){Se.index>Ee?(ut=Se,Se=null):ut=Se.sibling;var Be=X(A,Se,O[Ee],re);if(Be===null){Se===null&&(Se=ut);break}e&&Se&&Be.alternate===null&&t(A,Se),B=u(Be,B,Ee),Ne===null?he=Be:Ne.sibling=Be,Ne=Be,Se=ut}if(Ee===O.length)return a(A,Se),Ve&&Gr(A,Ee),he;if(Se===null){for(;Ee<O.length;Ee++)Se=ee(A,O[Ee],re),Se!==null&&(B=u(Se,B,Ee),Ne===null?he=Se:Ne.sibling=Se,Ne=Se);return Ve&&Gr(A,Ee),he}for(Se=s(A,Se);Ee<O.length;Ee++)ut=ce(Se,A,Ee,O[Ee],re),ut!==null&&(e&&ut.alternate!==null&&Se.delete(ut.key===null?Ee:ut.key),B=u(ut,B,Ee),Ne===null?he=ut:Ne.sibling=ut,Ne=ut);return e&&Se.forEach(function($r){return t(A,$r)}),Ve&&Gr(A,Ee),he}function pe(A,B,O,re){var he=J(O);if(typeof he!="function")throw Error(o(150));if(O=he.call(O),O==null)throw Error(o(151));for(var Ne=he=null,Se=B,Ee=B=0,ut=null,Be=O.next();Se!==null&&!Be.done;Ee++,Be=O.next()){Se.index>Ee?(ut=Se,Se=null):ut=Se.sibling;var $r=X(A,Se,Be.value,re);if($r===null){Se===null&&(Se=ut);break}e&&Se&&$r.alternate===null&&t(A,Se),B=u($r,B,Ee),Ne===null?he=$r:Ne.sibling=$r,Ne=$r,Se=ut}if(Be.done)return a(A,Se),Ve&&Gr(A,Ee),he;if(Se===null){for(;!Be.done;Ee++,Be=O.next())Be=ee(A,Be.value,re),Be!==null&&(B=u(Be,B,Ee),Ne===null?he=Be:Ne.sibling=Be,Ne=Be);return Ve&&Gr(A,Ee),he}for(Se=s(A,Se);!Be.done;Ee++,Be=O.next())Be=ce(Se,A,Ee,Be.value,re),Be!==null&&(e&&Be.alternate!==null&&Se.delete(Be.key===null?Ee:Be.key),B=u(Be,B,Ee),Ne===null?he=Be:Ne.sibling=Be,Ne=Be);return e&&Se.forEach(function(up){return t(A,up)}),Ve&&Gr(A,Ee),he}function et(A,B,O,re){if(typeof O=="object"&&O!==null&&O.type===_&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case V:e:{for(var he=O.key,Ne=B;Ne!==null;){if(Ne.key===he){if(he=O.type,he===_){if(Ne.tag===7){a(A,Ne.sibling),B=i(Ne,O.props.children),B.return=A,A=B;break e}}else if(Ne.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===je&&mc(he)===Ne.type){a(A,Ne.sibling),B=i(Ne,O.props),B.ref=bn(A,Ne,O),B.return=A,A=B;break e}a(A,Ne);break}else t(A,Ne);Ne=Ne.sibling}O.type===_?(B=la(O.props.children,A.mode,re,O.key),B.return=A,A=B):(re=Ws(O.type,O.key,O.props,null,A.mode,re),re.ref=bn(A,B,O),re.return=A,A=re)}return h(A);case R:e:{for(Ne=O.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===O.containerInfo&&B.stateNode.implementation===O.implementation){a(A,B.sibling),B=i(B,O.children||[]),B.return=A,A=B;break e}else{a(A,B);break}else t(A,B);B=B.sibling}B=ci(O,A.mode,re),B.return=A,A=B}return h(A);case je:return Ne=O._init,et(A,B,Ne(O._payload),re)}if(Ke(O))return fe(A,B,O,re);if(J(O))return pe(A,B,O,re);vs(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,B!==null&&B.tag===6?(a(A,B.sibling),B=i(B,O),B.return=A,A=B):(a(A,B),B=di(O,A.mode,re),B.return=A,A=B),h(A)):a(A,B)}return et}var Ra=fc(!0),pc=fc(!1),ws=Tr(null),ks=null,Ta=null,bo=null;function vo(){bo=Ta=ks=null}function wo(e){var t=ws.current;We(ws),e._currentValue=t}function ko(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Pa(e,t){ks=e,bo=Ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},Ta===null){if(ks===null)throw Error(o(308));Ta=e,ks.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var Zr=null;function jo(e){Zr===null?Zr=[e]:Zr.push(e)}function xc(e,t,a,s){var i=t.interleaved;return i===null?(a.next=a,jo(t)):(a.next=i.next,i.next=a),t.interleaved=a,pr(e,s)}function pr(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Ir=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Le&2)!==0){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,pr(e,a)}return i=s.interleaved,i===null?(t.next=t,jo(s)):(t.next=i.next,i.next=t),s.interleaved=t,pr(e,a)}function js(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Al(e,a)}}function hc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var i=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var h={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};u===null?i=u=h:u=u.next=h,a=a.next}while(a!==null);u===null?i=u=t:u=u.next=t}else i=u=t;a={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Ns(e,t,a,s){var i=e.updateQueue;Ir=!1;var u=i.firstBaseUpdate,h=i.lastBaseUpdate,E=i.shared.pending;if(E!==null){i.shared.pending=null;var I=E,$=I.next;I.next=null,h===null?u=$:h.next=$,h=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==h&&(E===null?G.firstBaseUpdate=$:E.next=$,G.lastBaseUpdate=I))}if(u!==null){var ee=i.baseState;h=0,G=$=I=null,E=u;do{var X=E.lane,ce=E.eventTime;if((s&X)===X){G!==null&&(G=G.next={eventTime:ce,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var fe=e,pe=E;switch(X=t,ce=a,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ee=fe.call(ce,ee,X);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,X=typeof fe=="function"?fe.call(ce,ee,X):fe,X==null)break e;ee=ae({},ee,X);break e;case 2:Ir=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,X=i.effects,X===null?i.effects=[E]:X.push(E))}else ce={eventTime:ce,lane:X,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?($=G=ce,I=ee):G=G.next=ce,h|=X;if(E=E.next,E===null){if(E=i.shared.pending,E===null)break;X=E,E=X.next,X.next=null,i.lastBaseUpdate=X,i.shared.pending=null}}while(!0);if(G===null&&(I=ee),i.baseState=I,i.firstBaseUpdate=$,i.lastBaseUpdate=G,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);ra|=h,e.lanes=h,e.memoizedState=ee}}function yc(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=a,typeof i!="function")throw Error(o(191,i));i.call(s)}}}var vn={},ar=Tr(vn),wn=Tr(vn),kn=Tr(vn);function ea(e){if(e===vn)throw Error(o(174));return e}function So(e,t){switch(ze(kn,t),ze(wn,e),ze(ar,vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ir(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ir(t,e)}We(ar),ze(ar,t)}function _a(){We(ar),We(wn),We(kn)}function bc(e){ea(kn.current);var t=ea(ar.current),a=ir(t,e.type);t!==a&&(ze(wn,e),ze(ar,a))}function Eo(e){wn.current===e&&(We(ar),We(wn))}var Qe=Tr(0);function Ss(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=[];function Do(){for(var e=0;e<Co.length;e++)Co[e]._workInProgressVersionPrimary=null;Co.length=0}var Es=L.ReactCurrentDispatcher,Ro=L.ReactCurrentBatchConfig,ta=0,Ye=null,lt=null,dt=null,Cs=!1,jn=!1,Nn=0,If=0;function yt(){throw Error(o(321))}function To(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Kt(e[a],t[a]))return!1;return!0}function Po(e,t,a,s,i,u){if(ta=u,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Es.current=e===null||e.memoizedState===null?Af:Of,e=a(s,i),jn){u=0;do{if(jn=!1,Nn=0,25<=u)throw Error(o(301));u+=1,dt=lt=null,t.updateQueue=null,Es.current=zf,e=a(s,i)}while(jn)}if(Es.current=Ts,t=lt!==null&&lt.next!==null,ta=0,dt=lt=Ye=null,Cs=!1,t)throw Error(o(300));return e}function _o(){var e=Nn!==0;return Nn=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=e:dt=dt.next=e,dt}function $t(){if(lt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=dt===null?Ye.memoizedState:dt.next;if(t!==null)dt=t,lt=e;else{if(e===null)throw Error(o(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?Ye.memoizedState=dt=e:dt=dt.next=e}return dt}function Sn(e,t){return typeof t=="function"?t(e):t}function Io(e){var t=$t(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=lt,i=s.baseQueue,u=a.pending;if(u!==null){if(i!==null){var h=i.next;i.next=u.next,u.next=h}s.baseQueue=i=u,a.pending=null}if(i!==null){u=i.next,s=s.baseState;var E=h=null,I=null,$=u;do{var G=$.lane;if((ta&G)===G)I!==null&&(I=I.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),s=$.hasEagerState?$.eagerState:e(s,$.action);else{var ee={lane:G,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};I===null?(E=I=ee,h=s):I=I.next=ee,Ye.lanes|=G,ra|=G}$=$.next}while($!==null&&$!==u);I===null?h=s:I.next=E,Kt(s,t.memoizedState)||(Ct=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=I,a.lastRenderedState=s}if(e=a.interleaved,e!==null){i=e;do u=i.lane,Ye.lanes|=u,ra|=u,i=i.next;while(i!==e)}else i===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Lo(e){var t=$t(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,i=a.pending,u=t.memoizedState;if(i!==null){a.pending=null;var h=i=i.next;do u=e(u,h.action),h=h.next;while(h!==i);Kt(u,t.memoizedState)||(Ct=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function vc(){}function wc(e,t){var a=Ye,s=$t(),i=t(),u=!Kt(s.memoizedState,i);if(u&&(s.memoizedState=i,Ct=!0),s=s.queue,Bo(Nc.bind(null,a,s,e),[e]),s.getSnapshot!==t||u||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,En(9,jc.bind(null,a,s,i,t),void 0,null),ct===null)throw Error(o(349));(ta&30)!==0||kc(a,t,i)}return i}function kc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function jc(e,t,a,s){t.value=a,t.getSnapshot=s,Sc(t)&&Ec(e)}function Nc(e,t,a){return a(function(){Sc(t)&&Ec(e)})}function Sc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Kt(e,a)}catch{return!0}}function Ec(e){var t=pr(e,1);t!==null&&Gt(t,e,1,-1)}function Cc(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t.queue=e,e=e.dispatch=Ff.bind(null,Ye,e),[t.memoizedState,e]}function En(e,t,a,s){return e={tag:e,create:t,destroy:a,deps:s,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e)),e}function Dc(){return $t().memoizedState}function Ds(e,t,a,s){var i=nr();Ye.flags|=e,i.memoizedState=En(1|t,a,void 0,s===void 0?null:s)}function Rs(e,t,a,s){var i=$t();s=s===void 0?null:s;var u=void 0;if(lt!==null){var h=lt.memoizedState;if(u=h.destroy,s!==null&&To(s,h.deps)){i.memoizedState=En(t,a,u,s);return}}Ye.flags|=e,i.memoizedState=En(1|t,a,u,s)}function Rc(e,t){return Ds(8390656,8,e,t)}function Bo(e,t){return Rs(2048,8,e,t)}function Tc(e,t){return Rs(4,2,e,t)}function Pc(e,t){return Rs(4,4,e,t)}function _c(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ic(e,t,a){return a=a!=null?a.concat([e]):null,Rs(4,4,_c.bind(null,t,e),a)}function Fo(){}function Lc(e,t){var a=$t();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&To(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Bc(e,t){var a=$t();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&To(t,s[1])?s[0]:(e=e(),a.memoizedState=[e,t],e)}function Fc(e,t,a){return(ta&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=a):(Kt(a,t)||(a=md(),Ye.lanes|=a,ra|=a,e.baseState=!0),t)}function Lf(e,t){var a=Oe;Oe=a!==0&&4>a?a:4,e(!0);var s=Ro.transition;Ro.transition={};try{e(!1),t()}finally{Oe=a,Ro.transition=s}}function Ac(){return $t().memoizedState}function Bf(e,t,a){var s=Or(e);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(e))zc(t,a);else if(a=xc(e,t,a,s),a!==null){var i=Nt();Gt(a,e,s,i),Mc(a,t,s)}}function Ff(e,t,a){var s=Or(e),i={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(e))zc(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,E=u(h,a);if(i.hasEagerState=!0,i.eagerState=E,Kt(E,h)){var I=t.interleaved;I===null?(i.next=i,jo(t)):(i.next=I.next,I.next=i),t.interleaved=i;return}}catch{}finally{}a=xc(e,t,i,s),a!==null&&(i=Nt(),Gt(a,e,s,i),Mc(a,t,s))}}function Oc(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function zc(e,t){jn=Cs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Mc(e,t,a){if((a&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Al(e,a)}}var Ts={readContext:Mt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Af={readContext:Mt,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:Rc,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Ds(4194308,4,_c.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var a=nr();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var s=nr();return t=a!==void 0?a(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bf.bind(null,Ye,e),[s.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:Fo,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=Lf.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var s=Ye,i=nr();if(Ve){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),ct===null)throw Error(o(349));(ta&30)!==0||kc(s,t,a)}i.memoizedState=a;var u={value:a,getSnapshot:t};return i.queue=u,Rc(Nc.bind(null,s,u,e),[e]),s.flags|=2048,En(9,jc.bind(null,s,u,a,t),void 0,null),a},useId:function(){var e=nr(),t=ct.identifierPrefix;if(Ve){var a=fr,s=mr;a=(s&~(1<<32-qt(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=Nn++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=If++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Of={readContext:Mt,useCallback:Lc,useContext:Mt,useEffect:Bo,useImperativeHandle:Ic,useInsertionEffect:Tc,useLayoutEffect:Pc,useMemo:Bc,useReducer:Io,useRef:Dc,useState:function(){return Io(Sn)},useDebugValue:Fo,useDeferredValue:function(e){var t=$t();return Fc(t,lt.memoizedState,e)},useTransition:function(){var e=Io(Sn)[0],t=$t().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:wc,useId:Ac,unstable_isNewReconciler:!1},zf={readContext:Mt,useCallback:Lc,useContext:Mt,useEffect:Bo,useImperativeHandle:Ic,useInsertionEffect:Tc,useLayoutEffect:Pc,useMemo:Bc,useReducer:Lo,useRef:Dc,useState:function(){return Lo(Sn)},useDebugValue:Fo,useDeferredValue:function(e){var t=$t();return lt===null?t.memoizedState=e:Fc(t,lt.memoizedState,e)},useTransition:function(){var e=Lo(Sn)[0],t=$t().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:wc,useId:Ac,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Ao(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:ae({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ps={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Nt(),i=Or(e),u=xr(s,i);u.payload=t,a!=null&&(u.callback=a),t=Lr(e,u,i),t!==null&&(Gt(t,e,i,s),js(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Nt(),i=Or(e),u=xr(s,i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Lr(e,u,i),t!==null&&(Gt(t,e,i,s),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Nt(),s=Or(e),i=xr(a,s);i.tag=2,t!=null&&(i.callback=t),t=Lr(e,i,s),t!==null&&(Gt(t,e,s,a),js(t,e,s))}};function $c(e,t,a,s,i,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!mn(a,s)||!mn(i,u):!0}function Uc(e,t,a){var s=!1,i=Pr,u=t.contextType;return typeof u=="object"&&u!==null?u=Mt(u):(i=Et(t)?Jr:ht.current,s=t.contextTypes,u=(s=s!=null)?Sa(e,i):Pr),t=new t(a,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function Hc(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function Oo(e,t,a,s){var i=e.stateNode;i.props=a,i.state=e.memoizedState,i.refs={},No(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=Mt(u):(u=Et(t)?Jr:ht.current,i.context=Sa(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Ao(e,t,u,a),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ps.enqueueReplaceState(i,i.state,null),Ns(e,a,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ia(e,t){try{var a="",s=t;do a+=de(s),s=s.return;while(s);var i=a}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function zo(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Mo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Mf=typeof WeakMap=="function"?WeakMap:Map;function Wc(e,t,a){a=xr(-1,a),a.tag=3,a.payload={element:null};var s=t.value;return a.callback=function(){Os||(Os=!0,ti=s),Mo(e,t)},a}function Vc(e,t,a){a=xr(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;a.payload=function(){return s(i)},a.callback=function(){Mo(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(a.callback=function(){Mo(e,t),typeof s!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),a}function qc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Mf;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(a)||(i.add(a),e=ep.bind(null,e,t,a),t.then(e,e))}function Kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qc(e,t,a,s,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=xr(-1,1),t.tag=2,Lr(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var $f=L.ReactCurrentOwner,Ct=!1;function jt(e,t,a,s){t.child=e===null?pc(t,null,a,s):Ra(t,e.child,a,s)}function Yc(e,t,a,s,i){a=a.render;var u=t.ref;return Pa(t,i),s=Po(e,t,a,s,u,i),a=_o(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(Ve&&a&&po(t),t.flags|=1,jt(e,t,s,i),t.child)}function Jc(e,t,a,s,i){if(e===null){var u=a.type;return typeof u=="function"&&!ii(u)&&u.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=u,Xc(e,t,u,s,i)):(e=Ws(a.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&i)===0){var h=u.memoizedProps;if(a=a.compare,a=a!==null?a:mn,a(h,s)&&e.ref===t.ref)return gr(e,t,i)}return t.flags|=1,e=Mr(u,s),e.ref=t.ref,e.return=t,t.child=e}function Xc(e,t,a,s,i){if(e!==null){var u=e.memoizedProps;if(mn(u,s)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=s=u,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,gr(e,t,i)}return $o(e,t,a,s,i)}function Gc(e,t,a){var s=t.pendingProps,i=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ba,Ft),Ft|=a;else{if((a&1073741824)===0)return e=u!==null?u.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Ba,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:a,ze(Ba,Ft),Ft|=s}else u!==null?(s=u.baseLanes|a,t.memoizedState=null):s=a,ze(Ba,Ft),Ft|=s;return jt(e,t,i,a),t.child}function Zc(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,a,s,i){var u=Et(a)?Jr:ht.current;return u=Sa(t,u),Pa(t,i),a=Po(e,t,a,s,u,i),s=_o(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(Ve&&s&&po(t),t.flags|=1,jt(e,t,a,i),t.child)}function eu(e,t,a,s,i){if(Et(a)){var u=!0;xs(t)}else u=!1;if(Pa(t,i),t.stateNode===null)Is(e,t),Uc(t,a,s),Oo(t,a,s,i),s=!0;else if(e===null){var h=t.stateNode,E=t.memoizedProps;h.props=E;var I=h.context,$=a.contextType;typeof $=="object"&&$!==null?$=Mt($):($=Et(a)?Jr:ht.current,$=Sa(t,$));var G=a.getDerivedStateFromProps,ee=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function";ee||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E!==s||I!==$)&&Hc(t,h,s,$),Ir=!1;var X=t.memoizedState;h.state=X,Ns(t,s,h,i),I=t.memoizedState,E!==s||X!==I||St.current||Ir?(typeof G=="function"&&(Ao(t,a,G,s),I=t.memoizedState),(E=Ir||$c(t,a,E,s,X,I,$))?(ee||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=I),h.props=s,h.state=I,h.context=$,s=E):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,gc(e,t),E=t.memoizedProps,$=t.type===t.elementType?E:Yt(t.type,E),h.props=$,ee=t.pendingProps,X=h.context,I=a.contextType,typeof I=="object"&&I!==null?I=Mt(I):(I=Et(a)?Jr:ht.current,I=Sa(t,I));var ce=a.getDerivedStateFromProps;(G=typeof ce=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E!==ee||X!==I)&&Hc(t,h,s,I),Ir=!1,X=t.memoizedState,h.state=X,Ns(t,s,h,i);var fe=t.memoizedState;E!==ee||X!==fe||St.current||Ir?(typeof ce=="function"&&(Ao(t,a,ce,s),fe=t.memoizedState),($=Ir||$c(t,a,$,s,X,fe,I)||!1)?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,fe,I),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,fe,I)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=fe),h.props=s,h.state=fe,h.context=I,s=$):(typeof h.componentDidUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),s=!1)}return Uo(e,t,a,s,u,i)}function Uo(e,t,a,s,i,u){Zc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return i&&sc(t,a,!1),gr(e,t,u);s=t.stateNode,$f.current=t;var E=h&&typeof a.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Ra(t,e.child,null,u),t.child=Ra(t,null,E,u)):jt(e,t,E,u),t.memoizedState=s.state,i&&sc(t,a,!0),t.child}function tu(e){var t=e.stateNode;t.pendingContext?ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ac(e,t.context,!1),So(e,t.containerInfo)}function ru(e,t,a,s,i){return Da(),yo(i),t.flags|=256,jt(e,t,a,s),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function au(e,t,a){var s=t.pendingProps,i=Qe.current,u=!1,h=(t.flags&128)!==0,E;if((E=h)||(E=e!==null&&e.memoizedState===null?!1:(i&2)!==0),E?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ze(Qe,i&1),e===null)return ho(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,u?(s=t.mode,u=t.child,h={mode:"hidden",children:h},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Vs(h,s,0,null),e=la(e,s,a,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Wo(a),t.memoizedState=Ho,e):Vo(t,h));if(i=e.memoizedState,i!==null&&(E=i.dehydrated,E!==null))return Uf(e,t,h,s,E,i,a);if(u){u=s.fallback,h=t.mode,i=e.child,E=i.sibling;var I={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=I,t.deletions=null):(s=Mr(i,I),s.subtreeFlags=i.subtreeFlags&14680064),E!==null?u=Mr(E,u):(u=la(u,h,a,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,h=e.child.memoizedState,h=h===null?Wo(a):{baseLanes:h.baseLanes|a,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~a,t.memoizedState=Ho,s}return u=e.child,e=u.sibling,s=Mr(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=a),s.return=t,s.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function Vo(e,t){return t=Vs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _s(e,t,a,s){return s!==null&&yo(s),Ra(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uf(e,t,a,s,i,u,h){if(a)return t.flags&256?(t.flags&=-257,s=zo(Error(o(422))),_s(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,i=t.mode,s=Vs({mode:"visible",children:s.children},i,0,null),u=la(u,i,h,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&Ra(t,e.child,null,h),t.child.memoizedState=Wo(h),t.memoizedState=Ho,u);if((t.mode&1)===0)return _s(e,t,h,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var E=s.dgst;return s=E,u=Error(o(419)),s=zo(u,s,void 0),_s(e,t,h,s)}if(E=(h&e.childLanes)!==0,Ct||E){if(s=ct,s!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(s.suspendedLanes|h))!==0?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,pr(e,i),Gt(s,e,i,-1))}return oi(),s=zo(Error(o(421))),_s(e,t,h,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tp.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,Bt=Rr(i.nextSibling),Lt=t,Ve=!0,Qt=null,e!==null&&(Ot[zt++]=mr,Ot[zt++]=fr,Ot[zt++]=Xr,mr=e.id,fr=e.overflow,Xr=t),t=Vo(t,s.children),t.flags|=4096,t)}function nu(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ko(e.return,t,a)}function qo(e,t,a,s,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=a,u.tailMode=i)}function su(e,t,a){var s=t.pendingProps,i=s.revealOrder,u=s.tail;if(jt(e,t,s.children,a),s=Qe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nu(e,a,t);else if(e.tag===19)nu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ze(Qe,s),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Ss(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),qo(t,!1,i,a,u);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ss(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}qo(t,!0,a,null,u);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Mr(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Mr(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Hf(e,t,a){switch(t.tag){case 3:tu(t),Da();break;case 5:bc(t);break;case 1:Et(t.type)&&xs(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;ze(ws,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ze(Qe,Qe.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?au(e,t,a):(ze(Qe,Qe.current&1),e=gr(e,t,a),e!==null?e.sibling:null);ze(Qe,Qe.current&1);break;case 19:if(s=(a&t.childLanes)!==0,(e.flags&128)!==0){if(s)return su(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Qe,Qe.current),s)break;return null;case 22:case 23:return t.lanes=0,Gc(e,t,a)}return gr(e,t,a)}var lu,Ko,ou,iu;lu=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ko=function(){},ou=function(e,t,a,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,ea(ar.current);var u=null;switch(a){case"input":i=ge(e,i),s=ge(e,s),u=[];break;case"select":i=ae({},i,{value:void 0}),s=ae({},s,{value:void 0}),u=[];break;case"textarea":i=ma(e,i),s=ma(e,s),u=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ms)}Te(a,s);var h;a=null;for($ in i)if(!s.hasOwnProperty($)&&i.hasOwnProperty($)&&i[$]!=null)if($==="style"){var E=i[$];for(h in E)E.hasOwnProperty(h)&&(a||(a={}),a[h]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(c.hasOwnProperty($)?u||(u=[]):(u=u||[]).push($,null));for($ in s){var I=s[$];if(E=i?.[$],s.hasOwnProperty($)&&I!==E&&(I!=null||E!=null))if($==="style")if(E){for(h in E)!E.hasOwnProperty(h)||I&&I.hasOwnProperty(h)||(a||(a={}),a[h]="");for(h in I)I.hasOwnProperty(h)&&E[h]!==I[h]&&(a||(a={}),a[h]=I[h])}else a||(u||(u=[]),u.push($,a)),a=I;else $==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,E=E?E.__html:void 0,I!=null&&E!==I&&(u=u||[]).push($,I)):$==="children"?typeof I!="string"&&typeof I!="number"||(u=u||[]).push($,""+I):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(c.hasOwnProperty($)?(I!=null&&$==="onScroll"&&He("scroll",e),u||E===I||(u=[])):(u=u||[]).push($,I))}a&&(u=u||[]).push("style",a);var $=u;(t.updateQueue=$)&&(t.flags|=4)}},iu=function(e,t,a,s){a!==s&&(t.flags|=4)};function Cn(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Wf(e,t,a){var s=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Et(t.type)&&ps(),bt(t),null;case 3:return s=t.stateNode,_a(),We(St),We(ht),Do(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qt!==null&&(ni(Qt),Qt=null))),Ko(e,t),bt(t),null;case 5:Eo(t);var i=ea(kn.current);if(a=t.type,e!==null&&t.stateNode!=null)ou(e,t,a,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return bt(t),null}if(e=ea(ar.current),bs(t)){s=t.stateNode,a=t.type;var u=t.memoizedProps;switch(s[rr]=t,s[hn]=u,e=(t.mode&1)!==0,a){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(i=0;i<pn.length;i++)He(pn[i],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":Ce(s,u),He("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},He("invalid",s);break;case"textarea":Vr(s,u),He("invalid",s)}Te(a,u),i=null;for(var h in u)if(u.hasOwnProperty(h)){var E=u[h];h==="children"?typeof E=="string"?s.textContent!==E&&(u.suppressHydrationWarning!==!0&&us(s.textContent,E,e),i=["children",E]):typeof E=="number"&&s.textContent!==""+E&&(u.suppressHydrationWarning!==!0&&us(s.textContent,E,e),i=["children",""+E]):c.hasOwnProperty(h)&&E!=null&&h==="onScroll"&&He("scroll",s)}switch(a){case"input":z(s),ne(s,u,!0);break;case"textarea":z(s),Ka(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=ms)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qa(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(a,{is:s.is}):(e=h.createElement(a),a==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,a),e[rr]=t,e[hn]=s,lu(e,t,!1,!1),t.stateNode=e;e:{switch(h=$e(a,s),a){case"dialog":He("cancel",e),He("close",e),i=s;break;case"iframe":case"object":case"embed":He("load",e),i=s;break;case"video":case"audio":for(i=0;i<pn.length;i++)He(pn[i],e);i=s;break;case"source":He("error",e),i=s;break;case"img":case"image":case"link":He("error",e),He("load",e),i=s;break;case"details":He("toggle",e),i=s;break;case"input":Ce(e,s),i=ge(e,s),He("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ae({},s,{value:void 0}),He("invalid",e);break;case"textarea":Vr(e,s),i=ma(e,s),He("invalid",e);break;default:i=s}Te(a,i),E=i;for(u in E)if(E.hasOwnProperty(u)){var I=E[u];u==="style"?Z(e,I):u==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&dr(e,I)):u==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&kr(e,I):typeof I=="number"&&kr(e,""+I):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?I!=null&&u==="onScroll"&&He("scroll",e):I!=null&&S(e,u,I,h))}switch(a){case"input":z(e),ne(e,s,!1);break;case"textarea":z(e),Ka(e);break;case"option":s.value!=null&&e.setAttribute("value",""+be(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Me(e,!!s.multiple,u,!1):s.defaultValue!=null&&Me(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ms)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)iu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(a=ea(kn.current),ea(ar.current),bs(t)){if(s=t.stateNode,a=t.memoizedProps,s[rr]=t,(u=s.nodeValue!==a)&&(e=Lt,e!==null))switch(e.tag){case 3:us(s.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(s.nodeValue,a,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[rr]=t,t.stateNode=s}return bt(t),null;case 13:if(We(Qe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)uc(),Da(),t.flags|=98560,u=!1;else if(u=bs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[rr]=t}else Da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),u=!1}else Qt!==null&&(ni(Qt),Qt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Qe.current&1)!==0?ot===0&&(ot=3):oi())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return _a(),Ko(e,t),e===null&&xn(t.stateNode.containerInfo),bt(t),null;case 10:return wo(t.type._context),bt(t),null;case 17:return Et(t.type)&&ps(),bt(t),null;case 19:if(We(Qe),u=t.memoizedState,u===null)return bt(t),null;if(s=(t.flags&128)!==0,h=u.rendering,h===null)if(s)Cn(u,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ss(e),h!==null){for(t.flags|=128,Cn(u,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=a,a=t.child;a!==null;)u=a,e=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ze(Qe,Qe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ze()>Fa&&(t.flags|=128,s=!0,Cn(u,!1),t.lanes=4194304)}else{if(!s)if(e=Ss(h),e!==null){if(t.flags|=128,s=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Cn(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Ve)return bt(t),null}else 2*Ze()-u.renderingStartTime>Fa&&a!==1073741824&&(t.flags|=128,s=!0,Cn(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(a=u.last,a!==null?a.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ze(),t.sibling=null,a=Qe.current,ze(Qe,s?a&1|2:a&1),t):(bt(t),null);case 22:case 23:return li(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Vf(e,t){switch(xo(t),t.tag){case 1:return Et(t.type)&&ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(),We(St),We(ht),Do(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(We(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Qe),null;case 4:return _a(),null;case 10:return wo(t.type._context),null;case 22:case 23:return li(),null;case 24:return null;default:return null}}var Ls=!1,vt=!1,qf=typeof WeakSet=="function"?WeakSet:Set,ue=null;function La(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){Xe(e,t,s)}else a.current=null}function Qo(e,t,a){try{a()}catch(s){Xe(e,t,s)}}var du=!1;function Kf(e,t){if(so=es,e=$d(),Xl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var i=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var h=0,E=-1,I=-1,$=0,G=0,ee=e,X=null;t:for(;;){for(var ce;ee!==a||i!==0&&ee.nodeType!==3||(E=h+i),ee!==u||s!==0&&ee.nodeType!==3||(I=h+s),ee.nodeType===3&&(h+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)X=ee,ee=ce;for(;;){if(ee===e)break t;if(X===a&&++$===i&&(E=h),X===u&&++G===s&&(I=h),(ce=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ce}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(lo={focusedElem:e,selectionRange:a},es=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var fe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,et=fe.memoizedState,A=t.stateNode,B=A.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Yt(t.type,pe),et);A.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){Xe(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return fe=du,du=!1,fe}function Dn(e,t,a){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&Qo(t,a,u)}i=i.next}while(i!==s)}}function Bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var s=a.create;a.destroy=s()}a=a.next}while(a!==t)}}function Yo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function cu(e){var t=e.alternate;t!==null&&(e.alternate=null,cu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[hn],delete t[uo],delete t[Rf],delete t[Tf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ms));else if(s!==4&&(e=e.child,e!==null))for(Jo(e,t,a),e=e.sibling;e!==null;)Jo(e,t,a),e=e.sibling}function Xo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}var mt=null,Jt=!1;function Br(e,t,a){for(a=a.child;a!==null;)fu(e,t,a),a=a.sibling}function fu(e,t,a){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 5:vt||La(a,t);case 6:var s=mt,i=Jt;mt=null,Br(e,t,a),mt=s,Jt=i,mt!==null&&(Jt?(e=mt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):mt.removeChild(a.stateNode));break;case 18:mt!==null&&(Jt?(e=mt,a=a.stateNode,e.nodeType===8?co(e.parentNode,a):e.nodeType===1&&co(e,a),sn(e)):co(mt,a.stateNode));break;case 4:s=mt,i=Jt,mt=a.stateNode.containerInfo,Jt=!0,Br(e,t,a),mt=s,Jt=i;break;case 0:case 11:case 14:case 15:if(!vt&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var u=i,h=u.destroy;u=u.tag,h!==void 0&&((u&2)!==0||(u&4)!==0)&&Qo(a,t,h),i=i.next}while(i!==s)}Br(e,t,a);break;case 1:if(!vt&&(La(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(E){Xe(a,t,E)}Br(e,t,a);break;case 21:Br(e,t,a);break;case 22:a.mode&1?(vt=(s=vt)||a.memoizedState!==null,Br(e,t,a),vt=s):Br(e,t,a);break;default:Br(e,t,a)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new qf),t.forEach(function(s){var i=rp.bind(null,e,s);a.has(s)||(a.add(s),s.then(i,i))})}}function Xt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var i=a[s];try{var u=e,h=t,E=h;e:for(;E!==null;){switch(E.tag){case 5:mt=E.stateNode,Jt=!1;break e;case 3:mt=E.stateNode.containerInfo,Jt=!0;break e;case 4:mt=E.stateNode.containerInfo,Jt=!0;break e}E=E.return}if(mt===null)throw Error(o(160));fu(u,h,i),mt=null,Jt=!1;var I=i.alternate;I!==null&&(I.return=null),i.return=null}catch($){Xe(i,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xu(t,e),t=t.sibling}function xu(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),sr(e),s&4){try{Dn(3,e,e.return),Bs(3,e)}catch(pe){Xe(e,e.return,pe)}try{Dn(5,e,e.return)}catch(pe){Xe(e,e.return,pe)}}break;case 1:Xt(t,e),sr(e),s&512&&a!==null&&La(a,a.return);break;case 5:if(Xt(t,e),sr(e),s&512&&a!==null&&La(a,a.return),e.flags&32){var i=e.stateNode;try{kr(i,"")}catch(pe){Xe(e,e.return,pe)}}if(s&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,h=a!==null?a.memoizedProps:u,E=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{E==="input"&&u.type==="radio"&&u.name!=null&&Re(i,u),$e(E,h);var $=$e(E,u);for(h=0;h<I.length;h+=2){var G=I[h],ee=I[h+1];G==="style"?Z(i,ee):G==="dangerouslySetInnerHTML"?dr(i,ee):G==="children"?kr(i,ee):S(i,G,ee,$)}switch(E){case"input":gt(i,u);break;case"textarea":qa(i,u);break;case"select":var X=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var ce=u.value;ce!=null?Me(i,!!u.multiple,ce,!1):X!==!!u.multiple&&(u.defaultValue!=null?Me(i,!!u.multiple,u.defaultValue,!0):Me(i,!!u.multiple,u.multiple?[]:"",!1))}i[hn]=u}catch(pe){Xe(e,e.return,pe)}}break;case 6:if(Xt(t,e),sr(e),s&4){if(e.stateNode===null)throw Error(o(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(pe){Xe(e,e.return,pe)}}break;case 3:if(Xt(t,e),sr(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{sn(t.containerInfo)}catch(pe){Xe(e,e.return,pe)}break;case 4:Xt(t,e),sr(e);break;case 13:Xt(t,e),sr(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(ei=Ze())),s&4&&pu(e);break;case 22:if(G=a!==null&&a.memoizedState!==null,e.mode&1?(vt=($=vt)||G,Xt(t,e),vt=$):Xt(t,e),sr(e),s&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!G&&(e.mode&1)!==0)for(ue=e,G=e.child;G!==null;){for(ee=ue=G;ue!==null;){switch(X=ue,ce=X.child,X.tag){case 0:case 11:case 14:case 15:Dn(4,X,X.return);break;case 1:La(X,X.return);var fe=X.stateNode;if(typeof fe.componentWillUnmount=="function"){s=X,a=X.return;try{t=s,fe.props=t.memoizedProps,fe.state=t.memoizedState,fe.componentWillUnmount()}catch(pe){Xe(s,a,pe)}}break;case 5:La(X,X.return);break;case 22:if(X.memoizedState!==null){yu(ee);continue}}ce!==null?(ce.return=X,ue=ce):yu(ee)}G=G.sibling}e:for(G=null,ee=e;;){if(ee.tag===5){if(G===null){G=ee;try{i=ee.stateNode,$?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(E=ee.stateNode,I=ee.memoizedProps.style,h=I!=null&&I.hasOwnProperty("display")?I.display:null,E.style.display=U("display",h))}catch(pe){Xe(e,e.return,pe)}}}else if(ee.tag===6){if(G===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(pe){Xe(e,e.return,pe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;G===ee&&(G=null),ee=ee.return}G===ee&&(G=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Xt(t,e),sr(e),s&4&&pu(e);break;case 21:break;default:Xt(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(uu(a)){var s=a;break e}a=a.return}throw Error(o(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(kr(i,""),s.flags&=-33);var u=mu(e);Xo(e,u,i);break;case 3:case 4:var h=s.stateNode.containerInfo,E=mu(e);Jo(e,E,h);break;default:throw Error(o(161))}}catch(I){Xe(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e,t,a){ue=e,gu(e)}function gu(e,t,a){for(var s=(e.mode&1)!==0;ue!==null;){var i=ue,u=i.child;if(i.tag===22&&s){var h=i.memoizedState!==null||Ls;if(!h){var E=i.alternate,I=E!==null&&E.memoizedState!==null||vt;E=Ls;var $=vt;if(Ls=h,(vt=I)&&!$)for(ue=i;ue!==null;)h=ue,I=h.child,h.tag===22&&h.memoizedState!==null?bu(i):I!==null?(I.return=h,ue=I):bu(i);for(;u!==null;)ue=u,gu(u),u=u.sibling;ue=i,Ls=E,vt=$}hu(e)}else(i.subtreeFlags&8772)!==0&&u!==null?(u.return=i,ue=u):hu(e)}}function hu(e){for(;ue!==null;){var t=ue;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Bs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vt)if(a===null)s.componentDidMount();else{var i=t.elementType===t.type?a.memoizedProps:Yt(t.type,a.memoizedProps);s.componentDidUpdate(i,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&yc(t,u,s);break;case 3:var h=t.updateQueue;if(h!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}yc(t,h,a)}break;case 5:var E=t.stateNode;if(a===null&&t.flags&4){a=E;var I=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var G=$.memoizedState;if(G!==null){var ee=G.dehydrated;ee!==null&&sn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}vt||t.flags&512&&Yo(t)}catch(X){Xe(t,t.return,X)}}if(t===e){ue=null;break}if(a=t.sibling,a!==null){a.return=t.return,ue=a;break}ue=t.return}}function yu(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ue=a;break}ue=t.return}}function bu(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Bs(4,t)}catch(I){Xe(t,a,I)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(I){Xe(t,i,I)}}var u=t.return;try{Yo(t)}catch(I){Xe(t,u,I)}break;case 5:var h=t.return;try{Yo(t)}catch(I){Xe(t,h,I)}}}catch(I){Xe(t,t.return,I)}if(t===e){ue=null;break}var E=t.sibling;if(E!==null){E.return=t.return,ue=E;break}ue=t.return}}var Yf=Math.ceil,Fs=L.ReactCurrentDispatcher,Go=L.ReactCurrentOwner,Ut=L.ReactCurrentBatchConfig,Le=0,ct=null,at=null,ft=0,Ft=0,Ba=Tr(0),ot=0,Rn=null,ra=0,As=0,Zo=0,Tn=null,Dt=null,ei=0,Fa=1/0,hr=null,Os=!1,ti=null,Fr=null,zs=!1,Ar=null,Ms=0,Pn=0,ri=null,$s=-1,Us=0;function Nt(){return(Le&6)!==0?Ze():$s!==-1?$s:$s=Ze()}function Or(e){return(e.mode&1)===0?1:(Le&2)!==0&&ft!==0?ft&-ft:_f.transition!==null?(Us===0&&(Us=md()),Us):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:wd(e.type)),e)}function Gt(e,t,a,s){if(50<Pn)throw Pn=0,ri=null,Error(o(185));en(e,a,s),((Le&2)===0||e!==ct)&&(e===ct&&((Le&2)===0&&(As|=a),ot===4&&zr(e,ft)),Rt(e,s),a===1&&Le===0&&(t.mode&1)===0&&(Fa=Ze()+500,gs&&_r()))}function Rt(e,t){var a=e.callbackNode;Pm(e,t);var s=Xn(e,e===ct?ft:0);if(s===0)a!==null&&dd(a),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(a!=null&&dd(a),t===1)e.tag===0?Pf(wu.bind(null,e)):lc(wu.bind(null,e)),Cf(function(){(Le&6)===0&&_r()}),a=null;else{switch(fd(s)){case 1:a=Ll;break;case 4:a=cd;break;case 16:a=Kn;break;case 536870912:a=ud;break;default:a=Kn}a=Ru(a,vu.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function vu(e,t){if($s=-1,Us=0,(Le&6)!==0)throw Error(o(327));var a=e.callbackNode;if(Aa()&&e.callbackNode!==a)return null;var s=Xn(e,e===ct?ft:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Hs(e,s);else{t=s;var i=Le;Le|=2;var u=ju();(ct!==e||ft!==t)&&(hr=null,Fa=Ze()+500,na(e,t));do try{Gf();break}catch(E){ku(e,E)}while(!0);vo(),Fs.current=u,Le=i,at!==null?t=0:(ct=null,ft=0,t=ot)}if(t!==0){if(t===2&&(i=Bl(e),i!==0&&(s=i,t=ai(e,i))),t===1)throw a=Rn,na(e,0),zr(e,s),Rt(e,Ze()),a;if(t===6)zr(e,s);else{if(i=e.current.alternate,(s&30)===0&&!Jf(i)&&(t=Hs(e,s),t===2&&(u=Bl(e),u!==0&&(s=u,t=ai(e,u))),t===1))throw a=Rn,na(e,0),zr(e,s),Rt(e,Ze()),a;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:sa(e,Dt,hr);break;case 3:if(zr(e,s),(s&130023424)===s&&(t=ei+500-Ze(),10<t)){if(Xn(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=io(sa.bind(null,e,Dt,hr),t);break}sa(e,Dt,hr);break;case 4:if(zr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var h=31-qt(s);u=1<<h,h=t[h],h>i&&(i=h),s&=~u}if(s=i,s=Ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Yf(s/1960))-s,10<s){e.timeoutHandle=io(sa.bind(null,e,Dt,hr),s);break}sa(e,Dt,hr);break;case 5:sa(e,Dt,hr);break;default:throw Error(o(329))}}}return Rt(e,Ze()),e.callbackNode===a?vu.bind(null,e):null}function ai(e,t){var a=Tn;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=Hs(e,t),e!==2&&(t=Dt,Dt=a,t!==null&&ni(t)),e}function ni(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function Jf(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var i=a[s],u=i.getSnapshot;i=i.value;try{if(!Kt(u(),i))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~Zo,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-qt(t),s=1<<a;e[a]=-1,t&=~s}}function wu(e){if((Le&6)!==0)throw Error(o(327));Aa();var t=Xn(e,0);if((t&1)===0)return Rt(e,Ze()),null;var a=Hs(e,t);if(e.tag!==0&&a===2){var s=Bl(e);s!==0&&(t=s,a=ai(e,s))}if(a===1)throw a=Rn,na(e,0),zr(e,t),Rt(e,Ze()),a;if(a===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sa(e,Dt,hr),Rt(e,Ze()),null}function si(e,t){var a=Le;Le|=1;try{return e(t)}finally{Le=a,Le===0&&(Fa=Ze()+500,gs&&_r())}}function aa(e){Ar!==null&&Ar.tag===0&&(Le&6)===0&&Aa();var t=Le;Le|=1;var a=Ut.transition,s=Oe;try{if(Ut.transition=null,Oe=1,e)return e()}finally{Oe=s,Ut.transition=a,Le=t,(Le&6)===0&&_r()}}function li(){Ft=Ba.current,We(Ba)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Ef(a)),at!==null)for(a=at.return;a!==null;){var s=a;switch(xo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ps();break;case 3:_a(),We(St),We(ht),Do();break;case 5:Eo(s);break;case 4:_a();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:wo(s.type._context);break;case 22:case 23:li()}a=a.return}if(ct=e,at=e=Mr(e.current,null),ft=Ft=t,ot=0,Rn=null,Zo=As=ra=0,Dt=Tn=null,Zr!==null){for(t=0;t<Zr.length;t++)if(a=Zr[t],s=a.interleaved,s!==null){a.interleaved=null;var i=s.next,u=a.pending;if(u!==null){var h=u.next;u.next=i,s.next=h}a.pending=s}Zr=null}return e}function ku(e,t){do{var a=at;try{if(vo(),Es.current=Ts,Cs){for(var s=Ye.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Cs=!1}if(ta=0,dt=lt=Ye=null,jn=!1,Nn=0,Go.current=null,a===null||a.return===null){ot=1,Rn=t,at=null;break}e:{var u=e,h=a.return,E=a,I=t;if(t=ft,E.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=I,G=E,ee=G.tag;if((G.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=G.alternate;X?(G.updateQueue=X.updateQueue,G.memoizedState=X.memoizedState,G.lanes=X.lanes):(G.updateQueue=null,G.memoizedState=null)}var ce=Kc(h);if(ce!==null){ce.flags&=-257,Qc(ce,h,E,u,t),ce.mode&1&&qc(u,$,t),t=ce,I=$;var fe=t.updateQueue;if(fe===null){var pe=new Set;pe.add(I),t.updateQueue=pe}else fe.add(I);break e}else{if((t&1)===0){qc(u,$,t),oi();break e}I=Error(o(426))}}else if(Ve&&E.mode&1){var et=Kc(h);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Qc(et,h,E,u,t),yo(Ia(I,E));break e}}u=I=Ia(I,E),ot!==4&&(ot=2),Tn===null?Tn=[u]:Tn.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var A=Wc(u,I,t);hc(u,A);break e;case 1:E=I;var B=u.type,O=u.stateNode;if((u.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fr===null||!Fr.has(O)))){u.flags|=65536,t&=-t,u.lanes|=t;var re=Vc(u,E,t);hc(u,re);break e}}u=u.return}while(u!==null)}Su(a)}catch(he){t=he,at===a&&a!==null&&(at=a=a.return);continue}break}while(!0)}function ju(){var e=Fs.current;return Fs.current=Ts,e===null?Ts:e}function oi(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||(ra&268435455)===0&&(As&268435455)===0||zr(ct,ft)}function Hs(e,t){var a=Le;Le|=2;var s=ju();(ct!==e||ft!==t)&&(hr=null,na(e,t));do try{Xf();break}catch(i){ku(e,i)}while(!0);if(vo(),Le=a,Fs.current=s,at!==null)throw Error(o(261));return ct=null,ft=0,ot}function Xf(){for(;at!==null;)Nu(at)}function Gf(){for(;at!==null&&!km();)Nu(at)}function Nu(e){var t=Du(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Su(e):at=t,Go.current=null}function Su(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Wf(a,t,Ft),a!==null){at=a;return}}else{if(a=Vf(a,t),a!==null){a.flags&=32767,at=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,at=null;return}}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ot===0&&(ot=5)}function sa(e,t,a){var s=Oe,i=Ut.transition;try{Ut.transition=null,Oe=1,Zf(e,t,a,s)}finally{Ut.transition=i,Oe=s}return null}function Zf(e,t,a,s){do Aa();while(Ar!==null);if((Le&6)!==0)throw Error(o(327));a=e.finishedWork;var i=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var u=a.lanes|a.childLanes;if(_m(e,u),e===ct&&(at=ct=null,ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||zs||(zs=!0,Ru(Kn,function(){return Aa(),null})),u=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||u){u=Ut.transition,Ut.transition=null;var h=Oe;Oe=1;var E=Le;Le|=4,Go.current=null,Kf(e,a),xu(a,e),bf(lo),es=!!so,lo=so=null,e.current=a,Qf(a),jm(),Le=E,Oe=h,Ut.transition=u}else e.current=a;if(zs&&(zs=!1,Ar=e,Ms=i),u=e.pendingLanes,u===0&&(Fr=null),Em(a.stateNode),Rt(e,Ze()),t!==null)for(s=e.onRecoverableError,a=0;a<t.length;a++)i=t[a],s(i.value,{componentStack:i.stack,digest:i.digest});if(Os)throw Os=!1,e=ti,ti=null,e;return(Ms&1)!==0&&e.tag!==0&&Aa(),u=e.pendingLanes,(u&1)!==0?e===ri?Pn++:(Pn=0,ri=e):Pn=0,_r(),null}function Aa(){if(Ar!==null){var e=fd(Ms),t=Ut.transition,a=Oe;try{if(Ut.transition=null,Oe=16>e?16:e,Ar===null)var s=!1;else{if(e=Ar,Ar=null,Ms=0,(Le&6)!==0)throw Error(o(331));var i=Le;for(Le|=4,ue=e.current;ue!==null;){var u=ue,h=u.child;if((ue.flags&16)!==0){var E=u.deletions;if(E!==null){for(var I=0;I<E.length;I++){var $=E[I];for(ue=$;ue!==null;){var G=ue;switch(G.tag){case 0:case 11:case 15:Dn(8,G,u)}var ee=G.child;if(ee!==null)ee.return=G,ue=ee;else for(;ue!==null;){G=ue;var X=G.sibling,ce=G.return;if(cu(G),G===$){ue=null;break}if(X!==null){X.return=ce,ue=X;break}ue=ce}}}var fe=u.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var et=pe.sibling;pe.sibling=null,pe=et}while(pe!==null)}}ue=u}}if((u.subtreeFlags&2064)!==0&&h!==null)h.return=u,ue=h;else e:for(;ue!==null;){if(u=ue,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Dn(9,u,u.return)}var A=u.sibling;if(A!==null){A.return=u.return,ue=A;break e}ue=u.return}}var B=e.current;for(ue=B;ue!==null;){h=ue;var O=h.child;if((h.subtreeFlags&2064)!==0&&O!==null)O.return=h,ue=O;else e:for(h=B;ue!==null;){if(E=ue,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Bs(9,E)}}catch(he){Xe(E,E.return,he)}if(E===h){ue=null;break e}var re=E.sibling;if(re!==null){re.return=E.return,ue=re;break e}ue=E.return}}if(Le=i,_r(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Qn,e)}catch{}s=!0}return s}finally{Oe=a,Ut.transition=t}}return!1}function Eu(e,t,a){t=Ia(a,t),t=Wc(e,t,1),e=Lr(e,t,1),t=Nt(),e!==null&&(en(e,1,t),Rt(e,t))}function Xe(e,t,a){if(e.tag===3)Eu(e,e,a);else for(;t!==null;){if(t.tag===3){Eu(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fr===null||!Fr.has(s))){e=Ia(a,e),e=Vc(t,e,1),t=Lr(t,e,1),e=Nt(),t!==null&&(en(t,1,e),Rt(t,e));break}}t=t.return}}function ep(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&a,ct===e&&(ft&a)===a&&(ot===4||ot===3&&(ft&130023424)===ft&&500>Ze()-ei?na(e,0):Zo|=a),Rt(e,t)}function Cu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Jn,Jn<<=1,(Jn&130023424)===0&&(Jn=4194304)));var a=Nt();e=pr(e,t),e!==null&&(en(e,t,a),Rt(e,a))}function tp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Cu(e,a)}function rp(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),Cu(e,a)}var Du;Du=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Ct=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return Ct=!1,Hf(e,t,a);Ct=(e.flags&131072)!==0}else Ct=!1,Ve&&(t.flags&1048576)!==0&&oc(t,ys,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var i=Sa(t,ht.current);Pa(t,a),i=Po(null,t,s,e,i,a);var u=_o();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(s)?(u=!0,xs(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,No(t),i.updater=Ps,t.stateNode=i,i._reactInternals=t,Oo(t,s,e,a),t=Uo(null,t,s,!0,u,a)):(t.tag=0,Ve&&u&&po(t),jt(null,t,i,a),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=np(s),e=Yt(s,e),i){case 0:t=$o(null,t,s,e,a);break e;case 1:t=eu(null,t,s,e,a);break e;case 11:t=Yc(null,t,s,e,a);break e;case 14:t=Jc(null,t,s,Yt(s.type,e),a);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),$o(e,t,s,i,a);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),eu(e,t,s,i,a);case 3:e:{if(tu(t),e===null)throw Error(o(387));s=t.pendingProps,u=t.memoizedState,i=u.element,gc(e,t),Ns(t,s,null,a);var h=t.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=Ia(Error(o(423)),t),t=ru(e,t,s,a,i);break e}else if(s!==i){i=Ia(Error(o(424)),t),t=ru(e,t,s,a,i);break e}else for(Bt=Rr(t.stateNode.containerInfo.firstChild),Lt=t,Ve=!0,Qt=null,a=pc(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Da(),s===i){t=gr(e,t,a);break e}jt(e,t,s,a)}t=t.child}return t;case 5:return bc(t),e===null&&ho(t),s=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,h=i.children,oo(s,i)?h=null:u!==null&&oo(s,u)&&(t.flags|=32),Zc(e,t),jt(e,t,h,a),t.child;case 6:return e===null&&ho(t),null;case 13:return au(e,t,a);case 4:return So(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ra(t,null,s,a):jt(e,t,s,a),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),Yc(e,t,s,i,a);case 7:return jt(e,t,t.pendingProps,a),t.child;case 8:return jt(e,t,t.pendingProps.children,a),t.child;case 12:return jt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,u=t.memoizedProps,h=i.value,ze(ws,s._currentValue),s._currentValue=h,u!==null)if(Kt(u.value,h)){if(u.children===i.children&&!St.current){t=gr(e,t,a);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var E=u.dependencies;if(E!==null){h=u.child;for(var I=E.firstContext;I!==null;){if(I.context===s){if(u.tag===1){I=xr(-1,a&-a),I.tag=2;var $=u.updateQueue;if($!==null){$=$.shared;var G=$.pending;G===null?I.next=I:(I.next=G.next,G.next=I),$.pending=I}}u.lanes|=a,I=u.alternate,I!==null&&(I.lanes|=a),ko(u.return,a,t),E.lanes|=a;break}I=I.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(o(341));h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),ko(h,a,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}jt(e,t,i.children,a),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Pa(t,a),i=Mt(i),s=s(i),t.flags|=1,jt(e,t,s,a),t.child;case 14:return s=t.type,i=Yt(s,t.pendingProps),i=Yt(s.type,i),Jc(e,t,s,i,a);case 15:return Xc(e,t,t.type,t.pendingProps,a);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Yt(s,i),Is(e,t),t.tag=1,Et(s)?(e=!0,xs(t)):e=!1,Pa(t,a),Uc(t,s,i),Oo(t,s,i,a),Uo(null,t,s,!0,e,a);case 19:return su(e,t,a);case 22:return Gc(e,t,a)}throw Error(o(156,t.tag))};function Ru(e,t){return id(e,t)}function ap(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,s){return new ap(e,t,a,s)}function ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function np(e){if(typeof e=="function")return ii(e)?1:0;if(e!=null){if(e=e.$$typeof,e===te)return 11;if(e===ye)return 14}return 2}function Mr(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Ws(e,t,a,s,i,u){var h=2;if(s=e,typeof e=="function")ii(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case _:return la(a.children,i,u,t);case Y:h=8,i|=8;break;case se:return e=Ht(12,a,t,i|2),e.elementType=se,e.lanes=u,e;case W:return e=Ht(13,a,t,i),e.elementType=W,e.lanes=u,e;case ke:return e=Ht(19,a,t,i),e.elementType=ke,e.lanes=u,e;case q:return Vs(a,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:h=10;break e;case we:h=9;break e;case te:h=11;break e;case ye:h=14;break e;case je:h=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Ht(h,a,t,i),t.elementType=e,t.type=s,t.lanes=u,t}function la(e,t,a,s){return e=Ht(7,e,s,t),e.lanes=a,e}function Vs(e,t,a,s){return e=Ht(22,e,s,t),e.elementType=q,e.lanes=a,e.stateNode={isHidden:!1},e}function di(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function ci(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sp(e,t,a,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ui(e,t,a,s,i,u,h,E,I){return e=new sp(e,t,a,E,I),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Ht(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(u),e}function lp(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}function Tu(e){if(!e)return Pr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var a=e.type;if(Et(a))return nc(e,a,t)}return t}function Pu(e,t,a,s,i,u,h,E,I){return e=ui(a,s,!0,e,i,u,h,E,I),e.context=Tu(null),a=e.current,s=Nt(),i=Or(a),u=xr(s,i),u.callback=t??null,Lr(a,u,i),e.current.lanes=i,en(e,i,s),Rt(e,s),e}function qs(e,t,a,s){var i=t.current,u=Nt(),h=Or(i);return a=Tu(a),t.context===null?t.context=a:t.pendingContext=a,t=xr(u,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Lr(i,t,h),e!==null&&(Gt(e,i,h,u),js(e,i,h)),h}function Ks(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function mi(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function op(){return null}var Iu=typeof reportError=="function"?reportError:function(e){console.error(e)};function fi(e){this._internalRoot=e}Qs.prototype.render=fi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));qs(e,t,null,null)},Qs.prototype.unmount=fi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;aa(function(){qs(null,e,null,null)}),t[cr]=null}};function Qs(e){this._internalRoot=e}Qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Er.length&&t!==0&&t<Er[a].priority;a++);Er.splice(a,0,e),a===0&&bd(e)}};function pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function ip(e,t,a,s,i){if(i){if(typeof s=="function"){var u=s;s=function(){var $=Ks(h);u.call($)}}var h=Pu(t,s,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=h,e[cr]=h.current,xn(e.nodeType===8?e.parentNode:e),aa(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var E=s;s=function(){var $=Ks(I);E.call($)}}var I=ui(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=I,e[cr]=I.current,xn(e.nodeType===8?e.parentNode:e),aa(function(){qs(t,I,a,s)}),I}function Js(e,t,a,s,i){var u=a._reactRootContainer;if(u){var h=u;if(typeof i=="function"){var E=i;i=function(){var I=Ks(h);E.call(I)}}qs(t,h,e,i)}else h=ip(a,t,e,i,s);return Ks(h)}pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Za(t.pendingLanes);a!==0&&(Al(t,a|1),Rt(t,Ze()),(Le&6)===0&&(Fa=Ze()+500,_r()))}break;case 13:aa(function(){var s=pr(e,1);if(s!==null){var i=Nt();Gt(s,e,1,i)}}),mi(e,1)}},Ol=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var a=Nt();Gt(t,e,134217728,a)}mi(e,134217728)}},xd=function(e){if(e.tag===13){var t=Or(e),a=pr(e,t);if(a!==null){var s=Nt();Gt(a,e,t,s)}mi(e,t)}},gd=function(){return Oe},hd=function(e,t){var a=Oe;try{return Oe=e,t()}finally{Oe=a}},Ya=function(e,t,a){switch(t){case"input":if(gt(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var i=fs(s);if(!i)throw Error(o(90));oe(s),gt(s,i)}}}break;case"textarea":qa(e,a);break;case"select":t=a.value,t!=null&&Me(e,!!a.multiple,t,!1)}},td=si,rd=aa;var dp={usingClientEntryPoint:!1,Events:[yn,ja,fs,Zi,ed,si]},_n={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cp={bundleType:_n.bundleType,version:_n.version,rendererPackageName:_n.rendererPackageName,rendererConfig:_n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:_n.findFiberByHostInstance||op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Qn=Xs.inject(cp),tr=Xs}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp,Tt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pi(t))throw Error(o(200));return lp(e,t,null,a)},Tt.createRoot=function(e,t){if(!pi(e))throw Error(o(299));var a=!1,s="",i=Iu;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ui(e,1,!1,null,null,a,!1,s,i),e[cr]=t.current,xn(e.nodeType===8?e.parentNode:e),new fi(t)},Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e},Tt.flushSync=function(e){return aa(e)},Tt.hydrate=function(e,t,a){if(!Ys(t))throw Error(o(200));return Js(null,e,t,!0,a)},Tt.hydrateRoot=function(e,t,a){if(!pi(e))throw Error(o(405));var s=a!=null&&a.hydratedSources||null,i=!1,u="",h=Iu;if(a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onRecoverableError!==void 0&&(h=a.onRecoverableError)),t=Pu(t,null,e,1,a??null,i,!1,u,h),e[cr]=t.current,xn(e),s)for(e=0;e<s.length;e++)a=s[e],i=a._getVersion,i=i(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,i]:t.mutableSourceEagerHydrationData.push(a,i);return new Qs(t)},Tt.render=function(e,t,a){if(!Ys(t))throw Error(o(200));return Js(null,e,t,!1,a)},Tt.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(o(40));return e._reactRootContainer?(aa(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1},Tt.unstable_batchedUpdates=si,Tt.unstable_renderSubtreeIntoContainer=function(e,t,a,s){if(!Ys(a))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Js(e,t,a,!1,s)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Uu;function bp(){if(Uu)return hi.exports;Uu=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),hi.exports=yp(),hi.exports}var Hu;function vp(){if(Hu)return Gs;Hu=1;var n=bp();return Gs.createRoot=n.createRoot,Gs.hydrateRoot=n.hydrateRoot,Gs}var wp=vp();var Wu="popstate";function kp(n={}){function l(d,c){let{pathname:m,search:f,hash:x}=d.location;return Si("",{pathname:m,search:f,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(d,c){return typeof c=="string"?c:An(c)}return Np(l,o,null,n)}function qe(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function Wt(n,l){if(!n){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function jp(){return Math.random().toString(36).substring(2,10)}function Vu(n,l){return{usr:n.state,key:n.key,idx:l}}function Si(n,l,o=null,d){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof l=="string"?za(l):l,state:o,key:l&&l.key||d||jp()}}function An({pathname:n="/",search:l="",hash:o=""}){return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function za(n){let l={};if(n){let o=n.indexOf("#");o>=0&&(l.hash=n.substring(o),n=n.substring(0,o));let d=n.indexOf("?");d>=0&&(l.search=n.substring(d),n=n.substring(0,d)),n&&(l.pathname=n)}return l}function Np(n,l,o,d={}){let{window:c=document.defaultView,v5Compat:m=!1}=d,f=c.history,x="POP",g=null,y=v();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function v(){return(f.state||{idx:null}).idx}function b(){x="POP";let w=v(),k=w==null?null:w-y;y=w,g&&g({action:x,location:D.location,delta:k})}function T(w,k){x="PUSH";let C=Si(D.location,w,k);y=v()+1;let S=Vu(C,y),L=D.createHref(C);try{f.pushState(S,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;c.location.assign(L)}m&&g&&g({action:x,location:D.location,delta:1})}function P(w,k){x="REPLACE";let C=Si(D.location,w,k);y=v();let S=Vu(C,y),L=D.createHref(C);f.replaceState(S,"",L),m&&g&&g({action:x,location:D.location,delta:0})}function N(w){return Sp(w)}let D={get action(){return x},get location(){return n(c,f)},listen(w){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Wu,b),g=w,()=>{c.removeEventListener(Wu,b),g=null}},createHref(w){return l(c,w)},createURL:N,encodeLocation(w){let k=N(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:T,replace:P,go(w){return f.go(w)}};return D}function Sp(n,l=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),qe(o,"No window.location.(origin|href) available to create URL");let d=typeof n=="string"?n:An(n);return d=d.replace(/ $/,"%20"),!l&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function k0(n,l,o="/"){return Ep(n,l,o,!1)}function Ep(n,l,o,d){let c=typeof l=="string"?za(l):l,m=vr(c.pathname||"/",o);if(m==null)return null;let f=j0(n);Cp(f);let x=null;for(let g=0;x==null&&g<f.length;++g){let y=Op(m);x=Fp(f[g],y,d)}return x}function j0(n,l=[],o=[],d="",c=!1){let m=(f,x,g=c,y)=>{let v={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:x,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(d)&&g)return;qe(v.relativePath.startsWith(d),`Absolute route path "${v.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(d.length)}let b=br([d,v.relativePath]),T=o.concat(v);f.children&&f.children.length>0&&(qe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),j0(f.children,l,T,b,g)),!(f.path==null&&!f.index)&&l.push({path:b,score:Lp(b,f.index),routesMeta:T})};return n.forEach((f,x)=>{if(f.path===""||!f.path?.includes("?"))m(f,x);else for(let g of N0(f.path))m(f,x,!0,g)}),l}function N0(n){let l=n.split("/");if(l.length===0)return[];let[o,...d]=l,c=o.endsWith("?"),m=o.replace(/\?$/,"");if(d.length===0)return c?[m,""]:[m];let f=N0(d.join("/")),x=[];return x.push(...f.map(g=>g===""?m:[m,g].join("/"))),c&&x.push(...f),x.map(g=>n.startsWith("/")&&g===""?"/":g)}function Cp(n){n.sort((l,o)=>l.score!==o.score?o.score-l.score:Bp(l.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var Dp=/^:[\w-]+$/,Rp=3,Tp=2,Pp=1,_p=10,Ip=-2,qu=n=>n==="*";function Lp(n,l){let o=n.split("/"),d=o.length;return o.some(qu)&&(d+=Ip),l&&(d+=Tp),o.filter(c=>!qu(c)).reduce((c,m)=>c+(Dp.test(m)?Rp:m===""?Pp:_p),d)}function Bp(n,l){return n.length===l.length&&n.slice(0,-1).every((d,c)=>d===l[c])?n[n.length-1]-l[l.length-1]:0}function Fp(n,l,o=!1){let{routesMeta:d}=n,c={},m="/",f=[];for(let x=0;x<d.length;++x){let g=d[x],y=x===d.length-1,v=m==="/"?l:l.slice(m.length)||"/",b=fl({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),T=g.route;if(!b&&y&&o&&!d[d.length-1].route.index&&(b=fl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:br([m,b.pathname]),pathnameBase:Hp(br([m,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(m=br([m,b.pathnameBase]))}return f}function fl(n,l){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,d]=Ap(n.path,n.caseSensitive,n.end),c=l.match(o);if(!c)return null;let m=c[0],f=m.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:d.reduce((y,{paramName:v,isOptional:b},T)=>{if(v==="*"){let N=x[T]||"";f=m.slice(0,m.length-N.length).replace(/(.)\/+$/,"$1")}const P=x[T];return b&&!P?y[v]=void 0:y[v]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:m,pathnameBase:f,pattern:n}}function Ap(n,l=!1,o=!0){Wt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let d=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,x,g)=>(d.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(d.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,l?void 0:"i"),d]}function Op(n){try{return n.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Wt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),n}}function vr(n,l){if(l==="/")return n;if(!n.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,d=n.charAt(o);return d&&d!=="/"?null:n.slice(o)||"/"}var zp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=n=>zp.test(n);function $p(n,l="/"){let{pathname:o,search:d="",hash:c=""}=typeof n=="string"?za(n):n,m;if(o)if(Mp(o))m=o;else{if(o.includes("//")){let f=o;o=o.replace(/\/\/+/g,"/"),Wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${o}`)}o.startsWith("/")?m=Ku(o.substring(1),"/"):m=Ku(o,l)}else m=l;return{pathname:m,search:Wp(d),hash:Vp(c)}}function Ku(n,l){let o=l.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function vi(n,l,o,d){return`Cannot include a '${n}' character in a manually specified \`to.${l}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Up(n){return n.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function Fi(n){let l=Up(n);return l.map((o,d)=>d===l.length-1?o.pathname:o.pathnameBase)}function Ai(n,l,o,d=!1){let c;typeof n=="string"?c=za(n):(c={...n},qe(!c.pathname||!c.pathname.includes("?"),vi("?","pathname","search",c)),qe(!c.pathname||!c.pathname.includes("#"),vi("#","pathname","hash",c)),qe(!c.search||!c.search.includes("#"),vi("#","search","hash",c)));let m=n===""||c.pathname==="",f=m?"/":c.pathname,x;if(f==null)x=o;else{let b=l.length-1;if(!d&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),b-=1;c.pathname=T.join("/")}x=b>=0?l[b]:"/"}let g=$p(c,x),y=f&&f!=="/"&&f.endsWith("/"),v=(m||f===".")&&o.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var br=n=>n.join("/").replace(/\/\/+/g,"/"),Hp=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Wp=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Vp=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Kp(n){return n.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var Qp=["GET",...S0];new Set(Qp);var Ma=p.createContext(null);Ma.displayName="DataRouter";var hl=p.createContext(null);hl.displayName="DataRouterState";p.createContext(!1);var E0=p.createContext({isTransitioning:!1});E0.displayName="ViewTransition";var Yp=p.createContext(new Map);Yp.displayName="Fetchers";var Jp=p.createContext(null);Jp.displayName="Await";var Vt=p.createContext(null);Vt.displayName="Navigation";var On=p.createContext(null);On.displayName="Location";var Zt=p.createContext({outlet:null,matches:[],isDataRoute:!1});Zt.displayName="Route";var Oi=p.createContext(null);Oi.displayName="RouteError";function Xp(n,{relative:l}={}){qe($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=p.useContext(Vt),{hash:c,pathname:m,search:f}=zn(n,{relative:l}),x=m;return o!=="/"&&(x=m==="/"?o:br([o,m])),d.createHref({pathname:x,search:f,hash:c})}function $a(){return p.useContext(On)!=null}function Hr(){return qe($a(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(On).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(n){p.useContext(Vt).static||p.useLayoutEffect(n)}function kt(){let{isDataRoute:n}=p.useContext(Zt);return n?ux():Gp()}function Gp(){qe($a(),"useNavigate() may be used only in the context of a <Router> component.");let n=p.useContext(Ma),{basename:l,navigator:o}=p.useContext(Vt),{matches:d}=p.useContext(Zt),{pathname:c}=Hr(),m=JSON.stringify(Fi(d)),f=p.useRef(!1);return D0(()=>{f.current=!0}),p.useCallback((g,y={})=>{if(Wt(f.current,C0),!f.current)return;if(typeof g=="number"){o.go(g);return}let v=Ai(g,JSON.parse(m),c,y.relative==="path");n==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:br([l,v.pathname])),(y.replace?o.replace:o.push)(v,y.state,y)},[l,o,m,c,n])}p.createContext(null);function Zp(){let{matches:n}=p.useContext(Zt),l=n[n.length-1];return l?l.params:{}}function zn(n,{relative:l}={}){let{matches:o}=p.useContext(Zt),{pathname:d}=Hr(),c=JSON.stringify(Fi(o));return p.useMemo(()=>Ai(n,JSON.parse(c),d,l==="path"),[n,c,d,l])}function ex(n,l){return R0(n,l)}function R0(n,l,o,d,c){qe($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=p.useContext(Vt),{matches:f}=p.useContext(Zt),x=f[f.length-1],g=x?x.params:{},y=x?x.pathname:"/",v=x?x.pathnameBase:"/",b=x&&x.route;{let C=b&&b.path||"";T0(y,!b||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let T=Hr(),P;if(l){let C=typeof l=="string"?za(l):l;qe(v==="/"||C.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${C.pathname}" was given in the \`location\` prop.`),P=C}else P=T;let N=P.pathname||"/",D=N;if(v!=="/"){let C=v.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=k0(n,{pathname:D});Wt(b||w!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Wt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=sx(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},g,C.params),pathname:br([v,m.encodeLocation?m.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:br([v,m.encodeLocation?m.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),f,o,d,c);return l&&k?p.createElement(On.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},k):k}function tx(){let n=cx(),l=qp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,d="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:d},m={padding:"2px 4px",backgroundColor:d},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:m},"ErrorBoundary")," or"," ",p.createElement("code",{style:m},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},l),o?p.createElement("pre",{style:c},o):null,f)}var rx=p.createElement(tx,null),ax=class extends p.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){this.props.onError?this.props.onError(n,l):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?p.createElement(Zt.Provider,{value:this.props.routeContext},p.createElement(Oi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nx({routeContext:n,match:l,children:o}){let d=p.useContext(Ma);return d&&d.static&&d.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=l.route.id),p.createElement(Zt.Provider,{value:n},o)}function sx(n,l=[],o=null,d=null,c=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(l.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let m=n,f=o?.errors;if(f!=null){let v=m.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);qe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,v+1))}let x=!1,g=-1;if(o)for(let v=0;v<m.length;v++){let b=m[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=v),b.route.id){let{loaderData:T,errors:P}=o,N=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!P||P[b.route.id]===void 0);if(b.route.lazy||N){x=!0,g>=0?m=m.slice(0,g+1):m=[m[0]];break}}}let y=o&&d?(v,b)=>{d(v,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:Kp(o.matches),errorInfo:b})}:void 0;return m.reduceRight((v,b,T)=>{let P,N=!1,D=null,w=null;o&&(P=f&&b.route.id?f[b.route.id]:void 0,D=b.route.errorElement||rx,x&&(g<0&&T===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,w=null):g===T&&(N=!0,w=b.route.hydrateFallbackElement||null)));let k=l.concat(m.slice(0,T+1)),C=()=>{let S;return P?S=D:N?S=w:b.route.Component?S=p.createElement(b.route.Component,null):b.route.element?S=b.route.element:S=v,p.createElement(nx,{match:b,routeContext:{outlet:v,matches:k,isDataRoute:o!=null},children:S})};return o&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?p.createElement(ax,{location:o.location,revalidation:o.revalidation,component:D,error:P,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:y}):C()},null)}function zi(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(n){let l=p.useContext(Ma);return qe(l,zi(n)),l}function ox(n){let l=p.useContext(hl);return qe(l,zi(n)),l}function ix(n){let l=p.useContext(Zt);return qe(l,zi(n)),l}function Mi(n){let l=ix(n),o=l.matches[l.matches.length-1];return qe(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function dx(){return Mi("useRouteId")}function cx(){let n=p.useContext(Oi),l=ox("useRouteError"),o=Mi("useRouteError");return n!==void 0?n:l.errors?.[o]}function ux(){let{router:n}=lx("useNavigate"),l=Mi("useNavigate"),o=p.useRef(!1);return D0(()=>{o.current=!0}),p.useCallback(async(c,m={})=>{Wt(o.current,C0),o.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:l,...m}))},[n,l])}var Qu={};function T0(n,l,o){!l&&!Qu[n]&&(Qu[n]=!0,Wt(!1,o))}p.memo(mx);function mx({routes:n,future:l,state:o,unstable_onError:d}){return R0(n,void 0,o,d,l)}function fx({to:n,replace:l,state:o,relative:d}){qe($a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=p.useContext(Vt);Wt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=p.useContext(Zt),{pathname:f}=Hr(),x=kt(),g=Ai(n,Fi(m),f,d==="path"),y=JSON.stringify(g);return p.useEffect(()=>{x(JSON.parse(y),{replace:l,state:o,relative:d})},[x,y,d,l,o]),null}function nt(n){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function px({basename:n="/",children:l=null,location:o,navigationType:d="POP",navigator:c,static:m=!1,unstable_useTransitions:f}){qe(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=n.replace(/^\/*/,"/"),g=p.useMemo(()=>({basename:x,navigator:c,static:m,unstable_useTransitions:f,future:{}}),[x,c,m,f]);typeof o=="string"&&(o=za(o));let{pathname:y="/",search:v="",hash:b="",state:T=null,key:P="default"}=o,N=p.useMemo(()=>{let D=vr(y,x);return D==null?null:{location:{pathname:D,search:v,hash:b,state:T,key:P},navigationType:d}},[x,y,v,b,T,P,d]);return Wt(N!=null,`<Router basename="${x}"> is not able to match the URL "${y}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:p.createElement(Vt.Provider,{value:g},p.createElement(On.Provider,{children:l,value:N}))}function xx({children:n,location:l}){return ex(Ei(n),l)}function Ei(n,l=[]){let o=[];return p.Children.forEach(n,(d,c)=>{if(!p.isValidElement(d))return;let m=[...l,c];if(d.type===p.Fragment){o.push.apply(o,Ei(d.props.children,m));return}qe(d.type===nt,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!d.props.index||!d.props.children,"An index route cannot have child routes.");let f={id:d.props.id||m.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(f.children=Ei(d.props.children,m)),o.push(f)}),o}var ol="get",il="application/x-www-form-urlencoded";function yl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function gx(n){return yl(n)&&n.tagName.toLowerCase()==="button"}function hx(n){return yl(n)&&n.tagName.toLowerCase()==="form"}function yx(n){return yl(n)&&n.tagName.toLowerCase()==="input"}function bx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vx(n,l){return n.button===0&&(!l||l==="_self")&&!bx(n)}var Zs=null;function wx(){if(Zs===null)try{new FormData(document.createElement("form"),0),Zs=!1}catch{Zs=!0}return Zs}var kx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wi(n){return n!=null&&!kx.has(n)?(Wt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):n}function jx(n,l){let o,d,c,m,f;if(hx(n)){let x=n.getAttribute("action");d=x?vr(x,l):null,o=n.getAttribute("method")||ol,c=wi(n.getAttribute("enctype"))||il,m=new FormData(n)}else if(gx(n)||yx(n)&&(n.type==="submit"||n.type==="image")){let x=n.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||x.getAttribute("action");if(d=g?vr(g,l):null,o=n.getAttribute("formmethod")||x.getAttribute("method")||ol,c=wi(n.getAttribute("formenctype"))||wi(x.getAttribute("enctype"))||il,m=new FormData(x,n),!wx()){let{name:y,type:v,value:b}=n;if(v==="image"){let T=y?`${y}.`:"";m.append(`${T}x`,"0"),m.append(`${T}y`,"0")}else y&&m.append(y,b)}}else{if(yl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=ol,d=null,c=il,f=n}return m&&c==="text/plain"&&(f=m,m=void 0),{action:d,method:o.toLowerCase(),encType:c,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $i(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function Nx(n,l,o){let d=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return d.pathname==="/"?d.pathname=`_root.${o}`:l&&vr(d.pathname,l)==="/"?d.pathname=`${l.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function Sx(n,l){if(n.id in l)return l[n.id];try{let o=await import(n.module);return l[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ex(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Cx(n,l,o){let d=await Promise.all(n.map(async c=>{let m=l.routes[c.route.id];if(m){let f=await Sx(m,o);return f.links?f.links():[]}return[]}));return Px(d.flat(1).filter(Ex).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Yu(n,l,o,d,c,m){let f=(g,y)=>o[y]?g.route.id!==o[y].route.id:!0,x=(g,y)=>o[y].pathname!==g.pathname||o[y].route.path?.endsWith("*")&&o[y].params["*"]!==g.params["*"];return m==="assets"?l.filter((g,y)=>f(g,y)||x(g,y)):m==="data"?l.filter((g,y)=>{let v=d.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,y)||x(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Dx(n,l,{includeHydrateFallback:o}={}){return Rx(n.map(d=>{let c=l.routes[d.route.id];if(!c)return[];let m=[c.module];return c.clientActionModule&&(m=m.concat(c.clientActionModule)),c.clientLoaderModule&&(m=m.concat(c.clientLoaderModule)),o&&c.hydrateFallbackModule&&(m=m.concat(c.hydrateFallbackModule)),c.imports&&(m=m.concat(c.imports)),m}).flat(1))}function Rx(n){return[...new Set(n)]}function Tx(n){let l={},o=Object.keys(n).sort();for(let d of o)l[d]=n[d];return l}function Px(n,l){let o=new Set;return new Set(l),n.reduce((d,c)=>{let m=JSON.stringify(Tx(c));return o.has(m)||(o.add(m),d.push({key:m,link:c})),d},[])}function P0(){let n=p.useContext(Ma);return $i(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _x(){let n=p.useContext(hl);return $i(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ui=p.createContext(void 0);Ui.displayName="FrameworkContext";function _0(){let n=p.useContext(Ui);return $i(n,"You must render this element inside a <HydratedRouter> element"),n}function Ix(n,l){let o=p.useContext(Ui),[d,c]=p.useState(!1),[m,f]=p.useState(!1),{onFocus:x,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=l,T=p.useRef(null);p.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let D=k=>{k.forEach(C=>{f(C.isIntersecting)})},w=new IntersectionObserver(D,{threshold:.5});return T.current&&w.observe(T.current),()=>{w.disconnect()}}},[n]),p.useEffect(()=>{if(d){let D=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(D)}}},[d]);let P=()=>{c(!0)},N=()=>{c(!1),f(!1)};return o?n!=="intent"?[m,T,{}]:[m,T,{onFocus:Ln(x,P),onBlur:Ln(g,N),onMouseEnter:Ln(y,P),onMouseLeave:Ln(v,N),onTouchStart:Ln(b,P)}]:[!1,T,{}]}function Ln(n,l){return o=>{n&&n(o),o.defaultPrevented||l(o)}}function Lx({page:n,...l}){let{router:o}=P0(),d=p.useMemo(()=>k0(o.routes,n,o.basename),[o.routes,n,o.basename]);return d?p.createElement(Fx,{page:n,matches:d,...l}):null}function Bx(n){let{manifest:l,routeModules:o}=_0(),[d,c]=p.useState([]);return p.useEffect(()=>{let m=!1;return Cx(n,l,o).then(f=>{m||c(f)}),()=>{m=!0}},[n,l,o]),d}function Fx({page:n,matches:l,...o}){let d=Hr(),{manifest:c,routeModules:m}=_0(),{basename:f}=P0(),{loaderData:x,matches:g}=_x(),y=p.useMemo(()=>Yu(n,l,g,c,d,"data"),[n,l,g,c,d]),v=p.useMemo(()=>Yu(n,l,g,c,d,"assets"),[n,l,g,c,d]),b=p.useMemo(()=>{if(n===d.pathname+d.search+d.hash)return[];let N=new Set,D=!1;if(l.forEach(k=>{let C=c.routes[k.route.id];!C||!C.hasLoader||(!y.some(S=>S.route.id===k.route.id)&&k.route.id in x&&m[k.route.id]?.shouldRevalidate||C.hasClientLoader?D=!0:N.add(k.route.id))}),N.size===0)return[];let w=Nx(n,f,"data");return D&&N.size>0&&w.searchParams.set("_routes",l.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[f,x,d,c,y,l,n,m]),T=p.useMemo(()=>Dx(v,c),[v,c]),P=Bx(v);return p.createElement(p.Fragment,null,b.map(N=>p.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...o})),T.map(N=>p.createElement("link",{key:N,rel:"modulepreload",href:N,...o})),P.map(({key:N,link:D})=>p.createElement("link",{key:N,nonce:o.nonce,...D})))}function Ax(...n){return l=>{n.forEach(o=>{typeof o=="function"?o(l):o!=null&&(o.current=l)})}}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I0&&(window.__reactRouterVersion="7.10.1")}catch{}function Ox({basename:n,children:l,unstable_useTransitions:o,window:d}){let c=p.useRef();c.current==null&&(c.current=kp({window:d,v5Compat:!0}));let m=c.current,[f,x]=p.useState({action:m.action,location:m.location}),g=p.useCallback(y=>{o===!1?x(y):p.startTransition(()=>x(y))},[o]);return p.useLayoutEffect(()=>m.listen(g),[m,g]),p.createElement(px,{basename:n,children:l,location:f.location,navigationType:f.action,navigator:m,unstable_useTransitions:o===!0})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=p.forwardRef(function({onClick:l,discover:o="render",prefetch:d="none",relative:c,reloadDocument:m,replace:f,state:x,target:g,to:y,preventScrollReset:v,viewTransition:b,...T},P){let{basename:N,unstable_useTransitions:D}=p.useContext(Vt),w=typeof y=="string"&&L0.test(y),k,C=!1;if(typeof y=="string"&&w&&(k=y,I0))try{let ve=new URL(window.location.href),we=y.startsWith("//")?new URL(ve.protocol+y):new URL(y),te=vr(we.pathname,N);we.origin===ve.origin&&te!=null?y=te+we.search+we.hash:C=!0}catch{Wt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=Xp(y,{relative:c}),[L,V,R]=Ix(d,T),_=Ux(y,{replace:f,state:x,target:g,preventScrollReset:v,relative:c,viewTransition:b,unstable_useTransitions:D});function Y(ve){l&&l(ve),ve.defaultPrevented||_(ve)}let se=p.createElement("a",{...T,...R,href:k||S,onClick:C||m?l:Y,ref:Ax(P,V),target:g,"data-discover":!w&&o==="render"?"true":void 0});return L&&!w?p.createElement(p.Fragment,null,se,p.createElement(Lx,{page:S})):se});bl.displayName="Link";var zx=p.forwardRef(function({"aria-current":l="page",caseSensitive:o=!1,className:d="",end:c=!1,style:m,to:f,viewTransition:x,children:g,...y},v){let b=zn(f,{relative:y.relative}),T=Hr(),P=p.useContext(hl),{navigator:N,basename:D}=p.useContext(Vt),w=P!=null&&Kx(b)&&x===!0,k=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,C=T.pathname,S=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(C=C.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&D&&(S=vr(S,D)||S);const L=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let V=C===k||!c&&C.startsWith(k)&&C.charAt(L)==="/",R=S!=null&&(S===k||!c&&S.startsWith(k)&&S.charAt(k.length)==="/"),_={isActive:V,isPending:R,isTransitioning:w},Y=V?l:void 0,se;typeof d=="function"?se=d(_):se=[d,V?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ve=typeof m=="function"?m(_):m;return p.createElement(bl,{...y,"aria-current":Y,className:se,ref:v,style:ve,to:f,viewTransition:x},typeof g=="function"?g(_):g)});zx.displayName="NavLink";var Mx=p.forwardRef(({discover:n="render",fetcherKey:l,navigate:o,reloadDocument:d,replace:c,state:m,method:f=ol,action:x,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:b,...T},P)=>{let{unstable_useTransitions:N}=p.useContext(Vt),D=Vx(),w=qx(x,{relative:y}),k=f.toLowerCase()==="get"?"get":"post",C=typeof x=="string"&&L0.test(x),S=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let V=L.nativeEvent.submitter,R=V?.getAttribute("formmethod")||f,_=()=>D(V||L.currentTarget,{fetcherKey:l,method:R,navigate:o,replace:c,state:m,relative:y,preventScrollReset:v,viewTransition:b});N&&o!==!1?p.startTransition(()=>_()):_()};return p.createElement("form",{ref:P,method:k,action:w,onSubmit:d?g:S,...T,"data-discover":!C&&n==="render"?"true":void 0})});Mx.displayName="Form";function $x(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(n){let l=p.useContext(Ma);return qe(l,$x(n)),l}function Ux(n,{target:l,replace:o,state:d,preventScrollReset:c,relative:m,viewTransition:f,unstable_useTransitions:x}={}){let g=kt(),y=Hr(),v=zn(n,{relative:m});return p.useCallback(b=>{if(vx(b,l)){b.preventDefault();let T=o!==void 0?o:An(y)===An(v),P=()=>g(n,{replace:T,state:d,preventScrollReset:c,relative:m,viewTransition:f});x?p.startTransition(()=>P()):P()}},[y,g,v,o,d,l,n,c,m,f,x])}var Hx=0,Wx=()=>`__${String(++Hx)}__`;function Vx(){let{router:n}=B0("useSubmit"),{basename:l}=p.useContext(Vt),o=dx(),d=n.fetch,c=n.navigate;return p.useCallback(async(m,f={})=>{let{action:x,method:g,encType:y,formData:v,body:b}=jx(m,l);if(f.navigate===!1){let T=f.fetcherKey||Wx();await d(T,o,f.action||x,{preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await c(f.action||x,{preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:o,flushSync:f.flushSync,viewTransition:f.viewTransition})},[d,c,l,o])}function qx(n,{relative:l}={}){let{basename:o}=p.useContext(Vt),d=p.useContext(Zt);qe(d,"useFormAction must be used inside a RouteContext");let[c]=d.matches.slice(-1),m={...zn(n||".",{relative:l})},f=Hr();if(n==null){m.search=f.search;let x=new URLSearchParams(m.search),g=x.getAll("index");if(g.some(v=>v==="")){x.delete("index"),g.filter(b=>b).forEach(b=>x.append("index",b));let v=x.toString();m.search=v?`?${v}`:""}}return(!n||n===".")&&c.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(m.pathname=m.pathname==="/"?o:br([o,m.pathname])),An(m)}function Kx(n,{relative:l}={}){let o=p.useContext(E0);qe(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=B0("useViewTransitionState"),c=zn(n,{relative:l});if(!o.isTransitioning)return!1;let m=vr(o.currentLocation.pathname,d)||o.currentLocation.pathname,f=vr(o.nextLocation.pathname,d)||o.nextLocation.pathname;return fl(c.pathname,f)!=null||fl(c.pathname,m)!=null}const Qx="modulepreload",Yx=function(n){return"/"+n},Ju={},Jx=function(l,o,d){let c=Promise.resolve();if(o&&o.length>0){let y=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var f=y;document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),g=x?.nonce||x?.getAttribute("nonce");c=y(o.map(v=>{if(v=Yx(v),v in Ju)return;Ju[v]=!0;const b=v.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${T}`))return;const P=document.createElement("link");if(P.rel=b?"stylesheet":Qx,b||(P.as="script"),P.crossOrigin="",P.href=v,g&&P.setAttribute("nonce",g),document.head.appendChild(P),b)return new Promise((N,D)=>{P.addEventListener("load",N),P.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${v}`)))})}))}function m(x){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=x,window.dispatchEvent(g),!g.defaultPrevented)throw x}return c.then(x=>{for(const g of x||[])g.status==="rejected"&&m(g.reason);return l().catch(m)})};function Xx(n={}){const{immediate:l=!1,onNeedRefresh:o,onOfflineReady:d,onRegistered:c,onRegisteredSW:m,onRegisterError:f}=n;let x,g;const y=async(b=!0)=>{await g};async function v(){if("serviceWorker"in navigator){if(x=await Jx(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{f?.(b)}),!x)return;x.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),x.addEventListener("installed",b=>{b.isUpdate||d?.()}),x.register({immediate:l}).then(b=>{m?m("/sw.js",b):c?.(b)}).catch(b=>{f?.(b)})}}return g=v(),y}function Gx(n={}){const{immediate:l=!0,onNeedRefresh:o,onOfflineReady:d,onRegistered:c,onRegisteredSW:m,onRegisterError:f}=n,[x,g]=p.useState(!1),[y,v]=p.useState(!1),[b]=p.useState(()=>Xx({immediate:l,onOfflineReady(){v(!0),d?.()},onNeedRefresh(){g(!0),o?.()},onRegistered:c,onRegisteredSW:m,onRegisterError:f}));return{needRefresh:[x,g],offlineReady:[y,v],updateServiceWorker:b}}var Zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eg=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(n,l)=>{const o=p.forwardRef(({color:d="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:f,className:x="",children:g,...y},v)=>p.createElement("svg",{ref:v,...Zx,width:c,height:c,stroke:d,strokeWidth:f?Number(m)*24/Number(c):m,className:["lucide",`lucide-${eg(n)}`,x].join(" "),...y},[...l.map(([b,T])=>p.createElement(b,T)),...Array.isArray(g)?g:[g]]));return o.displayName=`${n}`,o};const F0=Ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const vl=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const tg=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Hi=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const pl=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Wi=Ge("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);const Ci=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const rg=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ag=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const ng=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const A0=Ge("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const sg=Ge("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const da=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ua=Ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const lg=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Ha=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const At=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Xu=Ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const og=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Vi=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Gu=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ua=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function O0(n,l){return function(){return n.apply(l,arguments)}}const{toString:ig}=Object.prototype,{getPrototypeOf:qi}=Object,{iterator:wl,toStringTag:z0}=Symbol,kl=(n=>l=>{const o=ig.call(l);return n[o]||(n[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),er=n=>(n=n.toLowerCase(),l=>kl(l)===n),jl=n=>l=>typeof l===n,{isArray:Wa}=Array,Oa=jl("undefined");function Mn(n){return n!==null&&!Oa(n)&&n.constructor!==null&&!Oa(n.constructor)&&Pt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const M0=er("ArrayBuffer");function dg(n){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(n):l=n&&n.buffer&&M0(n.buffer),l}const cg=jl("string"),Pt=jl("function"),$0=jl("number"),$n=n=>n!==null&&typeof n=="object",ug=n=>n===!0||n===!1,dl=n=>{if(kl(n)!=="object")return!1;const l=qi(n);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(z0 in n)&&!(wl in n)},mg=n=>{if(!$n(n)||Mn(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},fg=er("Date"),pg=er("File"),xg=er("Blob"),gg=er("FileList"),hg=n=>$n(n)&&Pt(n.pipe),yg=n=>{let l;return n&&(typeof FormData=="function"&&n instanceof FormData||Pt(n.append)&&((l=kl(n))==="formdata"||l==="object"&&Pt(n.toString)&&n.toString()==="[object FormData]"))},bg=er("URLSearchParams"),[vg,wg,kg,jg]=["ReadableStream","Request","Response","Headers"].map(er),Ng=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Un(n,l,{allOwnKeys:o=!1}={}){if(n===null||typeof n>"u")return;let d,c;if(typeof n!="object"&&(n=[n]),Wa(n))for(d=0,c=n.length;d<c;d++)l.call(null,n[d],d,n);else{if(Mn(n))return;const m=o?Object.getOwnPropertyNames(n):Object.keys(n),f=m.length;let x;for(d=0;d<f;d++)x=m[d],l.call(null,n[x],x,n)}}function U0(n,l){if(Mn(n))return null;l=l.toLowerCase();const o=Object.keys(n);let d=o.length,c;for(;d-- >0;)if(c=o[d],l===c.toLowerCase())return c;return null}const oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H0=n=>!Oa(n)&&n!==oa;function Di(){const{caseless:n,skipUndefined:l}=H0(this)&&this||{},o={},d=(c,m)=>{const f=n&&U0(o,m)||m;dl(o[f])&&dl(c)?o[f]=Di(o[f],c):dl(c)?o[f]=Di({},c):Wa(c)?o[f]=c.slice():(!l||!Oa(c))&&(o[f]=c)};for(let c=0,m=arguments.length;c<m;c++)arguments[c]&&Un(arguments[c],d);return o}const Sg=(n,l,o,{allOwnKeys:d}={})=>(Un(l,(c,m)=>{o&&Pt(c)?n[m]=O0(c,o):n[m]=c},{allOwnKeys:d}),n),Eg=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Cg=(n,l,o,d)=>{n.prototype=Object.create(l.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:l.prototype}),o&&Object.assign(n.prototype,o)},Dg=(n,l,o,d)=>{let c,m,f;const x={};if(l=l||{},n==null)return l;do{for(c=Object.getOwnPropertyNames(n),m=c.length;m-- >0;)f=c[m],(!d||d(f,n,l))&&!x[f]&&(l[f]=n[f],x[f]=!0);n=o!==!1&&qi(n)}while(n&&(!o||o(n,l))&&n!==Object.prototype);return l},Rg=(n,l,o)=>{n=String(n),(o===void 0||o>n.length)&&(o=n.length),o-=l.length;const d=n.indexOf(l,o);return d!==-1&&d===o},Tg=n=>{if(!n)return null;if(Wa(n))return n;let l=n.length;if(!$0(l))return null;const o=new Array(l);for(;l-- >0;)o[l]=n[l];return o},Pg=(n=>l=>n&&l instanceof n)(typeof Uint8Array<"u"&&qi(Uint8Array)),_g=(n,l)=>{const d=(n&&n[wl]).call(n);let c;for(;(c=d.next())&&!c.done;){const m=c.value;l.call(n,m[0],m[1])}},Ig=(n,l)=>{let o;const d=[];for(;(o=n.exec(l))!==null;)d.push(o);return d},Lg=er("HTMLFormElement"),Bg=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,d,c){return d.toUpperCase()+c}),Zu=(({hasOwnProperty:n})=>(l,o)=>n.call(l,o))(Object.prototype),Fg=er("RegExp"),W0=(n,l)=>{const o=Object.getOwnPropertyDescriptors(n),d={};Un(o,(c,m)=>{let f;(f=l(c,m,n))!==!1&&(d[m]=f||c)}),Object.defineProperties(n,d)},Ag=n=>{W0(n,(l,o)=>{if(Pt(n)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const d=n[o];if(Pt(d)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Og=(n,l)=>{const o={},d=c=>{c.forEach(m=>{o[m]=!0})};return Wa(n)?d(n):d(String(n).split(l)),o},zg=()=>{},Mg=(n,l)=>n!=null&&Number.isFinite(n=+n)?n:l;function $g(n){return!!(n&&Pt(n.append)&&n[z0]==="FormData"&&n[wl])}const Ug=n=>{const l=new Array(10),o=(d,c)=>{if($n(d)){if(l.indexOf(d)>=0)return;if(Mn(d))return d;if(!("toJSON"in d)){l[c]=d;const m=Wa(d)?[]:{};return Un(d,(f,x)=>{const g=o(f,c+1);!Oa(g)&&(m[x]=g)}),l[c]=void 0,m}}return d};return o(n,0)},Hg=er("AsyncFunction"),Wg=n=>n&&($n(n)||Pt(n))&&Pt(n.then)&&Pt(n.catch),V0=((n,l)=>n?setImmediate:l?((o,d)=>(oa.addEventListener("message",({source:c,data:m})=>{c===oa&&m===o&&d.length&&d.shift()()},!1),c=>{d.push(c),oa.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Pt(oa.postMessage)),Vg=typeof queueMicrotask<"u"?queueMicrotask.bind(oa):typeof process<"u"&&process.nextTick||V0,qg=n=>n!=null&&Pt(n[wl]),H={isArray:Wa,isArrayBuffer:M0,isBuffer:Mn,isFormData:yg,isArrayBufferView:dg,isString:cg,isNumber:$0,isBoolean:ug,isObject:$n,isPlainObject:dl,isEmptyObject:mg,isReadableStream:vg,isRequest:wg,isResponse:kg,isHeaders:jg,isUndefined:Oa,isDate:fg,isFile:pg,isBlob:xg,isRegExp:Fg,isFunction:Pt,isStream:hg,isURLSearchParams:bg,isTypedArray:Pg,isFileList:gg,forEach:Un,merge:Di,extend:Sg,trim:Ng,stripBOM:Eg,inherits:Cg,toFlatObject:Dg,kindOf:kl,kindOfTest:er,endsWith:Rg,toArray:Tg,forEachEntry:_g,matchAll:Ig,isHTMLForm:Lg,hasOwnProperty:Zu,hasOwnProp:Zu,reduceDescriptors:W0,freezeMethods:Ag,toObjectSet:Og,toCamelCase:Bg,noop:zg,toFiniteNumber:Mg,findKey:U0,global:oa,isContextDefined:H0,isSpecCompliantForm:$g,toJSONObject:Ug,isAsyncFn:Hg,isThenable:Wg,setImmediate:V0,asap:Vg,isIterable:qg};function De(n,l,o,d,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",l&&(this.code=l),o&&(this.config=o),d&&(this.request=d),c&&(this.response=c,this.status=c.status?c.status:null)}H.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const q0=De.prototype,K0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{K0[n]={value:n}});Object.defineProperties(De,K0);Object.defineProperty(q0,"isAxiosError",{value:!0});De.from=(n,l,o,d,c,m)=>{const f=Object.create(q0);H.toFlatObject(n,f,function(v){return v!==Error.prototype},y=>y!=="isAxiosError");const x=n&&n.message?n.message:"Error",g=l==null&&n?n.code:l;return De.call(f,x,g,o,d,c),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",m&&Object.assign(f,m),f};const Kg=null;function Ri(n){return H.isPlainObject(n)||H.isArray(n)}function Q0(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function e0(n,l,o){return n?n.concat(l).map(function(c,m){return c=Q0(c),!o&&m?"["+c+"]":c}).join(o?".":""):l}function Qg(n){return H.isArray(n)&&!n.some(Ri)}const Yg=H.toFlatObject(H,{},null,function(l){return/^is[A-Z]/.test(l)});function Nl(n,l,o){if(!H.isObject(n))throw new TypeError("target must be an object");l=l||new FormData,o=H.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,w){return!H.isUndefined(w[D])});const d=o.metaTokens,c=o.visitor||v,m=o.dots,f=o.indexes,g=(o.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(l);if(!H.isFunction(c))throw new TypeError("visitor must be a function");function y(N){if(N===null)return"";if(H.isDate(N))return N.toISOString();if(H.isBoolean(N))return N.toString();if(!g&&H.isBlob(N))throw new De("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(N)||H.isTypedArray(N)?g&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,D,w){let k=N;if(N&&!w&&typeof N=="object"){if(H.endsWith(D,"{}"))D=d?D:D.slice(0,-2),N=JSON.stringify(N);else if(H.isArray(N)&&Qg(N)||(H.isFileList(N)||H.endsWith(D,"[]"))&&(k=H.toArray(N)))return D=Q0(D),k.forEach(function(S,L){!(H.isUndefined(S)||S===null)&&l.append(f===!0?e0([D],L,m):f===null?D:D+"[]",y(S))}),!1}return Ri(N)?!0:(l.append(e0(w,D,m),y(N)),!1)}const b=[],T=Object.assign(Yg,{defaultVisitor:v,convertValue:y,isVisitable:Ri});function P(N,D){if(!H.isUndefined(N)){if(b.indexOf(N)!==-1)throw Error("Circular reference detected in "+D.join("."));b.push(N),H.forEach(N,function(k,C){(!(H.isUndefined(k)||k===null)&&c.call(l,k,H.isString(C)?C.trim():C,D,T))===!0&&P(k,D?D.concat(C):[C])}),b.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return P(n),l}function t0(n){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return l[d]})}function Ki(n,l){this._pairs=[],n&&Nl(n,this,l)}const Y0=Ki.prototype;Y0.append=function(l,o){this._pairs.push([l,o])};Y0.toString=function(l){const o=l?function(d){return l.call(this,d,t0)}:t0;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")};function Jg(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function J0(n,l,o){if(!l)return n;const d=o&&o.encode||Jg;H.isFunction(o)&&(o={serialize:o});const c=o&&o.serialize;let m;if(c?m=c(l,o):m=H.isURLSearchParams(l)?l.toString():new Ki(l,o).toString(d),m){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+m}return n}class r0{constructor(){this.handlers=[]}use(l,o,d){return this.handlers.push({fulfilled:l,rejected:o,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){H.forEach(this.handlers,function(d){d!==null&&l(d)})}}const X0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xg=typeof URLSearchParams<"u"?URLSearchParams:Ki,Gg=typeof FormData<"u"?FormData:null,Zg=typeof Blob<"u"?Blob:null,eh={isBrowser:!0,classes:{URLSearchParams:Xg,FormData:Gg,Blob:Zg},protocols:["http","https","file","blob","url","data"]},Qi=typeof window<"u"&&typeof document<"u",Ti=typeof navigator=="object"&&navigator||void 0,th=Qi&&(!Ti||["ReactNative","NativeScript","NS"].indexOf(Ti.product)<0),rh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ah=Qi&&window.location.href||"http://localhost",nh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qi,hasStandardBrowserEnv:th,hasStandardBrowserWebWorkerEnv:rh,navigator:Ti,origin:ah},Symbol.toStringTag,{value:"Module"})),wt={...nh,...eh};function sh(n,l){return Nl(n,new wt.classes.URLSearchParams,{visitor:function(o,d,c,m){return wt.isNode&&H.isBuffer(o)?(this.append(d,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...l})}function lh(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(l=>l[0]==="[]"?"":l[1]||l[0])}function oh(n){const l={},o=Object.keys(n);let d;const c=o.length;let m;for(d=0;d<c;d++)m=o[d],l[m]=n[m];return l}function G0(n){function l(o,d,c,m){let f=o[m++];if(f==="__proto__")return!0;const x=Number.isFinite(+f),g=m>=o.length;return f=!f&&H.isArray(c)?c.length:f,g?(H.hasOwnProp(c,f)?c[f]=[c[f],d]:c[f]=d,!x):((!c[f]||!H.isObject(c[f]))&&(c[f]=[]),l(o,d,c[f],m)&&H.isArray(c[f])&&(c[f]=oh(c[f])),!x)}if(H.isFormData(n)&&H.isFunction(n.entries)){const o={};return H.forEachEntry(n,(d,c)=>{l(lh(d),c,o,0)}),o}return null}function ih(n,l,o){if(H.isString(n))try{return(l||JSON.parse)(n),H.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(o||JSON.stringify)(n)}const Hn={transitional:X0,adapter:["xhr","http","fetch"],transformRequest:[function(l,o){const d=o.getContentType()||"",c=d.indexOf("application/json")>-1,m=H.isObject(l);if(m&&H.isHTMLForm(l)&&(l=new FormData(l)),H.isFormData(l))return c?JSON.stringify(G0(l)):l;if(H.isArrayBuffer(l)||H.isBuffer(l)||H.isStream(l)||H.isFile(l)||H.isBlob(l)||H.isReadableStream(l))return l;if(H.isArrayBufferView(l))return l.buffer;if(H.isURLSearchParams(l))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let x;if(m){if(d.indexOf("application/x-www-form-urlencoded")>-1)return sh(l,this.formSerializer).toString();if((x=H.isFileList(l))||d.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Nl(x?{"files[]":l}:l,g&&new g,this.formSerializer)}}return m||c?(o.setContentType("application/json",!1),ih(l)):l}],transformResponse:[function(l){const o=this.transitional||Hn.transitional,d=o&&o.forcedJSONParsing,c=this.responseType==="json";if(H.isResponse(l)||H.isReadableStream(l))return l;if(l&&H.isString(l)&&(d&&!this.responseType||c)){const f=!(o&&o.silentJSONParsing)&&c;try{return JSON.parse(l,this.parseReviver)}catch(x){if(f)throw x.name==="SyntaxError"?De.from(x,De.ERR_BAD_RESPONSE,this,null,this.response):x}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Hn.headers[n]={}});const dh=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ch=n=>{const l={};let o,d,c;return n&&n.split(`
`).forEach(function(f){c=f.indexOf(":"),o=f.substring(0,c).trim().toLowerCase(),d=f.substring(c+1).trim(),!(!o||l[o]&&dh[o])&&(o==="set-cookie"?l[o]?l[o].push(d):l[o]=[d]:l[o]=l[o]?l[o]+", "+d:d)}),l},a0=Symbol("internals");function Bn(n){return n&&String(n).trim().toLowerCase()}function cl(n){return n===!1||n==null?n:H.isArray(n)?n.map(cl):String(n)}function uh(n){const l=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=o.exec(n);)l[d[1]]=d[2];return l}const mh=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ki(n,l,o,d,c){if(H.isFunction(d))return d.call(this,l,o);if(c&&(l=o),!!H.isString(l)){if(H.isString(d))return l.indexOf(d)!==-1;if(H.isRegExp(d))return d.test(l)}}function fh(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,o,d)=>o.toUpperCase()+d)}function ph(n,l){const o=H.toCamelCase(" "+l);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+o,{value:function(c,m,f){return this[d].call(this,l,c,m,f)},configurable:!0})})}let _t=class{constructor(l){l&&this.set(l)}set(l,o,d){const c=this;function m(x,g,y){const v=Bn(g);if(!v)throw new Error("header name must be a non-empty string");const b=H.findKey(c,v);(!b||c[b]===void 0||y===!0||y===void 0&&c[b]!==!1)&&(c[b||g]=cl(x))}const f=(x,g)=>H.forEach(x,(y,v)=>m(y,v,g));if(H.isPlainObject(l)||l instanceof this.constructor)f(l,o);else if(H.isString(l)&&(l=l.trim())&&!mh(l))f(ch(l),o);else if(H.isObject(l)&&H.isIterable(l)){let x={},g,y;for(const v of l){if(!H.isArray(v))throw TypeError("Object iterator must return a key-value pair");x[y=v[0]]=(g=x[y])?H.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}f(x,o)}else l!=null&&m(o,l,d);return this}get(l,o){if(l=Bn(l),l){const d=H.findKey(this,l);if(d){const c=this[d];if(!o)return c;if(o===!0)return uh(c);if(H.isFunction(o))return o.call(this,c,d);if(H.isRegExp(o))return o.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,o){if(l=Bn(l),l){const d=H.findKey(this,l);return!!(d&&this[d]!==void 0&&(!o||ki(this,this[d],d,o)))}return!1}delete(l,o){const d=this;let c=!1;function m(f){if(f=Bn(f),f){const x=H.findKey(d,f);x&&(!o||ki(d,d[x],x,o))&&(delete d[x],c=!0)}}return H.isArray(l)?l.forEach(m):m(l),c}clear(l){const o=Object.keys(this);let d=o.length,c=!1;for(;d--;){const m=o[d];(!l||ki(this,this[m],m,l,!0))&&(delete this[m],c=!0)}return c}normalize(l){const o=this,d={};return H.forEach(this,(c,m)=>{const f=H.findKey(d,m);if(f){o[f]=cl(c),delete o[m];return}const x=l?fh(m):String(m).trim();x!==m&&delete o[m],o[x]=cl(c),d[x]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const o=Object.create(null);return H.forEach(this,(d,c)=>{d!=null&&d!==!1&&(o[c]=l&&H.isArray(d)?d.join(", "):d)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,o])=>l+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...o){const d=new this(l);return o.forEach(c=>d.set(c)),d}static accessor(l){const d=(this[a0]=this[a0]={accessors:{}}).accessors,c=this.prototype;function m(f){const x=Bn(f);d[x]||(ph(c,f),d[x]=!0)}return H.isArray(l)?l.forEach(m):m(l),this}};_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(_t.prototype,({value:n},l)=>{let o=l[0].toUpperCase()+l.slice(1);return{get:()=>n,set(d){this[o]=d}}});H.freezeMethods(_t);function ji(n,l){const o=this||Hn,d=l||o,c=_t.from(d.headers);let m=d.data;return H.forEach(n,function(x){m=x.call(o,m,c.normalize(),l?l.status:void 0)}),c.normalize(),m}function Z0(n){return!!(n&&n.__CANCEL__)}function Va(n,l,o){De.call(this,n??"canceled",De.ERR_CANCELED,l,o),this.name="CanceledError"}H.inherits(Va,De,{__CANCEL__:!0});function em(n,l,o){const d=o.config.validateStatus;!o.status||!d||d(o.status)?n(o):l(new De("Request failed with status code "+o.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function xh(n){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return l&&l[1]||""}function gh(n,l){n=n||10;const o=new Array(n),d=new Array(n);let c=0,m=0,f;return l=l!==void 0?l:1e3,function(g){const y=Date.now(),v=d[m];f||(f=y),o[c]=g,d[c]=y;let b=m,T=0;for(;b!==c;)T+=o[b++],b=b%n;if(c=(c+1)%n,c===m&&(m=(m+1)%n),y-f<l)return;const P=v&&y-v;return P?Math.round(T*1e3/P):void 0}}function hh(n,l){let o=0,d=1e3/l,c,m;const f=(y,v=Date.now())=>{o=v,c=null,m&&(clearTimeout(m),m=null),n(...y)};return[(...y)=>{const v=Date.now(),b=v-o;b>=d?f(y,v):(c=y,m||(m=setTimeout(()=>{m=null,f(c)},d-b)))},()=>c&&f(c)]}const xl=(n,l,o=3)=>{let d=0;const c=gh(50,250);return hh(m=>{const f=m.loaded,x=m.lengthComputable?m.total:void 0,g=f-d,y=c(g),v=f<=x;d=f;const b={loaded:f,total:x,progress:x?f/x:void 0,bytes:g,rate:y||void 0,estimated:y&&x&&v?(x-f)/y:void 0,event:m,lengthComputable:x!=null,[l?"download":"upload"]:!0};n(b)},o)},n0=(n,l)=>{const o=n!=null;return[d=>l[0]({lengthComputable:o,total:n,loaded:d}),l[1]]},s0=n=>(...l)=>H.asap(()=>n(...l)),yh=wt.hasStandardBrowserEnv?((n,l)=>o=>(o=new URL(o,wt.origin),n.protocol===o.protocol&&n.host===o.host&&(l||n.port===o.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,bh=wt.hasStandardBrowserEnv?{write(n,l,o,d,c,m,f){if(typeof document>"u")return;const x=[`${n}=${encodeURIComponent(l)}`];H.isNumber(o)&&x.push(`expires=${new Date(o).toUTCString()}`),H.isString(d)&&x.push(`path=${d}`),H.isString(c)&&x.push(`domain=${c}`),m===!0&&x.push("secure"),H.isString(f)&&x.push(`SameSite=${f}`),document.cookie=x.join("; ")},read(n){if(typeof document>"u")return null;const l=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return l?decodeURIComponent(l[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vh(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function wh(n,l){return l?n.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):n}function tm(n,l,o){let d=!vh(l);return n&&(d||o==!1)?wh(n,l):l}const l0=n=>n instanceof _t?{...n}:n;function ca(n,l){l=l||{};const o={};function d(y,v,b,T){return H.isPlainObject(y)&&H.isPlainObject(v)?H.merge.call({caseless:T},y,v):H.isPlainObject(v)?H.merge({},v):H.isArray(v)?v.slice():v}function c(y,v,b,T){if(H.isUndefined(v)){if(!H.isUndefined(y))return d(void 0,y,b,T)}else return d(y,v,b,T)}function m(y,v){if(!H.isUndefined(v))return d(void 0,v)}function f(y,v){if(H.isUndefined(v)){if(!H.isUndefined(y))return d(void 0,y)}else return d(void 0,v)}function x(y,v,b){if(b in l)return d(y,v);if(b in n)return d(void 0,y)}const g={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:x,headers:(y,v,b)=>c(l0(y),l0(v),b,!0)};return H.forEach(Object.keys({...n,...l}),function(v){const b=g[v]||c,T=b(n[v],l[v],v);H.isUndefined(T)&&b!==x||(o[v]=T)}),o}const rm=n=>{const l=ca({},n);let{data:o,withXSRFToken:d,xsrfHeaderName:c,xsrfCookieName:m,headers:f,auth:x}=l;if(l.headers=f=_t.from(f),l.url=J0(tm(l.baseURL,l.url,l.allowAbsoluteUrls),n.params,n.paramsSerializer),x&&f.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),H.isFormData(o)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(H.isFunction(o.getHeaders)){const g=o.getHeaders(),y=["content-type","content-length"];Object.entries(g).forEach(([v,b])=>{y.includes(v.toLowerCase())&&f.set(v,b)})}}if(wt.hasStandardBrowserEnv&&(d&&H.isFunction(d)&&(d=d(l)),d||d!==!1&&yh(l.url))){const g=c&&m&&bh.read(m);g&&f.set(c,g)}return l},kh=typeof XMLHttpRequest<"u",jh=kh&&function(n){return new Promise(function(o,d){const c=rm(n);let m=c.data;const f=_t.from(c.headers).normalize();let{responseType:x,onUploadProgress:g,onDownloadProgress:y}=c,v,b,T,P,N;function D(){P&&P(),N&&N(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let w=new XMLHttpRequest;w.open(c.method.toUpperCase(),c.url,!0),w.timeout=c.timeout;function k(){if(!w)return;const S=_t.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),V={data:!x||x==="text"||x==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:n,request:w};em(function(_){o(_),D()},function(_){d(_),D()},V),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(d(new De("Request aborted",De.ECONNABORTED,n,w)),w=null)},w.onerror=function(L){const V=L&&L.message?L.message:"Network Error",R=new De(V,De.ERR_NETWORK,n,w);R.event=L||null,d(R),w=null},w.ontimeout=function(){let L=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const V=c.transitional||X0;c.timeoutErrorMessage&&(L=c.timeoutErrorMessage),d(new De(L,V.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,n,w)),w=null},m===void 0&&f.setContentType(null),"setRequestHeader"in w&&H.forEach(f.toJSON(),function(L,V){w.setRequestHeader(V,L)}),H.isUndefined(c.withCredentials)||(w.withCredentials=!!c.withCredentials),x&&x!=="json"&&(w.responseType=c.responseType),y&&([T,N]=xl(y,!0),w.addEventListener("progress",T)),g&&w.upload&&([b,P]=xl(g),w.upload.addEventListener("progress",b),w.upload.addEventListener("loadend",P)),(c.cancelToken||c.signal)&&(v=S=>{w&&(d(!S||S.type?new Va(null,n,w):S),w.abort(),w=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const C=xh(c.url);if(C&&wt.protocols.indexOf(C)===-1){d(new De("Unsupported protocol "+C+":",De.ERR_BAD_REQUEST,n));return}w.send(m||null)})},Nh=(n,l)=>{const{length:o}=n=n?n.filter(Boolean):[];if(l||o){let d=new AbortController,c;const m=function(y){if(!c){c=!0,x();const v=y instanceof Error?y:this.reason;d.abort(v instanceof De?v:new Va(v instanceof Error?v.message:v))}};let f=l&&setTimeout(()=>{f=null,m(new De(`timeout ${l} of ms exceeded`,De.ETIMEDOUT))},l);const x=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(m):y.removeEventListener("abort",m)}),n=null)};n.forEach(y=>y.addEventListener("abort",m));const{signal:g}=d;return g.unsubscribe=()=>H.asap(x),g}},Sh=function*(n,l){let o=n.byteLength;if(o<l){yield n;return}let d=0,c;for(;d<o;)c=d+l,yield n.slice(d,c),d=c},Eh=async function*(n,l){for await(const o of Ch(n))yield*Sh(o,l)},Ch=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const l=n.getReader();try{for(;;){const{done:o,value:d}=await l.read();if(o)break;yield d}}finally{await l.cancel()}},o0=(n,l,o,d)=>{const c=Eh(n,l);let m=0,f,x=g=>{f||(f=!0,d&&d(g))};return new ReadableStream({async pull(g){try{const{done:y,value:v}=await c.next();if(y){x(),g.close();return}let b=v.byteLength;if(o){let T=m+=b;o(T)}g.enqueue(new Uint8Array(v))}catch(y){throw x(y),y}},cancel(g){return x(g),c.return()}},{highWaterMark:2})},i0=64*1024,{isFunction:el}=H,Dh=(({Request:n,Response:l})=>({Request:n,Response:l}))(H.global),{ReadableStream:d0,TextEncoder:c0}=H.global,u0=(n,...l)=>{try{return!!n(...l)}catch{return!1}},Rh=n=>{n=H.merge.call({skipUndefined:!0},Dh,n);const{fetch:l,Request:o,Response:d}=n,c=l?el(l):typeof fetch=="function",m=el(o),f=el(d);if(!c)return!1;const x=c&&el(d0),g=c&&(typeof c0=="function"?(N=>D=>N.encode(D))(new c0):async N=>new Uint8Array(await new o(N).arrayBuffer())),y=m&&x&&u0(()=>{let N=!1;const D=new o(wt.origin,{body:new d0,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!D}),v=f&&x&&u0(()=>H.isReadableStream(new d("").body)),b={stream:v&&(N=>N.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!b[N]&&(b[N]=(D,w)=>{let k=D&&D[N];if(k)return k.call(D);throw new De(`Response type '${N}' is not supported`,De.ERR_NOT_SUPPORT,w)})});const T=async N=>{if(N==null)return 0;if(H.isBlob(N))return N.size;if(H.isSpecCompliantForm(N))return(await new o(wt.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(H.isArrayBufferView(N)||H.isArrayBuffer(N))return N.byteLength;if(H.isURLSearchParams(N)&&(N=N+""),H.isString(N))return(await g(N)).byteLength},P=async(N,D)=>{const w=H.toFiniteNumber(N.getContentLength());return w??T(D)};return async N=>{let{url:D,method:w,data:k,signal:C,cancelToken:S,timeout:L,onDownloadProgress:V,onUploadProgress:R,responseType:_,headers:Y,withCredentials:se="same-origin",fetchOptions:ve}=rm(N),we=l||fetch;_=_?(_+"").toLowerCase():"text";let te=Nh([C,S&&S.toAbortSignal()],L),W=null;const ke=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let ye;try{if(R&&y&&w!=="get"&&w!=="head"&&(ye=await P(Y,k))!==0){let j=new o(D,{method:"POST",body:k,duplex:"half"}),F;if(H.isFormData(k)&&(F=j.headers.get("content-type"))&&Y.setContentType(F),j.body){const[Q,ie]=n0(ye,xl(s0(R)));k=o0(j.body,i0,Q,ie)}}H.isString(se)||(se=se?"include":"omit");const je=m&&"credentials"in o.prototype,q={...ve,signal:te,method:w.toUpperCase(),headers:Y.normalize().toJSON(),body:k,duplex:"half",credentials:je?se:void 0};W=m&&new o(D,q);let M=await(m?we(W,ve):we(D,q));const J=v&&(_==="stream"||_==="response");if(v&&(V||J&&ke)){const j={};["status","statusText","headers"].forEach(de=>{j[de]=M[de]});const F=H.toFiniteNumber(M.headers.get("content-length")),[Q,ie]=V&&n0(F,xl(s0(V),!0))||[];M=new d(o0(M.body,i0,Q,()=>{ie&&ie(),ke&&ke()}),j)}_=_||"text";let ae=await b[H.findKey(b,_)||"text"](M,N);return!J&&ke&&ke(),await new Promise((j,F)=>{em(j,F,{data:ae,headers:_t.from(M.headers),status:M.status,statusText:M.statusText,config:N,request:W})})}catch(je){throw ke&&ke(),je&&je.name==="TypeError"&&/Load failed|fetch/i.test(je.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,N,W),{cause:je.cause||je}):De.from(je,je&&je.code,N,W)}}},Th=new Map,am=n=>{let l=n&&n.env||{};const{fetch:o,Request:d,Response:c}=l,m=[d,c,o];let f=m.length,x=f,g,y,v=Th;for(;x--;)g=m[x],y=v.get(g),y===void 0&&v.set(g,y=x?new Map:Rh(l)),v=y;return y};am();const Yi={http:Kg,xhr:jh,fetch:{get:am}};H.forEach(Yi,(n,l)=>{if(n){try{Object.defineProperty(n,"name",{value:l})}catch{}Object.defineProperty(n,"adapterName",{value:l})}});const m0=n=>`- ${n}`,Ph=n=>H.isFunction(n)||n===null||n===!1;function _h(n,l){n=H.isArray(n)?n:[n];const{length:o}=n;let d,c;const m={};for(let f=0;f<o;f++){d=n[f];let x;if(c=d,!Ph(d)&&(c=Yi[(x=String(d)).toLowerCase()],c===void 0))throw new De(`Unknown adapter '${x}'`);if(c&&(H.isFunction(c)||(c=c.get(l))))break;m[x||"#"+f]=c}if(!c){const f=Object.entries(m).map(([g,y])=>`adapter ${g} `+(y===!1?"is not supported by the environment":"is not available in the build"));let x=o?f.length>1?`since :
`+f.map(m0).join(`
`):" "+m0(f[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return c}const nm={getAdapter:_h,adapters:Yi};function Ni(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Va(null,n)}function f0(n){return Ni(n),n.headers=_t.from(n.headers),n.data=ji.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),nm.getAdapter(n.adapter||Hn.adapter,n)(n).then(function(d){return Ni(n),d.data=ji.call(n,n.transformResponse,d),d.headers=_t.from(d.headers),d},function(d){return Z0(d)||(Ni(n),d&&d.response&&(d.response.data=ji.call(n,n.transformResponse,d.response),d.response.headers=_t.from(d.response.headers))),Promise.reject(d)})}const sm="1.13.2",Sl={};["object","boolean","number","function","string","symbol"].forEach((n,l)=>{Sl[n]=function(d){return typeof d===n||"a"+(l<1?"n ":" ")+n}});const p0={};Sl.transitional=function(l,o,d){function c(m,f){return"[Axios v"+sm+"] Transitional option '"+m+"'"+f+(d?". "+d:"")}return(m,f,x)=>{if(l===!1)throw new De(c(f," has been removed"+(o?" in "+o:"")),De.ERR_DEPRECATED);return o&&!p0[f]&&(p0[f]=!0,console.warn(c(f," has been deprecated since v"+o+" and will be removed in the near future"))),l?l(m,f,x):!0}};Sl.spelling=function(l){return(o,d)=>(console.warn(`${d} is likely a misspelling of ${l}`),!0)};function Ih(n,l,o){if(typeof n!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let c=d.length;for(;c-- >0;){const m=d[c],f=l[m];if(f){const x=n[m],g=x===void 0||f(x,m,n);if(g!==!0)throw new De("option "+m+" must be "+g,De.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new De("Unknown option "+m,De.ERR_BAD_OPTION)}}const ul={assertOptions:Ih,validators:Sl},lr=ul.validators;let ia=class{constructor(l){this.defaults=l||{},this.interceptors={request:new r0,response:new r0}}async request(l,o){try{return await this._request(l,o)}catch(d){if(d instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const m=c.stack?c.stack.replace(/^.+\n/,""):"";try{d.stack?m&&!String(d.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+m):d.stack=m}catch{}}throw d}}_request(l,o){typeof l=="string"?(o=o||{},o.url=l):o=l||{},o=ca(this.defaults,o);const{transitional:d,paramsSerializer:c,headers:m}=o;d!==void 0&&ul.assertOptions(d,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),c!=null&&(H.isFunction(c)?o.paramsSerializer={serialize:c}:ul.assertOptions(c,{encode:lr.function,serialize:lr.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),ul.assertOptions(o,{baseUrl:lr.spelling("baseURL"),withXsrfToken:lr.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let f=m&&H.merge(m.common,m[o.method]);m&&H.forEach(["delete","get","head","post","put","patch","common"],N=>{delete m[N]}),o.headers=_t.concat(f,m);const x=[];let g=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(o)===!1||(g=g&&D.synchronous,x.unshift(D.fulfilled,D.rejected))});const y=[];this.interceptors.response.forEach(function(D){y.push(D.fulfilled,D.rejected)});let v,b=0,T;if(!g){const N=[f0.bind(this),void 0];for(N.unshift(...x),N.push(...y),T=N.length,v=Promise.resolve(o);b<T;)v=v.then(N[b++],N[b++]);return v}T=x.length;let P=o;for(;b<T;){const N=x[b++],D=x[b++];try{P=N(P)}catch(w){D.call(this,w);break}}try{v=f0.call(this,P)}catch(N){return Promise.reject(N)}for(b=0,T=y.length;b<T;)v=v.then(y[b++],y[b++]);return v}getUri(l){l=ca(this.defaults,l);const o=tm(l.baseURL,l.url,l.allowAbsoluteUrls);return J0(o,l.params,l.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(l){ia.prototype[l]=function(o,d){return this.request(ca(d||{},{method:l,url:o,data:(d||{}).data}))}});H.forEach(["post","put","patch"],function(l){function o(d){return function(m,f,x){return this.request(ca(x||{},{method:l,headers:d?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}ia.prototype[l]=o(),ia.prototype[l+"Form"]=o(!0)});let Lh=class lm{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const d=this;this.promise.then(c=>{if(!d._listeners)return;let m=d._listeners.length;for(;m-- >0;)d._listeners[m](c);d._listeners=null}),this.promise.then=c=>{let m;const f=new Promise(x=>{d.subscribe(x),m=x}).then(c);return f.cancel=function(){d.unsubscribe(m)},f},l(function(m,f,x){d.reason||(d.reason=new Va(m,f,x),o(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const o=this._listeners.indexOf(l);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const l=new AbortController,o=d=>{l.abort(d)};return this.subscribe(o),l.signal.unsubscribe=()=>this.unsubscribe(o),l.signal}static source(){let l;return{token:new lm(function(c){l=c}),cancel:l}}};function Bh(n){return function(o){return n.apply(null,o)}}function Fh(n){return H.isObject(n)&&n.isAxiosError===!0}const Pi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Pi).forEach(([n,l])=>{Pi[l]=n});function om(n){const l=new ia(n),o=O0(ia.prototype.request,l);return H.extend(o,ia.prototype,l,{allOwnKeys:!0}),H.extend(o,l,null,{allOwnKeys:!0}),o.create=function(c){return om(ca(n,c))},o}const tt=om(Hn);tt.Axios=ia;tt.CanceledError=Va;tt.CancelToken=Lh;tt.isCancel=Z0;tt.VERSION=sm;tt.toFormData=Nl;tt.AxiosError=De;tt.Cancel=tt.CanceledError;tt.all=function(l){return Promise.all(l)};tt.spread=Bh;tt.isAxiosError=Fh;tt.mergeConfig=ca;tt.AxiosHeaders=_t;tt.formToJSON=n=>G0(H.isHTMLForm(n)?new FormData(n):n);tt.getAdapter=nm.getAdapter;tt.HttpStatusCode=Pi;tt.default=tt;const{Axios:Ub,AxiosError:Hb,CanceledError:Wb,isCancel:Vb,CancelToken:qb,VERSION:Kb,all:Qb,Cancel:Yb,isAxiosError:Jb,spread:Xb,toFormData:Gb,AxiosHeaders:Zb,HttpStatusCode:ev,formToJSON:tv,getAdapter:rv,mergeConfig:av}=tt;console.log("https://fishowerp.onrender.com");const Pe=tt.create({baseURL:"https://fishowerp.onrender.com",timeout:1e4,headers:{"Content-Type":"application/json"}});async function Ah(n){return(await Pe.post("/api/auth/signup",{fullName:n.fullName,username:n.username,email:n.email,password:n.password,role:n.role})).data}const Oh=n=>Pe.post("/api/auth/login",{username:n.username,password:n.password}),zh=()=>{const[n,l]=p.useState(""),[o,d]=p.useState(""),[c,m]=p.useState(!1),f=kt(),x=async g=>{g.preventDefault(),m(!0);try{const y=await Oh({username:n.trim(),password:o}),{accessToken:v,user:b}=y.data;localStorage.setItem("accessToken",v),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("username",b.username),localStorage.setItem("role",b.role),localStorage.setItem("user",JSON.stringify(b)),f("/dashboard")}catch(y){if(y?.response){const v=y.response.status,b=y.response.data?.message||"Login failed";alert(v===401?"Invalid username or password":b)}else alert("Network error. Please try again.")}finally{m(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-colors duration-200",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-600 transition-colors duration-200",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:r.jsx(Wi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Fishow"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Powered by Popular Fish"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Developed by Cydexsoft"})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"text",value:n,onChange:g=>l(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your username",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"password",value:o,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your password",required:!0})]})]}),r.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-all font-medium disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",r.jsx(bl,{to:"/signup",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign Up"})]})})]})})})},Mh=()=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-800 p-2 rounded-lg",children:r.jsx(Wi,{className:"w-6 h-6 text-blue-700 dark:text-blue-300"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Fishow"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Popular Fish ERP"})]})]}),im=p.createContext(void 0),$h=()=>{const n=p.useContext(im);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Uh=({children:n})=>{const[l,o]=p.useState(()=>{const c=localStorage.getItem("theme");return c?(console.log("Using saved theme:",c),c):(console.log("Using default light theme"),"light")});p.useEffect(()=>{console.log("Applying theme:",l);const c=window.document.documentElement,m=window.document.body;c.classList.remove("light","dark"),c.classList.add(l),m.setAttribute("data-theme",l),localStorage.setItem("theme",l),console.log("Document classes after theme change:",c.classList.toString()),console.log("Body data-theme:",m.getAttribute("data-theme"))},[l]);const d=()=>{console.log("Toggling theme from:",l),o(c=>c==="light"?"dark":"light")};return r.jsx(im.Provider,{value:{theme:l,toggleTheme:d},children:n})},x0=({username:n,onLogout:l})=>{const{theme:o,toggleTheme:d}=$h();console.log("UserMenu rendered with theme:",o);const c=()=>{console.log("Theme toggle clicked, current theme:",o),d()};return r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vi,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),r.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-100 font-medium",children:n})]}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[r.jsxs("button",{onClick:l,className:"flex items-center space-x-1 px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all",children:[r.jsx(rg,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Logout"})]}),r.jsx("button",{onClick:c,className:"p-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all","aria-label":`Switch to ${o==="light"?"dark":"light"} theme`,children:o==="light"?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})]})]})},Fn=({icon:n,label:l,isOpen:o,setIsOpen:d,items:c,onNavigate:m})=>r.jsxs("div",{className:"relative",children:[r.jsxs("button",{"data-dropdown-button":"true",onClick:()=>d(!o),className:"flex items-center space-x-1 px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all",children:[n,r.jsx("span",{className:"font-medium",children:l}),r.jsx(tg,{className:"w-4 h-4"})]}),o&&r.jsx("div",{className:"absolute top-full left-0 mt-1 w-full md:w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 py-1 z-50",children:c.map((f,x)=>r.jsx("button",{onClick:()=>{m(f.path),d(!1)},className:"w-full text-left px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 transition-all",children:f.label},x))})]}),Hh=({label:n,onClick:l})=>r.jsx("button",{onClick:l,className:"px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all font-medium",children:n}),g0=()=>{const[n,l]=p.useState(!1);return p.useEffect(()=>{const o=d=>{window.installPWA=async()=>{}};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]),n?r.jsx("button",{onClick:()=>window.installPWA?.(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium",children:"Download App"}):r.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Install not available yet"})},xt=()=>{const[n,l]=p.useState(!1),[o,d]=p.useState(!1),[c,m]=p.useState(!1),[f,x]=p.useState(!1),[g,y]=p.useState(!1),[v,b]=p.useState(!1),T=kt();p.useEffect(()=>{const Y=se=>{!se.target.closest("[data-dropdown-button]")&&(o||c||f||g)&&(d(!1),m(!1),x(!1),y(!1))};return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[o,c,f,g]);const P=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),T("/login")},N=localStorage.getItem("username")||"Admin",D=localStorage.getItem("role")||"admin",w=D==="admin",k=D==="sale",C=D==="box",S=w?[{label:"Cash Sales",path:"/sales-entry"},{label:"Sales Summary",path:"/load-wise-list"}]:k?[{label:"Cash Sales",path:"/sales-entry"}]:[{label:"Cash Sales",path:"/sales-entry"}],L=w||C?[{label:"Box Sale",path:"/fish-box-sent"},{label:"Box Receive",path:"/fish-box-received"},{label:"Multiple Box Receive",path:"/multiple-box-update"},{label:"Box Sales List",path:"/box-sales-list"}]:[],V=[{label:"Customer",path:"/create-customer"},{label:"Party",path:"/create-party"},{label:"Salesman",path:"/create-salesman"},{label:"Item",path:"/create-item"}],R=w?[{label:"Cash Transactions",path:"/cash-transactions"},{label:"Box Transactions",path:"/box-transactions"}]:k?[{label:"Cash Transactions",path:"/cash-transactions"}]:C?[{label:"Box Transactions",path:"/box-transactions"}]:[],_=w?[{label:"Daily Collection Sheet",path:"/reports/daily-collection"},{label:"Sales Register",path:"/reports/sales-register"},{label:"Daily Summary",path:"/reports/daily-summary"},{label:"Box Receive Report",path:"/reports/box-receive"},{label:"Daily Summary (Box)",path:"/reports/daily-summary-box"},{label:"Total Box Balance",path:"/reports/total-box-balance"},{label:"Cash Statement",path:"/reports/cash-statement"},{label:"Box Statement",path:"/reports/box-statement"}]:k?[{label:"Daily Collection Sheet",path:"/reports/daily-collection"},{label:"Sales Register",path:"/reports/sales-register"},{label:"Daily Summary",path:"/reports/daily-summary"},{label:"Cash Statement",path:"/reports/cash-statement"}]:C?[{label:"Box Receive Report",path:"/reports/box-receive"},{label:"Daily Summary (Box)",path:"/reports/daily-summary-box"},{label:"Total Box Balance",path:"/reports/total-box-balance"},{label:"Box Statement",path:"/reports/box-statement"}]:[];return r.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-600 transition-colors duration-200",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx(Mh,{}),r.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[r.jsx(Hh,{label:"Home",onClick:()=>T("/dashboard")}),S.length>0&&r.jsx(Fn,{icon:r.jsx(Xu,{className:"w-5 h-5"}),label:"Load",isOpen:o,setIsOpen:Y=>{d(Y),m(!1),x(!1)},onNavigate:T,items:S}),L.length>0&&r.jsx(Fn,{icon:r.jsx(A0,{className:"w-5 h-5"}),label:"Box",isOpen:c,setIsOpen:Y=>{m(Y),d(!1),x(!1)},onNavigate:T,items:L}),V.length>0&&r.jsx(Fn,{icon:r.jsx(sg,{className:"w-5 h-5"}),label:"Create",isOpen:f,setIsOpen:Y=>{x(Y),d(!1),m(!1),y(!1)},onNavigate:T,items:V}),R.length>0&&r.jsx(Fn,{icon:r.jsx(Xu,{className:"w-5 h-5"}),label:"Transaction",isOpen:v,setIsOpen:Y=>{b(Y),d(!1),m(!1),x(!1),y(!1)},onNavigate:T,items:R}),_.length>0&&r.jsx(Fn,{icon:r.jsx(F0,{className:"w-5 h-5"}),label:"Report",isOpen:g,setIsOpen:Y=>{y(Y),d(!1),m(!1),x(!1)},onNavigate:T,items:_})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[r.jsx(g0,{}),r.jsx(x0,{username:N,onLogout:P})]}),r.jsx("button",{className:"md:hidden p-2",onClick:()=>l(!n),children:r.jsx(ng,{className:"w-6 h-6"})})]})}),n&&r.jsxs("div",{className:"md:hidden bg-white dark:bg-gray-800 border-t p-4 space-y-4",children:[r.jsx(g0,{}),r.jsx(x0,{username:N,onLogout:P})]})]})},pt=({value:n,onChange:l,placeholder:o,searchData:d,onSelect:c,createRoute:m,entityType:f,className:x="",disabled:g=!1,onKeyDown:y,onEnter:v,"data-field":b,"data-item-id":T})=>{const P=kt(),[N,D]=p.useState(""),[w,k]=p.useState(!1),[C,S]=p.useState([]),[L,V]=p.useState(null),[R,_]=p.useState(-1),Y=p.useRef(null),se=p.useRef(null);p.useEffect(()=>{if(n&&d&&Array.isArray(d)){const q=d.find(M=>M&&M.id===n);q?(V(q),D(q.name||"")):(V(null),D(n))}else V(null),D("")},[n,d]),p.useEffect(()=>{if(!d||!Array.isArray(d)){S([]);return}if(N.trim()===""){S(d);return}const q=d.filter(M=>M&&M.name&&M.name.toLowerCase().includes(N.toLowerCase()));S(q)},[N,d]),p.useEffect(()=>{w&&C.length>0?_(0):_(-1)},[w,C.length]),p.useEffect(()=>{if(w&&R>=0&&se.current&&C.length>0){const q=setTimeout(()=>{const M=se.current?.querySelector(`[data-item-index="${R}"]`);if(M&&se.current){const J=se.current,ae=M.offsetTop,j=ae+M.offsetHeight,F=J.scrollTop,Q=F+J.clientHeight;(ae<F||j>Q)&&M.scrollIntoView({behavior:"smooth",block:"nearest"})}},0);return()=>clearTimeout(q)}},[R,w,C.length]),p.useEffect(()=>{if(w&&C.length>0&&R===0&&se.current){const q=se.current.querySelector('[data-item-index="0"]');q&&q.scrollIntoView({behavior:"auto",block:"nearest"})}},[w,C.length]),p.useEffect(()=>{const q=M=>{Y.current&&!Y.current.contains(M.target)&&k(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]),p.useEffect(()=>{const q=()=>{w&&Y.current&&k(!0)};return w&&(window.addEventListener("scroll",q,!0),window.addEventListener("resize",q)),()=>{window.removeEventListener("scroll",q,!0),window.removeEventListener("resize",q)}},[w]);const ve=()=>{if(!Y.current)return{top:0,left:0,width:200};const q=Y.current.getBoundingClientRect(),M=240,J=window.innerHeight,ae=window.innerWidth;let j=q.bottom+window.scrollY+4,F=q.left+window.scrollX;j+M>J+window.scrollY&&(j=q.top+window.scrollY-M-4);const Q=q.width;return F+Q>ae+window.scrollX&&(F=ae+window.scrollX-Q-10),{top:j,left:F,width:Q}},we=q=>{try{const M=q.target.value;D(M),k(!0),l&&l(M),M===""&&V(null)}catch(M){console.error("Error in SearchableInput handleInputChange:",M)}},te=q=>{try{V(q),D(q.name||""),k(!1),l&&l(q.id),c&&c(q)}catch(M){console.error("Error in SearchableInput handleSelect:",M)}},W=()=>{P(m)},ke=()=>{try{V(null),D(""),l&&l(""),k(!1)}catch(q){console.error("Error in SearchableInput handleClear:",q)}},ye=()=>{k(!0)},je=q=>{try{w?q.key==="ArrowDown"?(q.preventDefault(),_(M=>M<C.length-1?M+1:M)):q.key==="ArrowUp"?(q.preventDefault(),_(M=>M>0?M-1:M)):q.key==="Enter"?(q.preventDefault(),R>=0&&R<C.length?te(C[R]):C.length>0?te(C[0]):v?v():k(!1)):q.key==="Escape"&&(q.preventDefault(),k(!1),_(-1)):q.key==="Enter"&&v?v():y&&y(q)}catch(M){console.error("Error in SearchableInput handleKeyDown:",M)}};return r.jsxs("div",{ref:Y,className:`relative ${x}`,"data-field":b,"data-item-id":T,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:N,onChange:we,onFocus:ye,onKeyDown:je,placeholder:o,disabled:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:L?r.jsx("button",{onClick:ke,className:"text-gray-400 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-200",type:"button",children:r.jsx(ua,{className:"w-4 h-4"})}):r.jsx(lg,{className:"w-4 h-4 text-gray-400 dark:text-gray-400"})})]}),w&&(()=>{const q=ve();return r.jsx("div",{ref:se,className:"fixed z-[1000] bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",style:{width:`${q.width}px`,top:`${q.top}px`,left:`${q.left}px`},children:C.length>0?r.jsxs(r.Fragment,{children:[C.map((M,J)=>r.jsxs("div",{"data-item-index":J,onClick:()=>te(M),className:`px-3 py-2 cursor-pointer border-b border-gray-100 dark:border-gray-600 last:border-b-0 ${J===R?"bg-blue-100 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[r.jsx("div",{className:`font-medium ${J===R?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100"}`,children:M.name}),M.id&&r.jsxs("div",{className:`text-sm ${J===R?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`,children:["ID: ",M.id]})]},M.id)),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600",children:r.jsxs("button",{onClick:W,className:"w-full px-3 py-2 text-left text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center space-x-2",type:"button",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsxs("span",{children:["Create new ",f]})]})})]}):r.jsxs("div",{className:"px-3 py-4 text-center",children:[r.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-2",children:N.trim()!==""?`No ${f} found`:`No ${f} available`}),r.jsxs("button",{onClick:W,className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 flex items-center space-x-2 mx-auto",type:"button",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsxs("span",{children:["Create new ",f]})]})]})})})()]})};async function Wh(n){const l={};n?.from&&(l.from=n.from),n?.to&&(l.to=n.to),n?.date&&(l.date=n.date);const o=await Pe.get("/api/box-sales/",{params:l});return console.log(o,"list box"),o.data}async function Vh(n,l){return console.log(l,"edit"),(await Pe.put(`/api/box-sales/${encodeURIComponent(String(n))}`,l)).data}async function qh(n){return(await Pe.delete(`/api/box-sales/${encodeURIComponent(String(n))}`)).data}const Je=async(n,l)=>{const o={};return l?.search&&(o.search=l.search),o.page=l?.page??1,o.pageSize=l?.pageSize??10,(await Pe.get(`/api/masters/${n}`,{params:o})).data},El=async(n,l)=>(await Pe.post(`/api/masters/${n}`,l)).data,Cl=async(n,l,o)=>(await Pe.put(`/api/masters/${n}/${l}`,o)).data,Dl=async(n,l)=>(await Pe.delete(`/api/masters/${n}/${l}`)).data,Kh=({isOpen:n,onClose:l,entry:o,onSave:d,onDelete:c,parties:m,salesmenList:f,products:x,customers:g})=>{const[y,v]=p.useState(null);p.useEffect(()=>{if(o){const S=m.find(R=>R.name===o.party)?.id||o.party,L=f.find(R=>R.name===o.salesman)?.id||o.salesman,V=o.items.map(R=>{const _=g.find(se=>se.name===R.customer)?.id||R.customer,Y=m.find(se=>se.name===R.box_type)?.id||m.find(se=>se.id===String(R.box_type))?.id||R.box_type;return{...R,customer:_,box_type:Y}});v({...o,party:S,salesman:L,items:V})}},[o,m,f,x,g]);const b=Bi.useMemo(()=>{if(!y)return[];const S=new Map;return y.items.forEach(L=>{if(!L.box_type)return;const V=parseFloat(L.box)||0;S.set(L.box_type,(S.get(L.box_type)||0)+V)}),Array.from(S.entries()).map(([L,V])=>({name:m.find(_=>_.id===String(L))?.name||L,total:V}))},[y,m]);if(!n||!y)return null;const T=(S,L)=>{v(V=>{if(!V)return null;let R=V.items;return R=V.items.map(Y=>({...Y,box_type:L})),{...V,[S]:L,items:R}})},P=(S,L,V)=>{v(R=>{if(!R)return null;const _=R.items.map(we=>we.id===S?{...we,[L]:V}:we),Y=_.reduce((we,te)=>we+(parseFloat(te.box)||0),0),ve=parseInt(R.totalBox)-Y;return{...R,items:_,balance:ve}})},N=(S,L,V)=>{if(S.key==="Enter"){S.preventDefault();const R=y?.items.findIndex(_=>_.id===L)??-1;if(R===-1)return;if(V==="customer")setTimeout(()=>{const _=document.querySelector(`[data-item-id="${L}"][data-field="box_type"]`);_&&_.querySelector("input")?.focus()},0);else if(V==="box_type")setTimeout(()=>{document.querySelector(`input[data-item-id="${L}"][data-field="box"]`)?.focus()},0);else if(V==="box")if(R>0){const _=y.items[R-1];_&&setTimeout(()=>{const Y=document.querySelector(`[data-item-id="${_.id}"][data-field="customer"]`);Y&&Y.querySelector("input")?.focus()},0)}else{const _=w();_&&setTimeout(()=>{const Y=document.querySelector(`[data-item-id="${_}"][data-field="customer"]`);Y&&Y.querySelector("input")?.focus()},0)}}},D=(S,L)=>{const V=L.find(R=>R.id===S);return V?V.name:S},w=()=>{if(!y)return null;const S={id:crypto.randomUUID(),customer:"",box:"",box_type:y.party};return v(L=>L?{...L,items:[S,...L.items]}:null),S.id},k=S=>{y&&(y.items.length<=1||v(L=>L?{...L,items:L.items.filter(V=>V.id!==S)}:null))},C=()=>{y&&(d(y),l())};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Box Sales Entry"}),r.jsx("button",{onClick:l,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:y.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:y.party,onChange:S=>T("party",S),placeholder:"Select Party",searchData:m,onSelect:S=>T("party",S.id),createRoute:"/create-party",entityType:"party"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Total Box"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white font-semibold",children:y.totalBox})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Balance Boxes"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white font-semibold",children:y.balance||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Salesman"}),r.jsx("p",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:D(y.salesman,f)})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Row"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>o&&c(o),className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]}),r.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:C,className:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[r.jsx(Ua,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Type"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Action"})]})}),r.jsx("tbody",{children:y.items.map(S=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:S.customer,onChange:L=>P(S.id,"customer",L),placeholder:"Search Customer",searchData:g,onSelect:L=>P(S.id,"customer",L.id),createRoute:"/create-customer",entityType:"customer","data-field":"customer","data-item-id":S.id,onKeyDown:L=>{L.key==="Enter"&&!L.defaultPrevented?setTimeout(()=>{const V=document.querySelector(`[data-item-id="${S.id}"][data-field="box_type"]`);V&&V.querySelector("input")?.focus()},0):N(L,S.id,"customer")}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:S.box_type||"",onChange:L=>{P(S.id,"box_type",L)},placeholder:"Select Party (Box Type)",searchData:m,onSelect:L=>{P(S.id,"box_type",L.id)},createRoute:"/create-party",entityType:"party","data-field":"box_type","data-item-id":S.id,onKeyDown:L=>{L.key==="Enter"&&!L.defaultPrevented?setTimeout(()=>{document.querySelector(`input[data-item-id="${S.id}"][data-field="box"]`)?.focus()},0):N(L,S.id,"box_type")}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",value:S.box,onChange:L=>P(S.id,"box",L.target.value),onKeyDown:L=>N(L,S.id,"box"),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0","data-field":"box","data-item-id":S.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center",children:r.jsx("button",{onClick:()=>k(S.id),disabled:y?.items.length<=1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove Row",children:r.jsx(ua,{className:"w-4 h-4"})})})]},S.id))}),r.jsx("tfoot",{children:r.jsx("tr",{className:"bg-gray-100 dark:bg-gray-700",children:r.jsx("td",{colSpan:4,className:"border border-gray-300 dark:border-gray-600 px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-4 text-sm font-semibold text-gray-900 dark:text-white",children:b.length>0?b.map(S=>r.jsxs("span",{className:"px-3 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg",children:[S.name,"  ",S.total]},S.name)):r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"No box types"})})})})})]})})]})]})})},Qh=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState(null),[m,f]=p.useState(null),[x,g]=p.useState(null),[y,v]=p.useState(null),[b,T]=p.useState(new Date().toISOString().split("T")[0]),[P,N]=p.useState(new Date().toISOString().split("T")[0]),[D,w]=p.useState(""),[k,C]=p.useState([]),[S,L]=p.useState([]),[V,R]=p.useState([]),[_,Y]=p.useState([]),[se,ve]=p.useState(1),[we]=p.useState(25),[te,W]=p.useState(null),[ke,ye]=p.useState(!1),je=z=>k.find(oe=>oe.id===String(z))?.name??"",q=l.filter(z=>{const oe=new Date(z.date).setHours(0,0,0,0),xe=b?new Date(b).setHours(0,0,0,0):null,ge=P?new Date(P).setHours(0,0,0,0):null;let Ce=!0;xe&&ge&&xe===ge||xe&&!ge?Ce=oe===xe:!xe&&ge?Ce=oe===ge:xe&&ge&&(Ce=oe>=xe&&oe<=ge);const Re=!D||z.salesman.toLowerCase().includes(D.toLowerCase());return Ce&&Re}),M=Math.ceil(q.length/we),J=(se-1)*we,ae=J+we,j=q.slice(J,ae);p.useEffect(()=>{b&&!P&&N(b)},[b,P]),p.useEffect(()=>{F()},[b,P]);const F=async()=>{try{const xe=await Wh({from:b,to:P});console.log(xe,"list includes box type");const ge=(xe.items||[]).map(Ce=>({id:String(Ce.id??""),date:(()=>{const Re=Ce.date??Ce.created_at??new Date().toISOString();return String(Re).split("T")[0]})(),party:Ce.party??"",totalBox:String(Number(Ce.total_box??0)),salesman:Ce.salesman??"",items:(Ce.items??[]).map(Re=>({id:String(Re.id??""),customer:Re.customer??"",box:String(Re.box??0),box_type:Re.box_type?String(Re.box_type):null})),totalAmount:String(Number(Ce.total_amount??0)),createdAt:Ce.created_at??"",load_number:Ce.load_number??void 0,load_number_string:Ce.load_number_str??void 0,balance:Number(Ce.balance??0)}));o(ge),W(xe.kpis)}catch(z){console.error("Error fetching box sale list:",z),v({message:"Error loading box sale data",type:"error"})}};p.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){n("/login");return}let oe=!0;return(async()=>{ye(!0);try{const[Ce,Re,gt,ne]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200}),Je("salesmen",{page:1,pageSize:200}),Je("products",{page:1,pageSize:200})]);if(!oe)return;Ce&&Array.isArray(Ce.data)&&R(Ce.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),Re&&Array.isArray(Re.data)&&C(Re.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),gt&&Array.isArray(gt.data)&&L(gt.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),ne&&Array.isArray(ne.data)&&Y(ne.data.map(Ae=>({id:String(Ae.id),name:Ae.name}))),await F()}catch(ge){console.error("Error loading lookup data via listEntities:",ge),v({message:"Failed loading lookup data",type:"error"})}finally{oe&&ye(!1)}})(),()=>{oe=!1}},[n]);const Q=z=>c(z),ie=()=>c(null),de=z=>{f(z)},me=()=>{f(null)},le=z=>{g(z)},be=()=>{g(null)},Fe=async()=>{if(x)try{await qh(x.id),o(z=>z.filter(oe=>oe.id!==x.id)),v({message:"Box sales entry deleted successfully!",type:"success"}),be(),me()}catch(z){console.error("Error deleting box sale entry:",z);const oe=z?.response?.data?.message??"Error deleting entry";v({message:oe,type:"error"})}},rt=async z=>{try{const oe={date:z.date,party_name:z.party,salesman_name:z.salesman,total_box:Number(z.totalBox||0),total_amount:Number(z.totalAmount||0),items:z.items.map(ge=>({customer:ge.customer,box:Number(ge.box||0),box_type:ge.box_type?Number(ge.box_type):null})),load_number:z.load_number,load_number_str:z.load_number_string},xe=await Vh(z.id,oe);await F(),v({message:"Box sales entry updated successfully!",type:"success"}),me()}catch(oe){console.error("Error updating box sale entry:",oe);const xe=oe?.response?.data?.message??"Error updating entry";v({message:xe,type:"error"})}};return p.useEffect(()=>{if(y){const z=setTimeout(()=>{v(null)},3e3);return()=>clearTimeout(z)}},[y]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),y&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${y.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[y.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:y.message})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Sales List"}),r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between w-full gap-4",children:[r.jsx("div",{}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"Salesman:"}),r.jsx("input",{type:"text",value:D,onChange:z=>{w(z.target.value),ve(1)},placeholder:"Search salesman...",className:"min-w-[120px] md:min-w-[150px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"From:"}),r.jsx("input",{type:"date",value:b,onChange:z=>{T(z.target.value),ve(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"To:"}),r.jsx("input",{type:"date",value:P,onChange:z=>{N(z.target.value),ve(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(pl,{className:"w-4 h-4"}),r.jsxs("span",{children:[q.length," entries found"]})]})]}),M>1&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("span",{children:["Page ",se," of ",M]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>ve(z=>Math.max(z-1,1)),disabled:se===1,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),r.jsx("button",{onClick:()=>ve(z=>Math.min(z+1,M)),disabled:se===M,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Added"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:q.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total of Total Box column"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Sold"}),r.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:q.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total boxes sold (from items)"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Current Balance"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:q.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)-q.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Boxes available (Added - Sold)"})]})]}),q.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(pl,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No sales entries found."}),r.jsx("button",{onClick:()=>n("/fish-box-sent"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all",children:"Create First Entry"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Load No"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Date"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Party"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Balance"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Salesman"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:j.map((z,oe)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.load_number_string||z.id}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:new Date(z.date).toLocaleDateString()}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.party}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.totalBox}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.balance}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.salesman}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>Q(z),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",title:"View Details",children:r.jsx(Hi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>de(z),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 transition-colors",title:"Edit Entry",children:r.jsx(Ha,{className:"w-4 h-4"})})]})})]},z.id))})]})})]})}),r.jsx(Kh,{isOpen:!!m,onClose:me,entry:m,onSave:rt,onDelete:le,parties:k,salesmenList:S,products:_,customers:V}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sales Entry Details"}),r.jsx("button",{onClick:ie,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(d.date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Party"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.party})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Box"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.totalBox})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Balance Boxes"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.balance})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Salesman"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.salesman})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Type"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Balance"})]})}),r.jsx("tbody",{children:d.items.map(z=>(console.log(d),r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:z.customer}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:z.box}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:r.jsx("td",{children:je(z.box_type)})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm text-gray-900 dark:text-white",children:d.balance})]},z.id)))})]})})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Box Sales Entry"}),r.jsx("button",{onClick:be,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Are you sure you want to delete this entry?"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["This action cannot be undone. This will permanently delete the box sales entry for"," ",r.jsx("span",{className:"font-medium",children:x.party})," on"," ",r.jsx("span",{className:"font-medium",children:new Date(x.date).toLocaleDateString()}),"."]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:be,className:"px-4 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:Fe,className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]})]})]})]})})]})},Yh=async(n,l,o)=>(console.log("incrementBoxSaleBatch payload:",{partyId:n,entries:l,date:o}),(await Pe.post("/api/boxes/sale",{partyId:n,entries:l,date:o})).data),Jh=async(n,l,o)=>(await Pe.post("/api/boxes/receive",{partyId:n,entries:l,date:o})).data;function Xh(n){return Pe.post("/api/boxes/report",n)}async function Gh(n,l){const{data:o}=await Pe.get("/api/boxes/receive-report",{params:{start:n,end:l}});return console.log(o),o}async function Zh(n){const{data:l}=await Pe.get("/api/boxes/daily-summary",{params:{date:n}});return l}async function ey(n,l){const{data:o}=await Pe.get("/api/boxes/daily-summary/customers",{params:{date:n,partyId:l}});return o}async function ty(){const{data:n}=await Pe.get("/api/boxes/total-balance");return n}async function ry(n){const{data:l}=await Pe.get("/api/boxes/total-balance/customers",{params:{partyId:n}});return console.log("customerData",l),l}const ay=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState(new Date().toISOString().split("T")[0]),[x,g]=p.useState(""),[y,v]=p.useState([{id:"1",customer:"",boxCount:""}]),[b,T]=p.useState(null),[P,N]=p.useState(null),[D,w]=p.useState(!1),k=["customer","boxCount"],C=["date","party"];p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{let te=!0;return(async()=>{try{const[ye,je]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200})]);if(!te)return;ye&&Array.isArray(ye.data)&&o(ye.data.map(q=>({id:String(q.id),name:q.name}))),je&&Array.isArray(je.data)&&c(je.data.map(q=>({id:String(q.id),name:q.name})))}catch(ke){console.error("Error loading lookups via listEntities:",ke),T({message:"Failed loading lookup data",type:"error"})}})(),()=>{te=!1}},[]),p.useEffect(()=>{if(P){const te=()=>{const W=document.querySelector(`[data-item-id="${P}"][data-field="customer"] input`);W?W.focus():document.querySelector(`input[data-item-id="${P}"][data-field="customer"]`)?.focus()};requestAnimationFrame(()=>{setTimeout(te,10)}),N(null)}},[P,y]);const S=()=>{const te=Date.now().toString();return v([{id:te,customer:"",boxCount:""},...y]),te},L=te=>{y.length>1&&v(y.filter(W=>W.id!==te))},V=(te,W,ke)=>{v(y.map(ye=>ye.id===te?{...ye,[W]:ke}:ye))},R=(te,W)=>{V(te,"customer",W.id)},_=te=>{g(te.id)},Y=()=>y.reduce((te,W)=>te+(parseInt(W.boxCount)||0),0),se=async()=>{if(!x){T({message:"Please select a party",type:"error"});return}const te=y.map(ye=>({customerId:String(ye.customer||"").trim(),boxes:parseInt(ye.boxCount||"0",10)||0})).filter(ye=>ye.customerId&&ye.boxes>0);if(te.length===0){T({message:"Please provide at least one customer with boxes",type:"error"});return}const W=te.map(ye=>({customerId:String(ye.customerId),boxes:ye.boxes})),ke=String(x);try{w(!0);const ye=await Jh(ke,W,m),je=(ye.updated||[]).length,q=ye.missing||[];je>0&&T({message:`${je} rows updated`,type:"success"}),q.length>0&&T({message:`Missing rows: ${q.join(", ")}`,type:"error"}),q.length===0&&(f(new Date().toISOString().split("T")[0]),g(""),v([{id:Date.now().toString(),customer:"",boxCount:""}]))}catch(ye){const je=ye;T({message:je?.response?.data?.message??je?.message??"Failed to save",type:"error"})}finally{w(!1)}};p.useEffect(()=>{if(b){const te=setTimeout(()=>{T(null)},3e3);return()=>clearTimeout(te)}},[b]);const ve=te=>{if(te.key==="Enter"){te.preventDefault();const ke=te.target.closest("[data-field]")?.getAttribute("data-field");if(!ke)return;const ye=C.indexOf(ke);if(ye===-1)return;const je=C[ye+1];if(!je){if(y.length>0){const M=document.querySelector(`[data-item-id="${y[0].id}"][data-field="customer"] input`);M?M.focus():document.querySelector(`input[data-item-id="${y[0].id}"][data-field="customer"]`)?.focus()}return}let q=document.querySelector(`[data-field="${je}"] input`);q?q.focus():(q=document.querySelector(`input[data-field="${je}"]`),q?.focus())}},we=(te,W)=>{if(te.key==="Enter"){te.preventDefault();let ke=te.target.dataset.field;if(ke||(ke=te.target.closest("[data-field]")?.getAttribute("data-field")||""),!ke)return;const ye=k.indexOf(ke);if(ye===-1)return;const je=k[ye+1];if(je){const q=document.querySelector(`[data-item-id="${W}"][data-field="${je}"] input`);q?q.focus():document.querySelector(`input[data-item-id="${W}"][data-field="${je}"]`)?.focus()}else{const q=S();N(q)}}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),b&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${b.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[b.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:b.message})]})})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6 h-[600px] flex flex-col",children:[r.jsx("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Receive"})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:m,onChange:te=>f(te.target.value),onKeyDown:ve,"data-field":"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:x,onChange:g,placeholder:"Search party...",searchData:d,onSelect:_,onKeyDown:ve,createRoute:"/create-party",entityType:"party","data-field":"party"})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Count"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:y.map(te=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx(pt,{value:te.customer,onChange:W=>V(te.id,"customer",W),placeholder:"Search customer...",searchData:l,onSelect:W=>R(te.id,W),onKeyDown:W=>we(W,te.id),createRoute:"/create-customer",entityType:"customer",className:"min-w-[200px]","data-field":"customer","data-item-id":te.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",value:te.boxCount,onChange:W=>V(te.id,"boxCount",W.target.value),onKeyDown:W=>we(W,te.id),"data-item-id":te.id,"data-field":"boxCount",className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:r.jsx("button",{onClick:()=>L(te.id),disabled:y.length===1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(At,{className:"w-4 h-4"})})})]},te.id))})]})})}),r.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex justify-end items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-4",children:"Total Boxes:"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Y()})]})})}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[r.jsxs("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Customer"})]}),r.jsxs("button",{onClick:se,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all",children:[r.jsx(Ua,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Entry"})]})]})]})})]})},ny=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState([]),[x,g]=p.useState(new Date().toISOString().split("T")[0]),[y,v]=p.useState(""),[b,T]=p.useState(""),[P,N]=p.useState([{id:"1",customer:"",boxCount:""}]),[D,w]=p.useState(null),[k,C]=p.useState(null),[S,L]=p.useState(!1),[V,R]=p.useState(!1),[_,Y]=p.useState(null),se=["customer","boxCount"],ve=["date","party"];p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{let j=!0;return(async()=>{R(!0);try{const[ie,de,me]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200}),Je("salesmen",{page:1,pageSize:200})]);if(!j)return;ie&&Array.isArray(ie.data)&&o(ie.data.map(le=>({id:String(le.id),name:le.name}))),de&&Array.isArray(de.data)&&c(de.data.map(le=>({id:String(le.id),name:le.name}))),me&&Array.isArray(me.data)&&f(me.data.map(le=>({id:String(le.id),name:le.name})))}catch(Q){console.error("Error loading lookup data via listEntities:",Q),w({message:"Failed loading lookup data",type:"error"})}finally{j&&R(!1)}})(),()=>{j=!1}},[]);const we=p.useCallback(()=>{try{const j=localStorage.getItem("salesFormDraft");if(j){const F=JSON.parse(j);Y({date:F.date||"",party:F.party||"",salesman:F.salesman||"",totalBox:F.totalBox||"0",items:F.items||[]})}else Y(null)}catch(j){console.error("Error loading sales data:",j),Y(null)}},[]);p.useEffect(()=>{we()},[we]),p.useEffect(()=>{const j=Q=>{Q.key==="salesFormDraft"&&we()};window.addEventListener("storage",j);const F=setInterval(()=>{we()},1e3);return()=>{window.removeEventListener("storage",j),clearInterval(F)}},[we]),p.useEffect(()=>{if(k){const j=()=>{const F=document.querySelector(`[data-item-id="${k}"][data-field="customer"] input`);F?F.focus():document.querySelector(`input[data-item-id="${k}"][data-field="customer"]`)?.focus()};requestAnimationFrame(()=>{setTimeout(j,10)}),C(null)}},[k,P]);const te=()=>{const j=Date.now().toString();return N([{id:j,customer:"",boxCount:""},...P]),j},W=j=>{P.length>1&&N(P.filter(F=>F.id!==j))},ke=(j,F,Q)=>{N(P.map(ie=>ie.id===j?{...ie,[F]:Q}:ie))},ye=(j,F)=>{ke(j,"customer",F.id)},je=j=>{v(j.id)},q=()=>P.reduce((j,F)=>j+(parseInt(F.boxCount)||0),0),M=async()=>{if(!y||String(y).trim()===""){w({message:"Please select a party before saving.",type:"error"});return}const j=P.map(Q=>({customerId:String(Q.customer||"").trim(),boxes:parseInt(Q.boxCount||"0",10)})).filter(Q=>Q.customerId!==""&&Number.isFinite(Q.boxes)&&Q.boxes>0);if(j.length===0){w({message:"Please add at least one customer with positive box count.",type:"error"});return}const F=String(y);L(!0);try{const Q=await Yh(F,j,x),ie=Q?.updated??[],de=Q?.missing??[];ie.length>0&&w({message:`${ie.length} rows updated successfully.`,type:"success"}),de.length>0?w({message:`${de.length} rows were missing and not updated: ${de.join(", ")}`,type:"error"}):(g(new Date().toISOString().split("T")[0]),v(""),T(""),N([{id:Date.now().toString(),customer:"",boxCount:""}]),we())}catch(Q){console.error("Batch save failed",Q);const ie=Q?.response?.data?.message||Q?.message||"Failed to save box entries";w({message:ie,type:"error"})}finally{L(!1)}};p.useEffect(()=>{if(D){const j=setTimeout(()=>{w(null)},3e3);return()=>clearTimeout(j)}},[D]);const J=j=>{if(j.key==="Enter"){j.preventDefault();const Q=j.target.closest("[data-field]")?.getAttribute("data-field");if(!Q)return;const ie=ve.indexOf(Q);if(ie===-1)return;const de=ve[ie+1];if(!de){if(P.length>0){const le=document.querySelector(`[data-item-id="${P[0].id}"][data-field="customer"] input`);le?le.focus():document.querySelector(`input[data-item-id="${P[0].id}"][data-field="customer"]`)?.focus()}return}let me=document.querySelector(`[data-field="${de}"] input`);me?me.focus():(me=document.querySelector(`input[data-field="${de}"]`),me?.focus())}},ae=(j,F)=>{if(j.key==="Enter"){j.preventDefault();let Q=j.target.dataset.field;if(Q||(Q=j.target.closest("[data-field]")?.getAttribute("data-field")||""),!Q)return;const ie=se.indexOf(Q);if(ie===-1)return;const de=se[ie+1];if(de){const me=document.querySelector(`[data-item-id="${F}"][data-field="${de}"] input`);me?me.focus():document.querySelector(`input[data-item-id="${F}"][data-field="${de}"]`)?.focus()}else{const me=te();C(me)}}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),D&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${D.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[D.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:D.message})]})})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6 h-[600px] flex flex-col",children:[r.jsx("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Sale"})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:x,onChange:j=>g(j.target.value),onKeyDown:J,"data-field":"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:y,onChange:v,placeholder:"Search party...",searchData:d,onSelect:je,onKeyDown:J,createRoute:"/create-party",entityType:"party","data-field":"party"})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-scroll",style:{maxHeight:"300px"},children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box Count"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:P.map(j=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx(pt,{value:j.customer,onChange:F=>ke(j.id,"customer",F),placeholder:"Search customer...",searchData:l,onSelect:F=>ye(j.id,F),onKeyDown:F=>ae(F,j.id),createRoute:"/create-customer",entityType:"customer",className:"min-w-[200px]","data-field":"customer","data-item-id":j.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",value:j.boxCount,onChange:F=>ke(j.id,"boxCount",F.target.value),onKeyDown:F=>ae(F,j.id),"data-item-id":j.id,"data-field":"boxCount",className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:r.jsx("button",{onClick:()=>W(j.id),disabled:P.length===1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(At,{className:"w-4 h-4"})})})]},j.id))})]})})}),r.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex justify-end items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-4",children:"Total Boxes:"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:q()})]})})}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:[r.jsxs("button",{onClick:te,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Customer"})]}),r.jsxs("button",{onClick:M,disabled:S,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ua,{className:"w-4 h-4"}),r.jsx("span",{children:S?"Saving...":"Save Entry"})]})]})]})})]})};async function sy(n){return(await Pe.get("/api/box-tracking/",{params:{date:n}})).data}async function ly(n){if(!Array.isArray(n)||n.length===0)throw new Error("updates must be a non-empty array");return(await Pe.post("/api/box-tracking/receive",{updates:n})).data}const oy=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState(!0),[m,f]=p.useState(!1),[x,g]=p.useState(null);p.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){n("/login");return}y()},[n]),p.useEffect(()=>{if(x){const b=setTimeout(()=>g(null),3e3);return()=>clearTimeout(b)}},[x]);const y=async()=>{c(!0);try{const b=new Date().toISOString().slice(0,10),T=await sy(b),D=(Array.isArray(T.items)?T.items:[]).map((w,k)=>{const C=w.party_id??w.partyId??null,S=w.customer_id??w.customerId??null,L=w.party_name??w.party??null,V=w.customer_name??w.customer??null,R=Number(w.openingBalance??w.opening_balance??0),_=Number(w.todaySales??w.todays_sales??0),Y=Number(w.total??R+_),se=Number(w.closingBalance??w.closing_balance??0),ve=Number(w.totalReceived??w.total_received??w.box_receive??0);return{id:String(w.id??`${C??L}|||${S??V}|||${k}`),customer:V??"",party:L??"",openingBalance:R,todaySales:_,total:Y,currentDbBalance:se,rcdBox:0,balance:se,isModified:!1,totalReceived:ve,partyId:C,customerId:S}}).sort((w,k)=>w.customer.localeCompare(k.customer));o(D)}catch(b){console.error("Error fetching box tracking",b),g({message:"Error loading data. Please refresh the page.",type:"error"})}finally{c(!1)}},v=async()=>{if(!m){f(!0);try{const b=l.filter(P=>P.isModified&&Number(P.rcdBox)>0);if(b.length===0){g({message:"No changes to save!",type:"error"}),f(!1);return}const T=b.map(P=>{const N={receiveDelta:Number(P.rcdBox)};return P.partyId&&P.customerId?(N.partyId=P.partyId,N.customerId=P.customerId):(N.partyName=P.party,N.customerName=P.customer),N});await ly(T),g({message:`${b.length} record(s) saved successfully!`,type:"success"}),await y()}catch(b){console.error("Save error",b);const T=b?.response?.data?.message??b.message??"Error saving data.";g({message:T,type:"error"})}finally{f(!1)}}};return d?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-gray-900 dark:text-white",children:"Loading data..."})})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),x&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${x.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsx("span",{className:"font-medium",children:x.message})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Multiple Box Receive"}),r.jsxs("button",{onClick:v,disabled:l.filter(b=>b.isModified).length===0||m,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:[r.jsx(Ua,{className:`w-4 h-4 ${m?"animate-pulse":""}`}),r.jsx("span",{children:m?"Saving...":"Save Changes"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",style:{minWidth:"800px"},children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Customer"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Party"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Opening Balance"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Today's Sales"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Total"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",style:{minWidth:"120px"},children:"Received Box"}),r.jsx("th",{className:"border px-4 py-3 text-left text-sm font-medium",children:"Closing Balance"})]})}),r.jsx("tbody",{children:l.map((b,T)=>r.jsxs("tr",{className:T%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[r.jsx("td",{className:"border px-4 py-3 text-sm",children:b.customer}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:b.party}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:b.openingBalance}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:b.todaySales}),r.jsx("td",{className:"border px-4 py-3 text-sm",children:b.total}),r.jsx("td",{className:"border px-4 py-3",children:r.jsx("input",{type:"text",value:b.rcdBox===0?"":b.rcdBox.toString(),placeholder:`Today's Entry: ${b.totalReceived}`,onChange:P=>{const N=P.target.value;(N===""||/^\d+$/.test(N))&&o(D=>{const w=D.findIndex(k=>k.id===b.id);if(w!==-1){const k=D[w].currentDbBalance,C=Number(N)||0,S=Math.min(C,k),L={...D[w],rcdBox:S,balance:Math.max(0,k-S),isModified:!0};return[...D.slice(0,w),L,...D.slice(w+1)]}return D})},className:"w-full px-3 py-2 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-sm text-gray-900 dark:text-white"})}),r.jsxs("td",{className:`border px-4 py-3 text-sm font-medium ${b.balance<0?"text-red-600 dark:text-red-400":b.balance>0?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"}`,children:[b.balance,b.isModified&&r.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"(modified)"})]})]},`${b.id}-${T}`))})]})})]})})]})},tl="customers",iy=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[g,y]=p.useState(1),[v,b]=p.useState(0),[T,P]=p.useState(!1),[N,D]=p.useState(!1),w=10,k=async(R=g)=>{try{P(!0);const _=await Je(tl,{page:R,pageSize:w});d(_.data||[]),b(_.totalCount||0),y(_.page||R)}catch(_){console.error("Error fetching customers:",_)}finally{P(!1)}};p.useEffect(()=>{k(g)},[g]);const C=async()=>{if(n.trim())try{D(!0);const R=await El(tl,{name:n.trim()});l(""),await k(1),y(1)}catch(R){console.error("Error saving customer:",R),R?.message&&alert(R.message)}finally{D(!1)}},S=R=>{m(R.id),x(R.name)},L=async R=>{if(f.trim())try{D(!0),await Cl(tl,R,{name:f.trim()}),m(null),x(""),await k()}catch(_){console.error("Error updating customer:",_),_?.message&&alert(_.message)}finally{D(!1)}},V=async R=>{if(window.confirm("Are you sure you want to delete this customer?"))try{D(!0),await Dl(tl,R);const _=Math.max(0,v-1),Y=Math.max(1,Math.ceil(_/w));g>Y&&y(Y),await k()}catch(_){console.error("Error deleting customer:",_),_?.message&&alert(_.message)}finally{D(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Customer"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:R=>{R.preventDefault(),C()},children:[r.jsx("input",{type:"text",placeholder:"Customer name",value:n,onChange:R=>l(R.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:T?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No customers found"})}):o.map(R=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:R.created_at?new Date(R.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===R.id?r.jsx("input",{type:"text",value:f,onChange:_=>x(_.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):R.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===R.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(R.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(vl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(ua,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(R),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Ha,{size:18})}),r.jsx("button",{onClick:()=>V(R.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(R.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:g===1||T,onClick:()=>y(R=>Math.max(1,R-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",g," of ",Math.max(1,Math.ceil(v/w))]}),r.jsx("button",{disabled:g*w>=v||T,onClick:()=>y(R=>R+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})};async function dy(){const{data:n}=await Pe.get("/api/dashboard/metrics");return n}const cy=()=>{const n=kt(),[l,o]=p.useState(!0),[d,c]=p.useState({totalSales:0,activeCustomers:0,boxesTotal:0,boxesItems:0,boxesBoxSale:0,activeParties:0});p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{(async()=>{try{const x=await dy();c({totalSales:x.totalSales,activeCustomers:x.activeCustomers,boxesTotal:x.boxes.totalBoxes,boxesItems:x.boxes.itemsBoxes,boxesBoxSale:x.boxes.boxSaleBoxes,activeParties:x.activeParties})}catch(x){console.error(x)}finally{o(!1)}})()},[]);const m=new Intl.NumberFormat,f=[{name:"Total Sales",value:m.format(d.totalSales),icon:F0,color:"bg-blue-500"},{name:"Active Customers",value:m.format(d.activeCustomers),icon:Gu,color:"bg-green-500"},{name:"Boxes Sent",value:m.format(d.boxesTotal),icon:A0,color:"bg-purple-500"},{name:"Active Parties",value:m.format(d.activeParties),icon:Gu,color:"bg-orange-500"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mt-2",children:"Welcome to Fishow ERP System"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(x=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-600",title:x.tooltip||"",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`${x.color} p-3 rounded-lg`,children:r.jsx(x.icon,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:x.name}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.value})]})]})},x.name))}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>n("/sales-entry"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"New Sales Entry"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:"Create a new sales entry form"})]}),r.jsxs("button",{onClick:()=>n("/load-wise-list"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"View Load List"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:"Check load wise sales data"})]}),r.jsxs("button",{onClick:()=>n("/fish-box-sent"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Send Fish Boxes"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:"Record fish box shipments"})]})]})]})]})]})};async function uy(n){return console.log(n),(await Pe.post("/api/sales/",n)).data}async function my(n,l){return console.log(l),(await Pe.put(`/api/sales/${n}`,l)).data}async function fy({date:n,partyName:l,salesmanName:o,totalBox:d,entryNumber:c}){return(await Pe.get("/api/sales/entry",{params:{date:n,partyName:l,salesmanName:o,totalBox:d,entryNumber:c}})).data}async function py({date:n,partyName:l,salesmanName:o,totalBox:d}){return(await Pe.get("/api/sales/entry-latest",{params:{date:n,partyName:l,salesmanName:o,totalBox:d}})).data}const xy=({isOpen:n,onClose:l,formData:o,parties:d,salesmenList:c,customers:m,products:f})=>{if(!n)return null;const x=(g,y)=>{const v=y.find(b=>b.id===g);return v?v.name:g};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sales Form Preview"}),r.jsx("button",{onClick:l,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Date"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:o.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Party"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:x(o.party,d)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Total Box"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:o.totalBox||"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Entry Number"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:o.entryNumber||"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Salesman"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:x(o.salesman,c)})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"KG"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Price"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Remark"})]})}),r.jsx("tbody",{children:o.items.map(g=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:x(g.customer,m)}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:g.box||"0"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:g.kg||"0.00"}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",g.price||"0.00"]}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",g.total||"0.00"]}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:x(g.item,f)}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:g.remark||"-"})]},g.id))}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 font-semibold",children:[r.jsx("td",{colSpan:6,className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-right text-gray-900 dark:text-white",children:"Total Amount:"}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white",children:["",o.totalAmount]})]})})]})})]}),r.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 dark:border-gray-600",children:r.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})})};function h0(n,l){if(!n)return null;const o=String(n).trim();if(l.some(c=>c.id===o))return o;const d=l.find(c=>c.name&&c.name.toLowerCase()===o.toLowerCase());return d?d.id:null}const gy=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState([]),[x,g]=p.useState([]),[y,v]=p.useState(!1),[b,T]=p.useState("idle"),[P,N]=p.useState(null),[D,w]=p.useState(null),[k,C]=p.useState(null),[S,L]=p.useState(null),[V,R]=p.useState({}),[_,Y]=p.useState(!1),[se,ve]=p.useState(""),[we,te]=p.useState(""),[W,ke]=p.useState(""),ye=()=>{const K=new Date,U=K.getFullYear(),Z=String(K.getMonth()+1).padStart(2,"0"),Ie=String(K.getDate()).padStart(2,"0");return`${U}-${Z}-${Ie}`},je=K=>K.filter(U=>U&&(U.customer?.trim()||U.box||U.kg||U.price||U.item?.trim()||U.remark?.trim())).map(U=>{const Z=h0(U.customer,l),Ie=h0(U.item,x);return{customerName:Z,productName:Ie,box:U.box!==""?U.box:null,kg:U.kg!==""?U.kg:null,price:U.price!==""?U.price:null,total:U.total!==""?U.total:null,remark:U.remark||null}}),[q,M]=p.useState(ye()),[J,ae]=p.useState(""),[j,F]=p.useState(""),[Q,ie]=p.useState(""),[de,me]=p.useState(""),[le,be]=p.useState([{id:"1",customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}]),Fe="salesFormHeaderValues",rt=p.useCallback(()=>{const K={party:J,salesman:j,manualTotalBox:Q,lastSaved:new Date().toISOString()};try{localStorage.setItem(Fe,JSON.stringify(K)),console.log("Header values saved to localStorage:",K)}catch(U){console.error("Error saving header values to localStorage:",U)}},[J,j,Q]),z=p.useCallback(()=>{try{const K=localStorage.getItem(Fe);if(K){const U=JSON.parse(K);console.log("Loading header values from localStorage:",U),U.party&&ae(U.party),U.salesman&&F(U.salesman),U.manualTotalBox&&ie(U.manualTotalBox),U.entryNumber&&me(U.entryNumber)}}catch(K){console.error("Error loading header values from localStorage:",K)}},[]);p.useEffect(()=>{localStorage.getItem("isAuthenticated")||n("/login")},[n]),p.useEffect(()=>{(async()=>{try{const[Z,Ie,Te,$e]=await Promise.all([Je("customers",{page:1,pageSize:200}),Je("parties",{page:1,pageSize:200}),Je("salesmen",{page:1,pageSize:200}),Je("products",{page:1,pageSize:200})]);Z&&Array.isArray(Z.data)&&o(Z.data.map(Ue=>({...Ue,id:String(Ue.id)}))),Ie&&Array.isArray(Ie.data)&&c(Ie.data.map(Ue=>({...Ue,id:String(Ue.id)}))),Te&&Array.isArray(Te.data)&&f(Te.data.map(Ue=>({...Ue,id:String(Ue.id)}))),$e&&Array.isArray($e.data)&&g($e.data.map(Ue=>({...Ue,id:String(Ue.id)})))}catch(U){console.error("Error loading entity lists",U),L({message:"Failed loading lookup data",type:"error"})}})()},[]),p.useEffect(()=>{z()},[z]),p.useEffect(()=>{(J||j||Q)&&rt()},[J,j,Q,rt]),p.useEffect(()=>{const K=U=>{U.key==="F2"&&(U.preventDefault(),qa())};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[]),p.useEffect(()=>{if(b==="saved"){const K=setTimeout(()=>{T("idle")},3e3);return()=>clearTimeout(K)}},[b]);const oe=()=>{const K={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:we,total:"",item:W,remark:""};return be([K,...le]),K.id},xe=K=>{le.length>1&&be(le.filter(U=>U.id!==K))},ge=(K,U,Z)=>{try{be(le.map(Ie=>{if(Ie.id===K){const Te={...Ie,[U]:Z};if(U==="customer"&&ve(Z),U==="price"&&te(Z),U==="item"&&ke(Z),U==="box"||U==="kg"||U==="price"){const $e=parseFloat(U==="box"?Z:Te.box)||0,Ue=parseFloat(U==="kg"?Z:Te.kg)||0,Kr=parseFloat(U==="price"?Z:Te.price)||0,Ya=Ue>0?Ue:$e;Te.total=(Kr*Ya).toFixed(2)}return Te}return Ie}))}catch(Ie){console.error("Error updating item:",Ie)}},Ce=(K,U)=>{try{ge(K,"customer",U.id)}catch(Z){console.error("Error selecting customer:",Z)}},Re=(K,U)=>{try{ge(K,"item",U.id)}catch(Z){console.error("Error selecting item:",Z)}},gt=K=>{try{ae(K.id)}catch(U){console.error("Error selecting party:",U)}},ne=K=>{try{F(K.id)}catch(U){console.error("Error selecting salesman:",U)}},Ae=()=>le.reduce((K,U)=>K+(parseFloat(U.total)||0),0).toFixed(2),Ke=()=>le.reduce((K,U)=>K+(parseFloat(U.box)||0),0),Me=Ke(),ma=p.useCallback(async()=>{if(!q||!J||!j||!Q||J.trim()===""||j.trim()===""||Q.trim()===""){me("");const K={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([K]);return}try{const K=await py({date:q,partyName:J,salesmanName:j,totalBox:Q});if(console.log(K),K&&K.sale){const U=K.sale;me(String(U.entry_number||1)),C(U.id||null),Array.isArray(K.items)&&K.items.length>0?(be(K.items.map((Z,Ie)=>({id:Z.id?String(Z.id):`${Ie+1}`,customer:Z.customer_name||"",box:Z.box!=null?String(Z.box):"",kg:Z.kg!=null?String(Z.kg):"",price:Z.price!=null?String(Z.price):"",total:Z.total!=null?String(Z.total):"",item:Z.product_name||"",remark:Z.remark||""}))),L({message:`Loaded entry ${U.entry_number}`,type:"success"}),setTimeout(()=>{const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:we,total:"",item:W,remark:""};be(Ie=>[Z,...Ie])},100)):be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}else me("1"),C(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}catch(K){console.error("fetchAndLoadLastEntry error",K),me("1"),C(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}},[q,J,j,Q]),Vr=p.useCallback(async K=>{if(!q||!J||!j||!Q||!K){be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}]);return}try{const U=await fy({date:q,partyName:J,salesmanName:j,totalBox:Q,entryNumber:K});U&&U.sale?(C(U.sale.id||null),be(U.items.map((Z,Ie)=>({id:Z.id?String(Z.id):`${Ie+1}`,customer:Z.customer_name||"",box:Z.box!=null?String(Z.box):"",kg:Z.kg!=null?String(Z.kg):"",price:Z.price!=null?String(Z.price):"",total:Z.total!=null?String(Z.total):"",item:Z.product_name||"",remark:Z.remark||""}))),L({message:`Loaded entry ${K}`,type:"success"}),setTimeout(()=>{const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:we,total:"",item:W,remark:""};be(Ie=>[Z,...Ie])},100)):(C(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}]),console.log("No existing entry found for entry number, cleared items"))}catch(U){console.error("loadEntryData error",U),C(null),be([{id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""}])}},[q,J,j,Q]);p.useEffect(()=>{if(console.log(" Header fields changed:",{date:q,party:J,salesman:j,manualTotalBox:Q}),q&&J&&j&&Q&&J.trim()!==""&&j.trim()!==""&&Q.trim()!=="")console.log(" All fields filled, calling fetchAndLoadLastEntry"),ma();else{console.log(" Fields not complete, clearing form"),me("");const K={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([K])}},[ma,q,J,j,Q]),p.useEffect(()=>{if(!de||parseInt(de)<=0)return;const K=setTimeout(()=>{Vr(de)},500);return()=>clearTimeout(K)},[de,Vr]);const qa=()=>{v(!0)},Ka=["customer","box","kg","price","item","remark"],Qa=["date","party","totalBox","salesman","entryNumber"],ir=K=>{if(K.key==="Enter"){K.preventDefault();const Z=K.target.closest("[data-field]")?.getAttribute("data-field");if(!Z)return;const Ie=Qa.indexOf(Z);if(Ie===-1)return;const Te=Qa[Ie+1];if(Z==="salesman"||!Te){if(le.length>0){const Ue=document.querySelector(`[data-item-id="${le[0].id}"][data-field="customer"] input`);Ue?Ue.focus():document.querySelector(`input[data-item-id="${le[0].id}"][data-field="customer"]`)?.focus()}return}let $e=document.querySelector(`[data-field="${Te}"] input`);$e?$e.focus():($e=document.querySelector(`input[data-field="${Te}"]`),$e?.focus())}},fa=K=>{const U=K.target.value;if(me(U),U&&q&&J&&j&&Q)Vr(U);else{const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([Z])}},dr=(K,U)=>{if(K.key==="Enter"){K.preventDefault();let Z=K.target.dataset.field;if(Z||(Z=K.target.closest("[data-field]")?.getAttribute("data-field")||""),!Z)return;const Ie=Ka.indexOf(Z);if(Ie===-1)return;let Te;if(Z==="box"?Te="price":Te=Ka[Ie+1],Te){const $e=document.querySelector(`[data-item-id="${U}"][data-field="${Te}"] input`);$e?$e.focus():document.querySelector(`input[data-item-id="${U}"][data-field="${Te}"]`)?.focus()}else if(!K.shiftKey){const $e=oe();setTimeout(()=>{const Ue=document.querySelector(`[data-item-id="${$e}"][data-field="customer"] input`);Ue?Ue.focus():document.querySelector(`input[data-item-id="${$e}"][data-field="customer"]`)?.focus()},0)}}},kr=p.useCallback(()=>{console.log("Starting autosave with data:",{date:q,party:J,salesman:j,entryNumber:de,totalBoxes:Me,itemsCount:le.length});const K={date:q,party:J,totalBox:Q,entryNumber:de,salesman:j,items:le,lastAutosave:new Date().toISOString()};try{localStorage.setItem("salesFormDraft",JSON.stringify(K)),T("saved"),N(new Date),console.log("Autosave completed successfully")}catch(U){console.error("Autosave failed:",U),T("error")}},[J,j,de,le,q,Me,Q]);p.useEffect(()=>{const K=J?.trim()||j?.trim()||Q?.trim()||le.some(U=>U.customer?.trim()||U.box||U.kg||U.price||U.item?.trim()||U.remark?.trim());if(console.log("Autosave effect check:",{hasAnyFilledField:K,date:q,party:J?.trim(),salesman:j?.trim(),manualTotalBox:Q?.trim(),itemsWithData:le.filter(U=>U.customer?.trim()||U.box||U.kg||U.price||U.item?.trim()||U.remark?.trim()).length}),!K){console.log("No filled fields, skipping autosave"),T("idle");return}console.log("Autosave conditions met, saving immediately"),kr()},[J,j,le,q,Q,kr]),p.useEffect(()=>{(()=>{try{const U=localStorage.getItem("salesFormDraft");if(U){const Z=JSON.parse(U);console.log("Loading draft from localStorage:",Z),Z.party?.trim()||Z.salesman?.trim()||Z.totalBox?.trim()||Z.items&&Z.items.some(Te=>Te.customer?.trim()||Te.box||Te.kg||Te.price||Te.item?.trim()||Te.remark?.trim())?(M(Z.date||ye()),ae(Z.party||""),F(Z.salesman||""),ie(Z.totalBox||""),be(Z.items||le),Z.items&&Z.items.length>0&&(ve(Z.items[0].customer||""),te(Z.items[0].price||""),ke(Z.items[0].item||"")),N(new Date(Z.lastAutosave)),T("idle"),console.log("Draft loaded with meaningful data")):(console.log("Draft data appears to be empty post-save state, skipping load"),localStorage.removeItem("salesFormDraft"))}}catch(U){console.error("Error loading draft from localStorage:",U)}})()},[]);const qr=async()=>{console.log(" Save button clicked with data:",{date:q,party:J,salesman:j,manualTotalBox:Q,entryNumber:de,itemsCount:le.length}),Y(!0);const K={};if(J?.trim()||(K.party=!0),j?.trim()||(K.salesman=!0),Q?.trim()||(K.totalBox=!0),!le||le.length===0?K.items=!0:le.forEach((Z,Ie)=>{Z.customer?.trim()||(K[`item-${Ie}-customer`]=!0);const Te=Z.box&&Z.box.trim()!=="",$e=Z.kg&&Z.kg.trim()!=="";!Te&&!$e&&(K[`item-${Ie}-boxorkg`]=!0),(!Z.price||Z.price.trim()==="")&&(K[`item-${Ie}-price`]=!0)}),R(K),Object.keys(K).length>0){L({message:"Please enter all mandatory fields",type:"error"});return}const U={date:q,partyName:J,salesmanName:j,totalBox:Q!=null?Number(Q):0,entryNumber:de?Number(de):1,totalAmount:Ae(),items:je(le)};try{if(console.log("Starting save operation with payload:",U),k)await my(k,U),L({message:`Sales entry ${de} updated successfully!`,type:"success"});else{const Te=(await uy(U))?.id;C(Te||null),me(String(U.entryNumber||1)),L({message:`Sales entry ${U.entryNumber} saved successfully!`,type:"success"})}R({}),Y(!1),M(ye()),ae(""),F(""),ie(""),ve(""),te(""),ke("");const Z={id:crypto.randomUUID(),customer:"",box:"",kg:"",price:"",total:"",item:"",remark:""};be([Z]),w(null),C(null),T("idle"),N(null),localStorage.removeItem("salesFormDraft"),localStorage.removeItem("salesFormHeaderValues")}catch(Z){console.error("Save operation failed:",Z);const Ie=Z?.response?.status,Te=Z?.response?.data;if(Ie===409)L({message:Te?.message||"Duplicate entry",type:"error"});else{const $e=Te&&Te.message?Te.message:Z.message||"Failed to save";L({message:`Error saving sales entry: ${$e}`,type:"error"})}}};return p.useEffect(()=>{if(S){const K=setTimeout(()=>{L(null)},3e3);return()=>clearTimeout(K)}},[S]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),S&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${S.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[S.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:S.message})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6 h-[600px] flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cash Sales"}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[b==="saved"&&r.jsxs("div",{className:"flex items-center space-x-1 text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsxs("span",{children:["Auto-saved ",P&&`at ${P.toLocaleTimeString()}`]})]}),b==="error"&&r.jsxs("div",{className:"flex items-center space-x-1 text-red-600 dark:text-red-400",children:[r.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"}),r.jsx("span",{children:"Save failed"})]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:q,onChange:K=>M(K.target.value),onKeyDown:ir,"data-field":"date",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${_&&V.party?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:["Party ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(pt,{value:J,onChange:ae,placeholder:"Search party...",searchData:d,onSelect:gt,onKeyDown:ir,createRoute:"/create-party",entityType:"party","data-field":"party",className:_&&V.party?"border-red-500 dark:border-red-400":""})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:["Total Box ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:Q,onChange:K=>ie(K.target.value),onKeyDown:ir,"data-field":"totalBox",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${_&&V.totalBox?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:["Salesman ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(pt,{value:j,onChange:F,placeholder:"Search salesman...",searchData:m,onSelect:ne,onKeyDown:ir,createRoute:"/create-salesman",entityType:"salesman","data-field":"salesman",className:_&&V.salesman?"border-red-500 dark:border-red-400":""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Entry Number"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"1",value:de,onChange:fa,onKeyDown:ir,"data-field":"entryNumber",disabled:!q||!J||!j||!Q,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${!q||!J||!j||!Q?"border-gray-200 dark:border-gray-500 bg-gray-50 dark:bg-gray-600 text-gray-400 dark:text-gray-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),r.jsx("button",{type:"button",onClick:()=>{const U=(parseInt(de)||0)+1;me(U.toString()),U>0&&q&&J&&j&&Q&&Vr(U.toString())},disabled:!q||!J||!j||!Q,className:"absolute right-4 top-1/2 transform -translate-y-1/2 px-1 py-0.5 bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-500 disabled:bg-gray-50 dark:disabled:bg-gray-600 disabled:text-gray-400 dark:disabled:text-gray-500 disabled:cursor-not-allowed rounded text-sm",title:"Increase entry number",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]})]})}),r.jsx("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-700 border-t border-b border-gray-200 dark:border-gray-600 my-2",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex justify-end items-center space-x-8",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-2",children:"Grand Total Box:"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Ke()})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mr-2",children:"Total Amount:"}),r.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["",Ae()]})]})]})})}),r.jsx("div",{className:"flex-1 overflow-y-auto mt-2",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200 min-w-[220px]",children:["Customer ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:["Box ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"KG"}),r.jsxs("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:["Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200 min-w-[220px]",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 sm:px-4 py-1 sm:py-2 text-left text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-200",children:"Remark"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200",children:"Action"})]})}),r.jsx("tbody",{children:le.map(K=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 min-w-[220px]",children:r.jsx(pt,{value:K.customer,onChange:U=>ge(K.id,"customer",U),placeholder:"Search customer...",searchData:l,onSelect:U=>Ce(K.id,U),onKeyDown:U=>dr(U,K.id),createRoute:"/create-customer",entityType:"customer",className:`w-full ${_&&V[`item-${le.indexOf(K)}-customer`]?"border-red-500 dark:border-red-400":""}`,"data-field":"customer","data-item-id":K.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",step:"1",value:K.box,onChange:U=>ge(K.id,"box",U.target.value),onKeyDown:U=>dr(U,K.id),"data-item-id":K.id,"data-field":"box",className:`w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${_&&V[`item-${le.indexOf(K)}-boxorkg`]?"border-red-500 dark:border-red-400 rounded":""}`,placeholder:"0"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",step:"0.01",value:K.kg,onChange:U=>ge(K.id,"kg",U.target.value),onKeyDown:U=>dr(U,K.id),"data-item-id":K.id,"data-field":"kg",className:`w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${_&&V[`item-${le.indexOf(K)}-boxorkg`]?"border-red-500 dark:border-red-400 rounded":""}`,placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"number",step:"0.01",value:K.price,onChange:U=>ge(K.id,"price",U.target.value),onKeyDown:U=>dr(U,K.id),"data-item-id":K.id,"data-field":"price",className:`w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${_&&V[`item-${le.indexOf(K)}-price`]?"border-red-500 dark:border-red-400 rounded":""}`,placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"text",value:K.total,readOnly:!0,className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 min-w-[220px]",children:r.jsx(pt,{value:K.item,onChange:U=>ge(K.id,"item",U),placeholder:"Search item...",searchData:x,onSelect:U=>Re(K.id,U),onKeyDown:U=>dr(U,K.id),createRoute:"/create-item",entityType:"item",className:`w-full ${_&&V[`item-${le.indexOf(K)}-price`]?"border-red-500 dark:border-red-400":""}`,"data-field":"item","data-item-id":K.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2",children:r.jsx("input",{type:"text",value:K.remark,onChange:U=>ge(K.id,"remark",U.target.value),onKeyDown:U=>dr(U,K.id),"data-item-id":K.id,"data-field":"remark",className:"w-full px-2 py-1 border-none focus:ring-2 focus:ring-blue-500 focus:outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Remark"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:r.jsx("button",{onClick:()=>xe(K.id),disabled:le.length===1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(At,{className:"w-4 h-4"})})})]},K.id))})]})})}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 dark:border-gray-600 flex-shrink-0 mt-4",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:oe,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Row"})]}),r.jsxs("button",{onClick:qa,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 dark:hover:bg-purple-500 transition-all",children:[r.jsx(Hi,{className:"w-4 h-4"}),r.jsx("span",{children:"Preview/F2"})]})]}),r.jsxs("button",{onClick:qr,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all",children:[r.jsx(Ua,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Entry"})]})]})]})})]}),r.jsx(xy,{isOpen:y,onClose:()=>v(!1),formData:{date:q,party:J,totalBox:Q,entryNumber:de,salesman:j,items:le,totalAmount:Ae()},parties:d,salesmenList:m,customers:l,products:x})]})},hy=async n=>{const l={};n?.from&&(l.from=n.from),n?.to&&(l.to=n.to),n?.salesman&&(l.salesman=n.salesman),l.page=n?.page??1,l.pageSize=n?.pageSize??25;const o=await Pe.get("/api/summary",{params:l});return console.log(o),o.data},yy=async n=>(await Pe.delete(`/api/summary/${encodeURIComponent(String(n))}`)).data,by=async(n,l)=>(await Pe.put(`/api/summary/${encodeURIComponent(String(n))}`,l)).data,vy=({isOpen:n,onClose:l,entry:o,onSave:d,onDelete:c,parties:m,salesmenList:f,products:x,customers:g})=>{const[y,v]=p.useState(null);if(p.useEffect(()=>{if(o){const k=m.find(L=>L.name===o.party)?.id||o.party,C=f.find(L=>L.name===o.salesman)?.id||o.salesman,S=o.items.map(L=>{const V=x.find(_=>_.name===L.item)?.id||L.item,R=g.find(_=>_.name===(L.customer||""))?.id||L.customer||"";return{...L,item:V,customer:R}});v({...o,party:k,salesman:C,items:S})}},[o,m,f,x,g]),!n||!y)return null;const b=(k,C)=>{v(S=>S?{...S,[k]:C}:null)},T=(k,C,S)=>{v(L=>{if(!L)return null;const V=L.items.map(R=>{if(R.id===k){const _={...R,[C]:S};if(C==="box"||C==="price"){const Y=parseFloat(C==="box"?S:_.box)||0,se=parseFloat(C==="price"?S:_.price)||0;_.total=(Y*se).toFixed(2)}return _}return R});return{...L,items:V}})},P=(k,C,S)=>{if(k.key==="Enter"){k.preventDefault();const L=y?.items.findIndex(V=>V.id===C)??-1;if(L===-1)return;if(S==="item")setTimeout(()=>{document.querySelector(`input[data-item-id="${C}"][data-field="box"]`)?.focus()},0);else if(S==="box")setTimeout(()=>{document.querySelector(`input[data-item-id="${C}"][data-field="price"]`)?.focus()},0);else if(S==="price")if(L>0){const V=y.items[L-1];V&&setTimeout(()=>{const R=document.querySelector(`[data-item-id="${V.id}"][data-field="item"]`);R&&R.querySelector("input")?.focus()},0)}else{const V=D();V&&setTimeout(()=>{const R=document.querySelector(`[data-item-id="${V}"][data-field="item"]`);R&&R.querySelector("input")?.focus()},0)}}},N=k=>{y&&(y.items.length<=1||v(C=>C?{...C,items:C.items.filter(S=>S.id!==k)}:null))},D=()=>{if(!y)return null;const k={id:crypto.randomUUID(),item:"",customer:"",box:"",kg:"",price:"",total:""};return v(C=>C?{...C,items:[k,...C.items]}:null),k.id},w=()=>{if(!y)return;const k=(y.items||[]).reduce((S,L)=>{const V=parseFloat(String(L.total||"0"))||0;return S+V},0),C={...y,totalAmount:String(k.toFixed(2))};d(C),l()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Sales Entry"}),r.jsx("button",{onClick:l,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:y.date,onChange:k=>b("date",k.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx(pt,{value:y.party,onChange:k=>b("party",k),placeholder:"Search Party",searchData:m,onSelect:()=>{},createRoute:"/create-party",entityType:"party"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Total Box"}),r.jsx("input",{type:"number",value:y.totalBox,onChange:k=>b("totalBox",k.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Salesman"}),r.jsx(pt,{value:y.salesman,onChange:k=>b("salesman",k),placeholder:"Search Salesman",searchData:f,onSelect:()=>{},createRoute:"/create-salesman",entityType:"salesman"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-500 transition-all",children:[r.jsx(da,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Row"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>o&&c(o),className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]}),r.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:w,className:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[r.jsx(Ua,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"kg"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Price"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Action"})]})}),r.jsx("tbody",{children:y.items.map(k=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:k.customer||"",onChange:C=>T(k.id,"customer",C),placeholder:"Search Customer",searchData:g,onSelect:C=>T(k.id,"customer",C.id),createRoute:"/create-customer",entityType:"customer","data-field":"customer","data-item-id":k.id,onKeyDown:C=>{C.key==="Enter"&&!C.defaultPrevented&&setTimeout(()=>{document.querySelector(`input[data-item-id="${k.id}"][data-field="box"]`)?.focus()},0)}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx(pt,{value:k.item,onChange:C=>T(k.id,"item",C),placeholder:"Search Item",searchData:x,onSelect:C=>T(k.id,"item",C.id),createRoute:"/create-item",entityType:"item","data-field":"item","data-item-id":k.id,onKeyDown:C=>{C.key==="Enter"&&!C.defaultPrevented?setTimeout(()=>{document.querySelector(`input[data-item-id="${k.id}"][data-field="box"]`)?.focus()},0):P(C,k.id,"item")}})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",value:k.box,onChange:C=>T(k.id,"box",C.target.value),onKeyDown:C=>P(C,k.id,"box"),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0","data-field":"box","data-item-id":k.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",step:"0.01",value:k.kg,onChange:C=>T(k.id,"kg",C.target.value),onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),setTimeout(()=>{document.querySelector(`input[data-item-id="${k.id}"][data-field="price"]`)?.focus()},0))},className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0.00","data-field":"kg","data-item-id":k.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"number",step:"0.01",value:k.price,onChange:C=>T(k.id,"price",C.target.value),onKeyDown:C=>P(C,k.id,"price"),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0.00","data-field":"price","data-item-id":k.id})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2",children:r.jsx("input",{type:"text",value:k.total,readOnly:!0,className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"0.00"})}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-center",children:r.jsx("button",{onClick:()=>N(k.id),disabled:y?.items.length<=1,className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove Row",children:r.jsx(ua,{className:"w-4 h-4"})})})]},k.id))})]})})]})]})})},wy=()=>{const n=kt(),[l,o]=p.useState([]),[d,c]=p.useState([]),[m,f]=p.useState(null),[x,g]=p.useState(null),[y,v]=p.useState(null),[b,T]=p.useState(null),[P,N]=p.useState(new Date().toISOString().split("T")[0]),[D,w]=p.useState(new Date().toISOString().split("T")[0]),[k,C]=p.useState(""),[S,L]=p.useState([]),[V,R]=p.useState([]),[_,Y]=p.useState([]),[se,ve]=p.useState([]),[we,te]=p.useState(1),[W]=p.useState(25),[ke,ye]=p.useState(null),[je,q]=p.useState(0),M=l.filter(z=>{const oe=new Date(z.date).setHours(0,0,0,0),xe=P?new Date(P).setHours(0,0,0,0):null,ge=D?new Date(D).setHours(0,0,0,0):null;let Ce=!0;xe&&ge&&xe===ge||xe&&!ge?Ce=oe===xe:!xe&&ge?Ce=oe===ge:xe&&ge&&(Ce=oe>=xe&&oe<=ge);const Re=!k||z.salesman.toLowerCase().includes(k.toLowerCase());return Ce&&Re});d.filter(z=>{const oe=new Date(z.date).setHours(0,0,0,0),xe=P?new Date(P).setHours(0,0,0,0):null,ge=D?new Date(D).setHours(0,0,0,0):null;let Ce=!0;return xe&&ge&&xe===ge||xe&&!ge?Ce=oe===xe:!xe&&ge?Ce=oe===ge:xe&&ge&&(Ce=oe>=xe&&oe<=ge),Ce});const J=Math.ceil(M.length/W),ae=(we-1)*W,j=ae+W,F=M.slice(ae,j);p.useEffect(()=>{P&&!D&&w(P)},[P,D]),p.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){n("/login");return}let oe=!1;const xe=500,ge=async()=>{try{const[Re,gt,ne,Ae]=await Promise.all([Je("parties",{page:1,pageSize:xe}),Je("salesmen",{page:1,pageSize:xe}),Je("customers",{page:1,pageSize:xe}),Je("products",{page:1,pageSize:xe})]);if(oe)return;Array.isArray(Re.data)&&L(Re.data.map(Ke=>({id:String(Ke.id),name:Ke.name}))),Array.isArray(gt.data)&&R(gt.data.map(Ke=>({id:String(Ke.id),name:Ke.name}))),Array.isArray(ne.data)&&Y(ne.data.map(Ke=>({id:String(Ke.id),name:Ke.name}))),Array.isArray(Ae.data)&&ve(Ae.data.map(Ke=>({id:String(Ke.id),name:Ke.name})))}catch(Re){console.error("Error loading lookups",Re),oe||T({message:"Failed loading lookup data",type:"error"})}},Ce=async()=>{try{const Re=await hy({from:P||void 0,to:D||void 0,salesman:k||void 0,page:we,pageSize:W});if(oe)return;const gt=(Re.data||[]).map(ne=>{const Ae=Array.isArray(ne.items)?ne.items.map(Me=>({id:String(Me.id??crypto.randomUUID()),item:Me.product_name??Me.productName??Me.item??"",box:Me.box!=null?String(Me.box):"",kg:Me.kg!=null?String(Me.kg):"",price:Me.price!=null?String(Me.price):"",total:Me.total!=null?String(Me.total):"",customer:Me.customer_name??Me.customerName??Me.customer??""})):[],Ke=ne.load_number_string??ne.loadNumberString??null;return{id:String(ne.id),date:ne.date,party:ne.party_name??ne.partyName??ne.party??"",totalBox:String(ne.total_box??ne.totalBox??0),salesman:ne.salesman_name??ne.salesmanName??ne.salesman??"",items:Ae,totalAmount:String(ne.total_amount??ne.totalAmount??0),createdAt:ne.created_at??ne.createdAt??"",load_number:ne.load_number??ne.loadNumber??null,load_number_string:Ke??(ne.load_number?Ke(ne.load_number):null)}});o(gt),q(Re.totalCount??0),Re.summary?ye({totalSaleAmount:Re.summary.totalSaleAmount??Re.summary.totalSaleAmount??0,boxesAdded:Re.summary.boxesAdded??Re.summary.boxesAdded??0,boxesSold:Re.summary.boxesSold??Re.summary.boxesSold??0}):ye(null)}catch(Re){console.error("Error loading sales:",Re),oe||T({message:"Failed loading sales",type:"error"})}};return ge(),Ce(),()=>{oe=!0}},[n,P,D,k,we,W]);const Q=z=>f(z),ie=()=>f(null),de=z=>{g(z)},me=()=>{g(null)},le=z=>{v(z)},be=()=>{v(null)},Fe=async()=>{if(y)try{await yy(y.id),o(z=>z.filter(oe=>oe.id!==y.id)),T({message:"Sales entry deleted successfully!",type:"success"}),be(),me()}catch(z){console.error("Error deleting sales entry:",z),T({message:"Error deleting sales entry",type:"error"})}},rt=async z=>{try{const oe=Object.fromEntries(S.map(ne=>[ne.id,ne.name])),xe=Object.fromEntries(V.map(ne=>[ne.id,ne.name])),ge=Object.fromEntries(se.map(ne=>[ne.id,ne.name])),Ce=Object.fromEntries(_.map(ne=>[ne.id,ne.name])),Re={date:z.date,partyName:z.party,salesmanName:z.salesman,totalBox:parseInt(z.totalBox||"0",10),entryNumber:z.load_number??void 0,totalAmount:(z.items||[]).reduce((ne,Ae)=>ne+(parseFloat(Ae.total||"0")||0),0),items:(z.items||[]).map(ne=>({customerName:ne.customer||ne.customerName||null,productName:ne.item||ne.productName||null,box:ne.box!==""&&ne.box!=null?parseInt(String(ne.box),10):0,kg:ne.kg!==""&&ne.kg!=null?Number(ne.kg):0,price:ne.price!==""&&ne.price!=null?parseFloat(String(ne.price)):0,total:ne.total!==""&&ne.total!=null?parseFloat(String(ne.total)):0,remark:ne.remark??null}))};console.log(z.id,Re,"id,payload"),await by(z.id,Re);const gt={...z,party:oe[z.party]??String(z.party),salesman:xe[z.salesman]??String(z.salesman),items:(z.items||[]).map(ne=>({...ne,item:ge[ne.item]??String(ne.item),customer:ne.customer?Ce[ne.customer]??String(ne.customer):ne.customer}))};o(ne=>ne.map(Ae=>Ae.id===z.id?gt:Ae)),T({message:"Sales entry updated successfully!",type:"success"}),me()}catch(oe){console.error("Error updating sales entry:",oe);const xe=oe?.response?.data?.message||oe?.message||"Error updating sales entry";T({message:xe,type:"error"})}};return p.useEffect(()=>{if(b){const z=setTimeout(()=>{T(null)},3e3);return()=>clearTimeout(z)}},[b]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),b&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg border ${b.type==="success"?"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[b.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:b.message})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Summary"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"Salesman:"}),r.jsx("input",{type:"text",value:k,onChange:z=>{C(z.target.value),te(1)},placeholder:"Search salesman...",className:"min-w-[120px] md:min-w-[150px] px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"From:"}),r.jsx("input",{type:"date",value:P,onChange:z=>{N(z.target.value),te(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{children:"To:"}),r.jsx("input",{type:"date",value:D,onChange:z=>{w(z.target.value),te(1)},className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(pl,{className:"w-4 h-4"}),r.jsxs("span",{children:[M.length," entries found"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[r.jsxs("span",{children:["Page ",we," of ",J]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>te(z=>Math.max(z-1,1)),disabled:we===1,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),r.jsx("button",{onClick:()=>te(z=>Math.min(z+1,J)),disabled:we===J,className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:""})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Total Sale"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["",M.reduce((z,oe)=>z+(parseFloat(oe.totalAmount)||0),0).toFixed(2)]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Total amount from ",M.length," entries"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Added"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:M.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total of Total Box column"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Boxes Sold"}),r.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:M.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total boxes sold (from items)"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Current Balance"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:M.reduce((z,oe)=>z+(parseInt(oe.totalBox)||0),0)-M.reduce((z,oe)=>z+oe.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0),0)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Boxes available (Added - Sold)"})]})]}),M.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(pl,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No sales entries found."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600 table-fixed",style:{minWidth:"900px"},children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Load No"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-24",children:"Date"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-32",children:"Party"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Total Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-20",children:"Boxes Sold"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-32",children:"Salesman"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-32",children:"Total Amount"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-24",children:"Action"})]})}),r.jsx("tbody",{children:F.map((z,oe)=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white truncate",children:z.load_number_string||z.id}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:new Date(z.date).toLocaleDateString()}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white truncate",title:z.party,children:z.party}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.totalBox}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:z.items.reduce((xe,ge)=>xe+(parseInt(ge.box)||0),0)}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white truncate",title:z.salesman,children:z.salesman}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:["",z.totalAmount]}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>Q(z),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",title:"View Details",children:r.jsx(Hi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>de(z),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 transition-colors",title:"Edit Entry",children:r.jsx(Ha,{className:"w-4 h-4"})})]})})]},z.id))})]})})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sales Entry Details"}),r.jsx("button",{onClick:ie,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Date"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(m.date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Party"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:m.party})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Total Box"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:m.totalBox})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Salesman"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:m.salesman})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Customer"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Item"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Box"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"kg"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Price"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Total"})]})}),r.jsx("tbody",{children:m.items.map(z=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.customer||"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.item}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.box}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:z.kg}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",z.price]}),r.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-900 dark:text-white",children:["",z.total]})]},z.id))})]})})]})]})}),r.jsx(vy,{isOpen:!!x,onClose:me,entry:x,onSave:rt,onDelete:le,parties:S,salesmenList:V,products:se,customers:_}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Sales Entry"}),r.jsx("button",{onClick:be,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Are you sure you want to delete this entry?"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["This action cannot be undone. This will permanently delete the sales entry for"," ",r.jsx("span",{className:"font-medium",children:y.party})," on"," ",r.jsx("span",{className:"font-medium",children:new Date(y.date).toLocaleDateString()}),"."]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:be,className:"px-4 py-2 bg-gray-600 dark:bg-gray-500 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:Fe,className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors flex items-center space-x-2",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entry"})]})]})]})]})})]})]})};let ky={data:""},jy=n=>{if(typeof window=="object"){let l=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(n||document.head).appendChild(l),l.firstChild}return n||ky},Ny=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Sy=/\/\*[^]*?\*\/|  +/g,y0=/\n+/g,Ur=(n,l)=>{let o="",d="",c="";for(let m in n){let f=n[m];m[0]=="@"?m[1]=="i"?o=m+" "+f+";":d+=m[1]=="f"?Ur(f,m):m+"{"+Ur(f,m[1]=="k"?"":l)+"}":typeof f=="object"?d+=Ur(f,l?l.replace(/([^,])+/g,x=>m.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,x):x?x+" "+g:g)):m):f!=null&&(m=/^--/.test(m)?m:m.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=Ur.p?Ur.p(m,f):m+":"+f+";")}return o+(l&&c?l+"{"+c+"}":c)+d},yr={},dm=n=>{if(typeof n=="object"){let l="";for(let o in n)l+=o+dm(n[o]);return l}return n},Ey=(n,l,o,d,c)=>{let m=dm(n),f=yr[m]||(yr[m]=(g=>{let y=0,v=11;for(;y<g.length;)v=101*v+g.charCodeAt(y++)>>>0;return"go"+v})(m));if(!yr[f]){let g=m!==n?n:(y=>{let v,b,T=[{}];for(;v=Ny.exec(y.replace(Sy,""));)v[4]?T.shift():v[3]?(b=v[3].replace(y0," ").trim(),T.unshift(T[0][b]=T[0][b]||{})):T[0][v[1]]=v[2].replace(y0," ").trim();return T[0]})(n);yr[f]=Ur(c?{["@keyframes "+f]:g}:g,o?"":"."+f)}let x=o&&yr.g?yr.g:null;return o&&(yr.g=yr[f]),((g,y,v,b)=>{b?y.data=y.data.replace(b,g):y.data.indexOf(g)===-1&&(y.data=v?g+y.data:y.data+g)})(yr[f],l,d,x),f},Cy=(n,l,o)=>n.reduce((d,c,m)=>{let f=l[m];if(f&&f.call){let x=f(o),g=x&&x.props&&x.props.className||/^go/.test(x)&&x;f=g?"."+g:x&&typeof x=="object"?x.props?"":Ur(x,""):x===!1?"":x}return d+c+(f??"")},"");function Rl(n){let l=this||{},o=n.call?n(l.p):n;return Ey(o.unshift?o.raw?Cy(o,[].slice.call(arguments,1),l.p):o.reduce((d,c)=>Object.assign(d,c&&c.call?c(l.p):c),{}):o,jy(l.target),l.g,l.o,l.k)}let cm,_i,Ii;Rl.bind({g:1});let wr=Rl.bind({k:1});function Dy(n,l,o,d){Ur.p=l,cm=n,_i=o,Ii=d}function Wr(n,l){let o=this||{};return function(){let d=arguments;function c(m,f){let x=Object.assign({},m),g=x.className||c.className;o.p=Object.assign({theme:_i&&_i()},x),o.o=/ *go\d+/.test(g),x.className=Rl.apply(o,d)+(g?" "+g:"");let y=n;return n[0]&&(y=x.as||n,delete x.as),Ii&&y[0]&&Ii(x),cm(y,x)}return c}}var Ry=n=>typeof n=="function",gl=(n,l)=>Ry(n)?n(l):n,Ty=(()=>{let n=0;return()=>(++n).toString()})(),um=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");n=!l||l.matches}return n}})(),Py=20,Ji="default",mm=(n,l)=>{let{toastLimit:o}=n.settings;switch(l.type){case 0:return{...n,toasts:[l.toast,...n.toasts].slice(0,o)};case 1:return{...n,toasts:n.toasts.map(f=>f.id===l.toast.id?{...f,...l.toast}:f)};case 2:let{toast:d}=l;return mm(n,{type:n.toasts.find(f=>f.id===d.id)?1:0,toast:d});case 3:let{toastId:c}=l;return{...n,toasts:n.toasts.map(f=>f.id===c||c===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return l.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(f=>f.id!==l.toastId)};case 5:return{...n,pausedAt:l.time};case 6:let m=l.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+m}))}}},ml=[],fm={toasts:[],pausedAt:void 0,settings:{toastLimit:Py}},or={},pm=(n,l=Ji)=>{or[l]=mm(or[l]||fm,n),ml.forEach(([o,d])=>{o===l&&d(or[l])})},xm=n=>Object.keys(or).forEach(l=>pm(n,l)),_y=n=>Object.keys(or).find(l=>or[l].toasts.some(o=>o.id===n)),Tl=(n=Ji)=>l=>{pm(l,n)},Iy={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ly=(n={},l=Ji)=>{let[o,d]=p.useState(or[l]||fm),c=p.useRef(or[l]);p.useEffect(()=>(c.current!==or[l]&&d(or[l]),ml.push([l,d]),()=>{let f=ml.findIndex(([x])=>x===l);f>-1&&ml.splice(f,1)}),[l]);let m=o.toasts.map(f=>{var x,g,y;return{...n,...n[f.type],...f,removeDelay:f.removeDelay||((x=n[f.type])==null?void 0:x.removeDelay)||n?.removeDelay,duration:f.duration||((g=n[f.type])==null?void 0:g.duration)||n?.duration||Iy[f.type],style:{...n.style,...(y=n[f.type])==null?void 0:y.style,...f.style}}});return{...o,toasts:m}},By=(n,l="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...o,id:o?.id||Ty()}),Wn=n=>(l,o)=>{let d=By(l,n,o);return Tl(d.toasterId||_y(d.id))({type:2,toast:d}),d.id},it=(n,l)=>Wn("blank")(n,l);it.error=Wn("error");it.success=Wn("success");it.loading=Wn("loading");it.custom=Wn("custom");it.dismiss=(n,l)=>{let o={type:3,toastId:n};l?Tl(l)(o):xm(o)};it.dismissAll=n=>it.dismiss(void 0,n);it.remove=(n,l)=>{let o={type:4,toastId:n};l?Tl(l)(o):xm(o)};it.removeAll=n=>it.remove(void 0,n);it.promise=(n,l,o)=>{let d=it.loading(l.loading,{...o,...o?.loading});return typeof n=="function"&&(n=n()),n.then(c=>{let m=l.success?gl(l.success,c):void 0;return m?it.success(m,{id:d,...o,...o?.success}):it.dismiss(d),c}).catch(c=>{let m=l.error?gl(l.error,c):void 0;m?it.error(m,{id:d,...o,...o?.error}):it.dismiss(d)}),n};var Fy=1e3,Ay=(n,l="default")=>{let{toasts:o,pausedAt:d}=Ly(n,l),c=p.useRef(new Map).current,m=p.useCallback((b,T=Fy)=>{if(c.has(b))return;let P=setTimeout(()=>{c.delete(b),f({type:4,toastId:b})},T);c.set(b,P)},[]);p.useEffect(()=>{if(d)return;let b=Date.now(),T=o.map(P=>{if(P.duration===1/0)return;let N=(P.duration||0)+P.pauseDuration-(b-P.createdAt);if(N<0){P.visible&&it.dismiss(P.id);return}return setTimeout(()=>it.dismiss(P.id,l),N)});return()=>{T.forEach(P=>P&&clearTimeout(P))}},[o,d,l]);let f=p.useCallback(Tl(l),[l]),x=p.useCallback(()=>{f({type:5,time:Date.now()})},[f]),g=p.useCallback((b,T)=>{f({type:1,toast:{id:b,height:T}})},[f]),y=p.useCallback(()=>{d&&f({type:6,time:Date.now()})},[d,f]),v=p.useCallback((b,T)=>{let{reverseOrder:P=!1,gutter:N=8,defaultPosition:D}=T||{},w=o.filter(S=>(S.position||D)===(b.position||D)&&S.height),k=w.findIndex(S=>S.id===b.id),C=w.filter((S,L)=>L<k&&S.visible).length;return w.filter(S=>S.visible).slice(...P?[C+1]:[0,C]).reduce((S,L)=>S+(L.height||0)+N,0)},[o]);return p.useEffect(()=>{o.forEach(b=>{if(b.dismissed)m(b.id,b.removeDelay);else{let T=c.get(b.id);T&&(clearTimeout(T),c.delete(b.id))}})},[o,m]),{toasts:o,handlers:{updateHeight:g,startPause:x,endPause:y,calculateOffset:v}}},Oy=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zy=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,My=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$y=Wr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Oy} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zy} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${My} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Uy=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Hy=Wr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Uy} 1s linear infinite;
`,Wy=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Vy=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qy=Wr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wy} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Vy} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ky=Wr("div")`
  position: absolute;
`,Qy=Wr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Yy=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jy=Wr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yy} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Xy=({toast:n})=>{let{icon:l,type:o,iconTheme:d}=n;return l!==void 0?typeof l=="string"?p.createElement(Jy,null,l):l:o==="blank"?null:p.createElement(Qy,null,p.createElement(Hy,{...d}),o!=="loading"&&p.createElement(Ky,null,o==="error"?p.createElement($y,{...d}):p.createElement(qy,{...d})))},Gy=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zy=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,eb="0%{opacity:0;} 100%{opacity:1;}",tb="0%{opacity:1;} 100%{opacity:0;}",rb=Wr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ab=Wr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nb=(n,l)=>{let o=n.includes("top")?1:-1,[d,c]=um()?[eb,tb]:[Gy(o),Zy(o)];return{animation:l?`${wr(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sb=p.memo(({toast:n,position:l,style:o,children:d})=>{let c=n.height?nb(n.position||l||"top-center",n.visible):{opacity:0},m=p.createElement(Xy,{toast:n}),f=p.createElement(ab,{...n.ariaProps},gl(n.message,n));return p.createElement(rb,{className:n.className,style:{...c,...o,...n.style}},typeof d=="function"?d({icon:m,message:f}):p.createElement(p.Fragment,null,m,f))});Dy(p.createElement);var lb=({id:n,className:l,style:o,onHeightUpdate:d,children:c})=>{let m=p.useCallback(f=>{if(f){let x=()=>{let g=f.getBoundingClientRect().height;d(n,g)};x(),new MutationObserver(x).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[n,d]);return p.createElement("div",{ref:m,className:l,style:o},c)},ob=(n,l)=>{let o=n.includes("top"),d=o?{top:0}:{bottom:0},c=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:um()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(o?1:-1)}px)`,...d,...c}},ib=Rl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rl=16,db=({reverseOrder:n,position:l="top-center",toastOptions:o,gutter:d,children:c,toasterId:m,containerStyle:f,containerClassName:x})=>{let{toasts:g,handlers:y}=Ay(o,m);return p.createElement("div",{"data-rht-toaster":m||"",style:{position:"fixed",zIndex:9999,top:rl,left:rl,right:rl,bottom:rl,pointerEvents:"none",...f},className:x,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(v=>{let b=v.position||l,T=y.calculateOffset(v,{reverseOrder:n,gutter:d,defaultPosition:l}),P=ob(b,T);return p.createElement(lb,{id:v.id,key:v.id,onHeightUpdate:y.updateHeight,className:v.visible?ib:"",style:P},v.type==="custom"?gl(v.message,v):c?c(v):p.createElement(sb,{toast:v,position:b}))}))},st=it;const al="products",cb=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[g,y]=p.useState(1),[v,b]=p.useState(0),[T,P]=p.useState(!1),[N,D]=p.useState(!1),w=10,k=async(R=g)=>{try{P(!0);const _=await Je(al,{page:R,pageSize:w});d(_.data||[]),b(_.totalCount||0),y(_.page||R)}catch(_){console.error("Error fetching items:",_),st.error("Failed to load items")}finally{P(!1)}};p.useEffect(()=>{k(g)},[g]);const C=async()=>{if(n.trim())try{D(!0),await El(al,{name:n.trim()}),l(""),await k(1),y(1),st.success("Item added successfully!")}catch(R){console.error("Error saving item:",R),st.error(R?.message||"Error saving item")}finally{D(!1)}},S=R=>{m(R.id),x(R.name)},L=async R=>{if(f.trim())try{D(!0),await Cl(al,R,{name:f.trim()}),m(null),x(""),await k(),st.success("Item updated successfully!")}catch(_){console.error("Error updating item:",_),st.error(_?.message||"Error updating item")}finally{D(!1)}},V=R=>{st(_=>r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("span",{children:"Are you sure you want to delete this item?"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:async()=>{try{D(!0),await Dl(al,R);const Y=Math.max(0,v-1),se=Math.max(1,Math.ceil(Y/w));g>se&&y(se),await k(),st.success("Item deleted successfully!")}catch(Y){console.error("Error deleting item:",Y),st.error(Y?.message||"Error deleting item")}finally{D(!1)}st.dismiss(_.id)},className:"bg-red-600 dark:bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors",children:"Delete"}),r.jsx("button",{onClick:()=>st.dismiss(_.id),className:"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})]}),{duration:1/0,position:"top-center",style:{transform:"translateY(50vh) translateX(-50%)",left:"50%",top:"50%",minWidth:"200px",padding:"16px",textAlign:"center",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})};return r.jsxs(r.Fragment,{children:[r.jsx(db,{position:"top-right",reverseOrder:!1}),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Item"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:R=>{R.preventDefault(),C()},children:[r.jsx("input",{type:"text",placeholder:"Item name",value:n,onChange:R=>l(R.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"ID"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:T?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No items found"})}):o.map(R=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:R.id}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===R.id?r.jsx("input",{type:"text",value:f,onChange:_=>x(_.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):R.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:R.created_at?new Date(R.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===R.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(R.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(vl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(ua,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(R),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Ha,{size:18})}),r.jsx("button",{onClick:()=>V(R.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(R.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:g===1||T,onClick:()=>y(R=>Math.max(1,R-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",g," of ",Math.max(1,Math.ceil(v/w))]}),r.jsx("button",{disabled:g*w>=v||T,onClick:()=>y(R=>R+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})]})},nl="parties",ub=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[g,y]=p.useState(1),[v,b]=p.useState(0),[T,P]=p.useState(!1),[N,D]=p.useState(!1),w=10,k=async(R=g)=>{try{P(!0);const _=await Je(nl,{page:R,pageSize:w});d(_.data||[]),b(_.totalCount||0),y(_.page||R)}catch(_){console.error("Error fetching parties:",_)}finally{P(!1)}};p.useEffect(()=>{k(g)},[g]);const C=async()=>{if(n.trim())try{D(!0),await El(nl,{name:n.trim()}),l(""),await k(1),y(1)}catch(R){console.error("Error saving party:",R),R?.message&&alert(R.message)}finally{D(!1)}},S=R=>{m(R.id),x(R.name)},L=async R=>{if(f.trim())try{D(!0),await Cl(nl,R,{name:f.trim()}),m(null),x(""),await k()}catch(_){console.error("Error updating party:",_),_?.message&&alert(_.message)}finally{D(!1)}},V=async R=>{if(window.confirm("Are you sure you want to delete this party?"))try{D(!0),await Dl(nl,R);const _=Math.max(0,v-1),Y=Math.max(1,Math.ceil(_/w));g>Y&&y(Y),await k()}catch(_){console.error("Error deleting party:",_),_?.message&&alert(_.message)}finally{D(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Party"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:R=>{R.preventDefault(),C()},children:[r.jsx("input",{type:"text",placeholder:"Party name",value:n,onChange:R=>l(R.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:T?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No parties found"})}):o.map(R=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:R.created_at?new Date(R.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===R.id?r.jsx("input",{type:"text",value:f,onChange:_=>x(_.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):R.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===R.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(R.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(vl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(ua,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(R),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Ha,{size:18})}),r.jsx("button",{onClick:()=>V(R.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(R.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:g===1||T,onClick:()=>y(R=>Math.max(1,R-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",g," of ",Math.max(1,Math.ceil(v/w))]}),r.jsx("button",{disabled:g*w>=v||T,onClick:()=>y(R=>R+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})},Xi=({children:n,title:l})=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"print:hidden",children:n}),r.jsxs("div",{className:"hidden print:block print:p-4 print:text-black print:bg-white print:overflow-visible print:max-w-full print:m-0 print:shadow-none print:border print:border-black print:rounded-none",children:[r.jsxs("div",{className:"print-header text-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Fishow"}),r.jsx("h2",{className:"text-lg font-semibold",children:l}),r.jsx("div",{className:"border-b-2 border-black mt-4"})]}),r.jsx("div",{className:"print-content overflow-visible max-w-full m-0 shadow-none border border-black rounded-none",children:n}),r.jsx("div",{className:"print-footer text-center mt-6 text-sm",children:r.jsx("div",{className:"border-t-2 border-black pt-2",children:"Thank you for your business!"})})]})]});async function mb(n){const{data:l}=await Pe.get("/api/ledger/collection",{params:{date:n}});return console.log(l,"get result ledger"),l}async function fb(n){console.log(n,"ledger payload");const{data:l}=await Pe.post("/api/ledger/collection",n);return l}async function gm(n){const{data:l}=await Pe.get("/api/daily/summary",{params:{date:n}});return l}async function pb(n){const{data:l}=await Pe.get("/api/sales-register/register",{params:{date:n}});return l}const xb=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1),[m,f]=p.useState({}),[x,g]=p.useState({}),[y,v]=p.useState("");p.useEffect(()=>{n&&(async()=>{c(!0);try{const{rows:w}=await mb(n);o(w);const k={},C={};for(const S of w){const L=typeof S.customer=="object"&&S.customer!==null?S.customer.id??S.customer.name:S.customer;S.paid&&(k[L]=Number(S.paid)||0),S.discount&&(C[L]=Number(S.discount)||0)}f(k),g(C)}catch(w){console.error(w)}finally{c(!1)}})()},[n]);const b=l.reduce((w,k)=>w+k.opening,0),T=l.reduce((w,k)=>w+k.todaysAmount,0),P=Object.values(m).reduce((w,k)=>w+(k??0),0),N=Object.values(x).reduce((w,k)=>w+(k??0),0),D=async()=>{try{const k=l.map(C=>{const S=typeof C.customer=="object"&&C.customer!==null?C.customer:{id:null,name:String(C.customer)},L=String(S.id??S.name);return{customerId:S.id??null,paid:Number(m[L]??0),discount:Number(x[L]??0)}}).filter(C=>C.customerId!==null);console.log(k,"ledger input"),await fb({date:n,items:k}),v("Data saved successfully!"),setTimeout(()=>v(""),2500)}catch(w){console.error(w),v("Save failed."),setTimeout(()=>v(""),2500)}};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsx(Xi,{title:"Daily Collection Sheet",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Daily Collection Sheet"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:D,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),r.jsx("button",{onClick:()=>{const w=document.getElementById("printable-area");if(!w)return;const k=window.open("","","height=600,width=800");if(!k)return;const C=new Date().toISOString().split("T")[0];k.document.title=`Daily Collection Sheet - ${C}`,k.document.write("<html><head><title>Fishow - Daily Collection Sheet</title>"),k.document.write(`<style>
                    body{font-family: Arial, sans-serif; margin: 20px;}
                    h1,h2{text-align:center;}
                    table{width:100%; border-collapse:collapse;}
                    th,td{border:1px solid #000; padding:8px; text-align:left;}
                    th{background:#f2f2f2;}
                    .footer{margin-top:20px; text-align:center; font-size:12px;}
                  </style>`),k.document.write("</head><body><h1>Fishow</h1><h2>Daily Collection Sheet</h2>"),k.document.write(w.innerHTML),k.document.write('<div class="footer">Thank you for your business!</div>'),k.document.write("</body></html>"),k.document.close(),k.focus(),k.print(),k.close()},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]})]}),y&&r.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded print:hidden",children:y}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Balance (Carried Forward)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Today's Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Paid"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Closing Balance"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map((w,k)=>{const C=typeof w.customer=="object"&&w.customer!==null?w.customer:{id:null,name:String(w.customer)},S=C.id??C.name;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:C.name}),r.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",w.opening.toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",w.todaysAmount.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:r.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-1",children:["",(w.opening+w.todaysAmount).toFixed(2)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 print:hidden",children:r.jsx("input",{type:"number",className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-moz-appearance:textfield]",value:m[S]??"",onChange:L=>{const V=L.target.value,R=V===""?void 0:Math.max(0,Number(V)||0);f(_=>({..._,[S]:R}))},placeholder:"Enter amount",min:0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 print:hidden",children:r.jsx("input",{type:"number",className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-moz-appearance:textfield]",value:x[S]??"",onChange:L=>{const V=L.target.value,R=V===""?void 0:Math.max(0,Number(V)||0);g(_=>({..._,[S]:R}))},placeholder:"Enter amount",min:0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:r.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-1 font-semibold text-gray-900 dark:text-white",children:["",(w.opening+w.todaysAmount-(Number(m[S]??0)+Number(x[S]??0))).toFixed(2)]})})]},C.id??`c-${k}`)})}),r.jsxs("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total (Paid - Discount):"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-green-600 dark:text-green-400",children:["",(P-N).toFixed(2)]}),r.jsx("td",{colSpan:2,className:"print:hidden"})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:6,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total Closing Balance:"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left text-sm font-bold text-blue-600 dark:text-blue-400",children:["",(b+T-(P+N)).toFixed(2)]})]})]})]})})]})})},gb=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1),[m,f]=p.useState(()=>new Date().toISOString().split("T")[0]),x=n||m;p.useEffect(()=>{if(!n){const v=setInterval(()=>{f(new Date().toISOString().split("T")[0])},6e4);return()=>clearInterval(v)}},[n]),p.useEffect(()=>{x&&g()},[x]);const g=async()=>{c(!0);try{const v=await pb(x);o(v.rows||[])}catch(v){console.error("Error fetching sales data:",v),o([])}finally{c(!1)}},y=()=>{const v=document.getElementById("printable-area")?.innerHTML;if(!v)return;const b=window.open("","","height=600,width=800");if(!b)return;const T=new Date().toISOString().split("T")[0];b.document.title=`Sales Register - ${T}`,b.document.write("<html><head><title>Fishow - Sales Register</title>"),b.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px;} h1,h2{text-align: center;} table{width:100%; border-collapse: collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),b.document.write("</head><body>"),b.document.write("<h1>Fishow</h1><h2>Sales Register</h2>"),b.document.write(v),b.document.write('<div class="footer">Thank you for your business!</div>'),b.document.write("</body></html>"),b.document.close(),b.focus(),b.print(),b.close()};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Sales Register"}),r.jsx("button",{onClick:y,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Box"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Boxes Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cash Paid"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map((v,b)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:v.party}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.totalBox}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.salesman}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.customer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.product??""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.boxesSold??""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.price!=null?`${v.price.toFixed(2)}`:""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:v.total!=null?`${v.total.toFixed(2)}`:""}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",v.cashPaid.toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",v.discount.toFixed(2)]})]},b))})]})})]})},hb=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1);p.useEffect(()=>{n&&m()},[n]);const m=async()=>{c(!0);try{const g=((await gm(n)).rows||[]).map(y=>({party:y.party,totalBox:y.totalBox,salesman:y.salesman,grandTotal:y.grandTotal}));o(g)}catch(x){console.error("Error fetching summary data:",x),o([])}finally{c(!1)}},f=()=>{const x=document.getElementById("printable-area")?.innerHTML;if(x){const g=window.open("","","height=600,width=800");if(g){const y=new Date().toISOString().split("T")[0];g.document.title=`Daily Summary - ${y}`,g.document.write("<html><head><title>Fishow - Daily Summary</title>"),g.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px; overflow: visible !important; max-width: 100% !important;} h1, h2 {text-align: center;} table {width: 100%; border-collapse: collapse; overflow: visible !important; max-width: 100% !important;} th, td {border: 1px solid #000; padding: 8px; text-align: left;} th {background-color: #f2f2f2;} .footer {margin-top: 20px; text-align: center; font-size: 12px;}</style>"),g.document.write("</head><body>"),g.document.write("<h1>Fishow</h1>"),g.document.write("<h2>Daily Summary</h2>"),g.document.write(x),g.document.write('<div class="footer">Thank you for your business!</div>'),g.document.write("</body></html>"),g.document.close(),g.focus(),g.print(),g.close()}}};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Daily Summary"}),r.jsx("button",{onClick:f,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Box"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Grand Total (Day by Day)"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map((x,g)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:x.party}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:x.totalBox}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:x.salesman}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",x.grandTotal.toFixed(2)]})]},g))})]})})]})},yb=({dateRange:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState({}),[m,f]=p.useState(!1),[x,g]=p.useState("");p.useEffect(()=>{n.startDate&&n.endDate&&y()},[n]);const y=async()=>{f(!0);try{const N=await Gh(n.startDate,n.endDate);o(N.rows||[]),c({})}catch(N){console.error("Error fetching box receive data:",N),o([])}finally{f(!1)}},v=async()=>{const N=Object.entries(d).map(([D,w])=>{const k=Number(w);if(!k||k<=0||Number.isNaN(k))return null;const C=l.find(S=>S.id===D);return C?{partyName:C.party,customerName:C.customer,boxes:k,date:new Date(C.date).toISOString().split("T")[0]}:null}).filter(Boolean);if(console.log("Prepared payloads for box receive:",N),!N.length){g("Nothing to save"),setTimeout(()=>g(""),2e3);return}try{for(const D of N)await Xh(D);g("Saved successfully"),setTimeout(()=>g(""),2e3),await y()}catch(D){console.error(D),g("Save failed"),setTimeout(()=>g(""),2500)}},b=()=>{const N=document.getElementById("printable-area")?.innerHTML;if(!N)return;const D=window.open("","","height=600,width=800");if(!D)return;const w=new Date().toISOString().split("T")[0];D.document.title=`Box Receive Report - ${w}`,D.document.write("<html><head><title>Fishow - Box Receive Report</title>"),D.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px;} h1,h2{text-align:center;} table{width:100%; border-collapse:collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),D.document.write("</head><body><h1>Fishow</h1><h2>Box Receive Report</h2>"),D.document.write(N),D.document.write('<div class="footer">Thank you for your business!</div>'),D.document.write("</body></html>"),D.document.close(),D.focus(),D.print(),D.close()};if(m)return r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const T=l.reduce((N,D)=>N+(D.totalBox||0),0),P=l.reduce((N,D)=>N+(D.boxesSold||0),0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Box Receive Report"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[x&&r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 mr-2",children:x}),r.jsx("button",{onClick:v,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),r.jsx("button",{onClick:b,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Total Box"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Boxes Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Box Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Balance"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:l.map(N=>{const D=Number(d[N.id]??""),w=Number.isFinite(D)?Math.max(0,D):0,k=N.boxesSold-w;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:new Date(N.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.party}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.totalBox}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.salesman}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.customer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200",children:N.boxesSold}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200 flex items-center gap-2",children:[r.jsx("span",{children:N.boxReceived}),r.jsx("input",{type:"number",min:0,className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm text-center",value:d[N.id]??"",onChange:C=>c(S=>({...S,[N.id]:C.target.value})),placeholder:"Enter"})]}),r.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${(Number.isFinite(D)&&D!==0?k:N.balance)<0?"text-red-500":"text-green-500"}`,children:Number.isFinite(D)&&D!==0?k:N.balance})]},N.id)})})]})}),r.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:["Total Boxes: ",r.jsx("b",{children:T})," | Boxes Sold:"," ",r.jsx("b",{children:P})]})]})},bb=({date:n})=>{const[l,o]=p.useState([]),[d,c]=p.useState(!1),[m,f]=p.useState(0),[x,g]=p.useState(null),[y,v]=p.useState([]),[b,T]=p.useState(!1);p.useEffect(()=>{n&&P()},[n]);const P=async()=>{c(!0);try{const w=await Zh(n);o(w.rows||[]),f(w.totals?.totalBalance??0)}catch(w){console.error("Error fetching box summary:",w),o([]),f(0)}finally{c(!1)}},N=async w=>{T(!0);try{const k=await ey(n,w);v(k.rows||[]),g(w)}catch(k){console.error(k),v([])}finally{T(!1)}},D=()=>{const w=document.getElementById("printable-area")?.innerHTML;if(!w)return;const k=window.open("","","height=600,width=800");if(!k)return;const C=new Date().toISOString().split("T")[0];k.document.title=`Daily Summary Box - ${C}`,k.document.write("<html><head><title>Fishow - Daily Summary Box</title>"),k.document.write("<style>body{font-family: Arial, sans-serif; margin:20px;} h1,h2{text-align:center;} table{width:100%; border-collapse:collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),k.document.write("</head><body><h1>Fishow</h1><h2>Daily Summary (Box)</h2>"),k.document.write(w),k.document.write('<div class="footer">Thank you for your business!</div>'),k.document.write("</body></html>"),k.document.close(),k.focus(),k.print(),k.close()};return d?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Daily Summary (Box)"}),r.jsx("button",{onClick:D,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sold(cash sale+box sale)"})]})}),r.jsx("tbody",{children:l.map((w,k)=>r.jsxs(Bi.Fragment,{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-medium",children:w.party}),r.jsx("td",{className:"px-6 py-4",children:w.balance}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>N(w.partyId),className:"text-blue-600 text-sm underline",children:"View Customers"})})]}),x===w.partyId&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"bg-gray-50 p-4",children:b?r.jsx("div",{children:"Loading..."}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left",children:"Customer"}),r.jsx("th",{className:"text-left",children:"Boxes"})]})}),r.jsx("tbody",{children:y.map((C,S)=>r.jsxs("tr",{children:[r.jsx("td",{children:C.customer}),r.jsx("td",{children:C.boxes})]},S))})]})})})]},k))}),r.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:"Total Balance"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:m})]})})]})})]})},vb=()=>{const[n,l]=p.useState([]),[o,d]=p.useState(!1),[c,m]=p.useState(null),[f,x]=p.useState(0),[g,y]=p.useState(null),[v,b]=p.useState([]),[T,P]=p.useState(!1),N=async k=>{if(g===k){y(null);return}P(!0);try{const C=await ry(k);b(C.rows||[]),y(k)}finally{P(!1)}};p.useEffect(()=>{D()},[]),p.useEffect(()=>{if(!c)return;const k=setTimeout(()=>m(null),3e3);return()=>clearTimeout(k)},[c]);const D=async()=>{d(!0);try{const k=await ty(),C=(k.rows||[]).map(S=>({partyId:S.partyId,party:S.party,totalBalance:S.totalBalance}));l(C),x(k.totals?.grandTotal??0)}catch(k){console.error("Error loading box balance:",k),m({message:"Failed to load box balance",type:"error"}),l([]),x(0)}finally{d(!1)}},w=()=>{const k=document.getElementById("printable-area")?.innerHTML;if(!k)return;const C=window.open("","","height=600,width=800");if(!C)return;const S=new Date().toISOString().split("T")[0];C.document.title=`Total Box Balance - ${S}`,C.document.write("<html><head><title>Fishow - Total Box Balance</title>"),C.document.write("<style>body{font-family: Arial, sans-serif; margin: 20px;} h1,h2{text-align:center;} table{width:100%; border-collapse:collapse;} th,td{border:1px solid #000; padding:8px; text-align:left;} th{background:#f2f2f2;} .footer{margin-top:20px; text-align:center; font-size:12px;}</style>"),C.document.write("</head><body><h1>Fishow</h1><h2>Total Box Balance</h2>"),C.document.write(k),C.document.write('<div class="footer">Thank you for your business!</div>'),C.document.write("</body></html>"),C.document.close(),C.focus(),C.print(),C.close()};return o?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[c&&r.jsx("div",{className:`px-4 py-3 rounded-lg shadow border ${c.type==="success"?"bg-green-100 border-green-200 text-green-800":"bg-red-100 border-red-200 text-red-800"}`,children:c.message}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Total Box Balance"}),r.jsx("button",{onClick:w,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Balance of Boxes"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Details"})]})}),r.jsx("tbody",{children:n.map((k,C)=>r.jsxs(Bi.Fragment,{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 font-medium",children:k.party}),r.jsx("td",{className:"px-6 py-4",children:k.totalBalance}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>N(k.partyId),className:"text-blue-600 text-sm underline",children:"View Customers"})})]}),g===k.partyId&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"bg-gray-50 p-4",children:T?r.jsx("div",{children:"Loading..."}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Customer"}),r.jsx("th",{children:"Box Balance"})]})}),r.jsx("tbody",{children:v.map((S,L)=>r.jsxs("tr",{children:[r.jsx("td",{children:S.customer}),r.jsx("td",{children:S.total_balance})]},L))})]})})})]},C))}),r.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:f})]})})]})})]})},sl=()=>new Date().toISOString().split("T")[0],wb=()=>{const n=kt(),{reportType:l}=Zp(),o=l||"daily-collection",[d,c]=p.useState(()=>{const P=sl();return o==="total-box-balance"||o==="daily-summary-box"||o==="daily-summary"||o==="sales-register"?{startDate:"",endDate:""}:{startDate:P,endDate:P}}),[m,f]=p.useState(()=>o==="total-box-balance"||o==="daily-summary-box"||o==="daily-summary"||o==="daily-collection"||o==="sales-register"?sl():""),[x,g]=p.useState(0),y={"daily-collection":xb,"sales-register":gb,"daily-summary":hb,"box-receive":yb,"daily-summary-box":bb,"total-box-balance":vb},v={"daily-collection":"Daily Collection Sheet","sales-register":"Sales Register","daily-summary":"Daily Summary","box-receive":"Box Receive Report","daily-summary-box":"Daily Summary (Box)","total-box-balance":"Total Box Balance"},b=(P,N)=>{c({startDate:P,endDate:N})},T=y[o];return p.useEffect(()=>{(o==="total-box-balance"||o==="daily-summary-box"||o==="daily-summary"||o==="daily-collection"||o==="sales-register")&&!m&&f(sl())},[o,m]),p.useEffect(()=>{if(o!=="total-box-balance"&&o!=="daily-summary-box"&&o!=="daily-summary"&&o!=="sales-register"&&(!d.startDate||!d.endDate)){const N=sl();c({startDate:N,endDate:N})}},[o,d.startDate,d.endDate]),p.useEffect(()=>{(async()=>{if(o!=="daily-summary"||!m){g(0);return}try{const N=await gm(m);g(Number(N.totals.grandTotal)||0)}catch(N){console.error(N),g(0)}})()},[o,m]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v[o]||"Reports"})}),r.jsx("button",{onClick:()=>n("/dashboard"),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Back to Dashboard"})]})}),o!=="total-box-balance"&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-4",children:o==="daily-summary-box"||o==="daily-summary"||o==="daily-collection"||o==="sales-register"?r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Select Date:"}),r.jsx("input",{type:"date",value:m,onChange:P=>f(P.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),o==="daily-summary"&&r.jsxs("div",{className:"ml-auto text-sm font-medium text-gray-700 dark:text-gray-300",children:["Total Sale: ",r.jsxs("span",{className:"text-gray-900 dark:text-white",children:["",x.toFixed(2)]})]})]}):r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Date Range:"}),r.jsx("input",{type:"date",value:d.startDate,onChange:P=>b(P.target.value,d.endDate),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"to"}),r.jsx("input",{type:"date",value:d.endDate,onChange:P=>b(d.startDate,P.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4",children:T?o==="total-box-balance"?r.jsx(T,{}):o==="daily-summary-box"?r.jsx(T,{date:m}):o==="daily-summary"?r.jsx(T,{date:m}):o==="daily-collection"?r.jsx(T,{date:m}):o==="sales-register"?r.jsx(T,{date:m}):r.jsx(T,{dateRange:d}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Report not found."})})})]})]})},ll="salesmen",kb=()=>{const[n,l]=p.useState(""),[o,d]=p.useState([]),[c,m]=p.useState(null),[f,x]=p.useState(""),[g,y]=p.useState(1),[v,b]=p.useState(0),[T,P]=p.useState(!1),[N,D]=p.useState(!1),w=10,k=async(R=g)=>{try{P(!0);const _=await Je(ll,{page:R,pageSize:w});d(_.data||[]),b(_.totalCount||0),y(_.page||R)}catch(_){console.error("Error fetching salesmen:",_)}finally{P(!1)}};p.useEffect(()=>{k(g)},[g]);const C=async()=>{if(n.trim())try{D(!0),await El(ll,{name:n.trim()}),l(""),await k(1),y(1)}catch(R){console.error("Error saving salesman:",R),R?.message&&alert(R.message)}finally{D(!1)}},S=R=>{m(R.id),x(R.name)},L=async R=>{if(f.trim())try{D(!0),await Cl(ll,R,{name:f.trim()}),m(null),x(""),await k()}catch(_){console.error("Error updating salesman:",_),_?.message&&alert(_.message)}finally{D(!1)}},V=async R=>{if(window.confirm("Are you sure you want to delete this salesman?"))try{D(!0),await Dl(ll,R);const _=Math.max(0,v-1),Y=Math.max(1,Math.ceil(_/w));g>Y&&y(Y),await k()}catch(_){console.error("Error deleting salesman:",_),_?.message&&alert(_.message)}finally{D(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Create Salesman"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center sm:space-x-2 mb-6 space-y-2 sm:space-y-0",onSubmit:R=>{R.preventDefault(),C()},children:[r.jsx("input",{type:"text",placeholder:"Salesman name",value:n,onChange:R=>l(R.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full sm:w-auto flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("button",{type:"submit",disabled:N,className:"bg-blue-600 dark:bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-[600px] w-full border-collapse border border-gray-300 dark:border-gray-600",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Created At"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Name"}),r.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Actions"})]})}),r.jsx("tbody",{children:T?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"Loading..."})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-300",children:"No salesmen found"})}):o.map(R=>r.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600",children:[r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:R.created_at?new Date(R.created_at).toLocaleString():"-"}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:c===R.id?r.jsx("input",{type:"text",value:f,onChange:_=>x(_.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):R.name}),r.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-3 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"flex space-x-2",children:c===R.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(R.id),title:"Save",className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:r.jsx(vl,{size:18})}),r.jsx("button",{onClick:()=>m(null),title:"Cancel",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(ua,{size:18})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>S(R),title:"Edit",className:"text-yellow-500 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300",children:r.jsx(Ha,{size:18})}),r.jsx("button",{onClick:()=>V(R.id),title:"Delete",className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:r.jsx(At,{size:18})})]})})})]},String(R.id)))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:g===1||T,onClick:()=>y(R=>Math.max(1,R-1)),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",g," of ",Math.max(1,Math.ceil(v/w))]}),r.jsx("button",{disabled:g*w>=v||T,onClick:()=>y(R=>R+1),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Next"})]})]})})]})},jb=()=>{const[n,l]=p.useState(""),[o,d]=p.useState(""),[c,m]=p.useState(""),[f,x]=p.useState(""),[g,y]=p.useState(""),[v,b]=p.useState(""),[T,P]=p.useState(!1),N=kt(),D=g&&v&&g===v,w=async k=>{if(k.preventDefault(),!D){alert("Passwords do not match");return}if(!f){alert("Please select a role");return}P(!0);try{await Ah({fullName:n.trim(),username:o.trim(),email:c.trim(),password:g,role:f}),alert("Account created successfully!"),N("/login")}catch(C){if(C?.response){const S=C.response.data?.message||C.response.data;C.response.status===409?alert(S||"Email or username already exists"):C.response.status===400?alert(S||"Invalid input"):alert(S||"Something went wrong.")}else alert("Network error. Check connection.")}finally{P(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-colors duration-200",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-600 transition-colors duration-200",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:r.jsx(Wi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Fishow"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Powered by Popular Fish"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Developed by Cydexsoft"})]}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(og,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"text",value:n,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your full name",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",value:o,onChange:k=>d(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Choose a username",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"email",value:c,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your email",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Role"}),r.jsxs("select",{value:f,onChange:k=>x(k.target.value),className:"w-full pl-3 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[r.jsx("option",{value:"",children:"Select role"}),r.jsx("option",{value:"sale",children:"Sale"}),r.jsx("option",{value:"box",children:"Box"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"password",value:g,onChange:k=>y(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Create a password",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"password",value:v,onChange:k=>b(k.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg ${v&&!D?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`,placeholder:"Confirm your password",required:!0})]}),v&&!D&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"})]}),r.jsx("button",{type:"submit",disabled:!D||!n||!o||!c||!f||T,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-500 transition-all disabled:bg-gray-400 dark:disabled:bg-gray-600",children:T?"Signing up...":"Sign Up"})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Already have an account?"," ",r.jsx(bl,{to:"/login",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign In"})]})})]})})})};async function Nb(n){const l=await Pe.get("/api/ledger/transactions",{params:n});return{data:l.data.data,meta:l.data.meta}}async function Sb(n,l){if(!n||n<=0)throw new Error("Invalid id");return(await Pe.put(`/api/ledger/transactions/${n}`,l)).data}async function Eb(n){if(!n||n<=0)throw new Error("Invalid id");await Pe.delete(`/api/ledger/transactions/${n}`)}const b0=["ACME Traders","Blue Ocean Ltd","SeaFresh","Prime Fishery","Harbor Supplies"];function Cb(n){const l=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),d=String(n.getDate()).padStart(2,"0");return`${l}-${o}-${d}`}(()=>{const n=[],l=new Date;for(let o=1;o<=120;o++){const d=Math.floor(Math.random()*90),c=new Date(l);c.setDate(l.getDate()-d);const m=["sale","payment","discount"],f=m[Math.floor(Math.random()*m.length)];n.push({id:o,customer_id:o%5+1,customer_name:b0[o%b0.length],entry_date:Cb(c),source_type:f,source_id:f==="sale"?1e3+o:null,source_display:f==="sale"?`INV-${1e3+o}`:f==="payment"?`PAY-${2e3+o}`:null,amount:parseFloat((Math.random()*5e3+100).toFixed(2)),note:Math.random()>.7?"Manual adjustment":null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}return n.sort((o,d)=>o.entry_date<d.entry_date?1:-1),n})();const Db=25;function v0(n){const l=new Date;l.setDate(l.getDate()-n+1);const o=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),c=String(l.getDate()).padStart(2,"0");return`${o}-${d}-${c}`}const Rb=()=>{const[n,l]=p.useState([]),[o,d]=p.useState(!0),[c,m]=p.useState(1),[f,x]=p.useState(Db),[g,y]=p.useState(1),[v,b]=p.useState(v0(30)),[T,P]=p.useState(()=>{const W=new Date,ke=W.getFullYear(),ye=String(W.getMonth()+1).padStart(2,"0"),je=String(W.getDate()).padStart(2,"0");return`${ke}-${ye}-${je}`}),[N,D]=p.useState(""),[w,k]=p.useState(null),[C,S]=p.useState(!1),[L,V]=p.useState(!1);p.useEffect(()=>{_()},[c,f]);const R=()=>({start:v||void 0,end:T||void 0,q:N||void 0,page:c,pageSize:f,sortBy:"entry_date",sortOrder:"desc"}),_=async()=>{d(!0);try{const W=R(),ke=await Nb(W);l(ke.data),y(ke.meta.totalPages)}catch(W){console.error("Failed to fetch transactions",W),st.error("Failed to load transactions")}finally{d(!1)}},Y=()=>{m(1),_()},se=()=>{b(v0(30));const W=new Date;P(`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`),D(""),m(1),_()},ve=W=>{k({...W}),S(!0)},we=async()=>{if(w){V(!0);try{await Sb(w.id,{entry_date:w.entry_date,amount:w.amount,note:w.note}),st.success("Transaction updated"),S(!1),k(null),_()}catch(W){console.error("Failed to update",W),st.error("Failed to update transaction")}finally{V(!1)}}},te=async W=>{if(confirm("Are you sure you want to delete this transaction?"))try{await Eb(W),st.success("Transaction deleted"),_()}catch(ke){console.error("Failed to delete",ke),st.error("Failed to delete transaction")}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Cash Transactions"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mt-2",children:"Manage cash-related transactions"})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Start Date"}),r.jsx("input",{type:"date",value:v,onChange:W=>b(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"End Date"}),r.jsx("input",{type:"date",value:T,onChange:W=>P(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Search (customer)"}),r.jsx("input",{value:N,onChange:W=>D(W.target.value),placeholder:"Search...",className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Apply"}),r.jsx("button",{onClick:se,className:"px-3 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md",children:"Reset"})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Source Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})}):n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300",children:"No transactions found."})}):n.map(W=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.entry_date}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.customer_name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.source_type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.amount.toFixed(2)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>ve(W),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>te(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},W.id))})]})}),r.jsxs("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",c," of ",g]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{c>1&&m(c-1)},disabled:c<=1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Prev"}),r.jsx("button",{onClick:()=>{c<g&&m(c+1)},disabled:c>=g,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Next"})]})]})]})]}),C&&w&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Edit Cash Transaction"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),r.jsx("input",{type:"date",value:w.entry_date,onChange:W=>k({...w,entry_date:W.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Customer"}),r.jsx("input",{type:"text",value:w.customer_name,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Source Type"}),r.jsx("input",{type:"text",value:w.source_type,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),r.jsx("input",{type:"number",value:w.amount,onChange:W=>k({...w,amount:parseFloat(W.target.value||"0")}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),r.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[r.jsx("button",{onClick:()=>{S(!1),k(null)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"}),r.jsx("button",{onClick:we,disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:L?"Saving...":"Save"})]})]})})})]})};async function Tb(n={}){return(await Pe.get("/api/box-transactions",{params:n})).data}async function Pb(n,l){return(await Pe.put(`/api/box-transactions/${n}`,l)).data}async function _b(n){await Pe.delete(`/api/box-transactions/${n}`)}const Ib=25;function w0(n){const l=new Date;l.setDate(l.getDate()-n+1);const o=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),c=String(l.getDate()).padStart(2,"0");return`${o}-${d}-${c}`}const Lb=()=>{const[n,l]=p.useState([]),[o,d]=p.useState(!0),[c,m]=p.useState(1),[f,x]=p.useState(Ib),[g,y]=p.useState(1),[v,b]=p.useState(w0(30)),[T,P]=p.useState(()=>{const W=new Date;return`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`}),[N,D]=p.useState(""),[w,k]=p.useState(null),[C,S]=p.useState(!1),[L,V]=p.useState(!1);p.useEffect(()=>{_()},[c,f]);const R=()=>({start:v||void 0,end:T||void 0,page:c,pageSize:f}),_=async()=>{d(!0);try{const W=await Tb(R());l(W.data),y(W.meta.totalPages)}catch(W){console.error("Failed to fetch box transactions",W),st.error("Failed to load box transactions")}finally{d(!1)}},Y=()=>{m(1),_()},se=()=>{b(w0(30));const W=new Date;P(`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`),m(1),_()},ve=W=>{k({...W}),S(!0)},we=async()=>{if(w){V(!0);try{await Pb(w.id,{trans_date:w.trans_date,box_sale:w.box_sale,box_receive:w.box_receive}),st.success("Transaction updated"),S(!1),k(null),_()}catch(W){console.error("Failed to update box transaction",W),st.error("Failed to update transaction")}finally{V(!1)}}},te=async W=>{if(confirm("Are you sure you want to delete this transaction?"))try{await _b(W),st.success("Transaction deleted"),_()}catch(ke){console.error("Failed to delete",ke),st.error("Failed to delete transaction")}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-6 flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Box Transactions"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-200 mt-2",children:"Manage box receive & sale records"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:space-x-4 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Start Date"}),r.jsx("input",{type:"date",value:v,onChange:W=>b(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"End Date"}),r.jsx("input",{type:"date",value:T,onChange:W=>P(W.target.value),className:"mt-1 px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[r.jsx("button",{onClick:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Apply"}),r.jsx("button",{onClick:se,className:"px-3 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md",children:"Reset"})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})}):n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300",children:"No transactions found."})}):n.map(W=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.trans_date}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.party.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.customer.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.box_receive}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.box_sale}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>ve(W),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>te(W.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},W.id))})]})}),r.jsxs("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",c," of ",g]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{c>1&&m(c-1)},disabled:c<=1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Prev"}),r.jsx("button",{onClick:()=>{c<g&&m(c+1)},disabled:c>=g,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:"Next"})]})]})]})]}),C&&w&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Edit Box Transaction"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),r.jsx("input",{type:"date",value:w.trans_date,onChange:W=>k({...w,trans_date:W.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Party"}),r.jsx("input",{type:"text",value:w.party.name,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Customer"}),r.jsx("input",{type:"text",value:w.customer.name,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Box Received"}),r.jsx("input",{type:"number",value:w.box_receive,onChange:W=>k({...w,box_receive:parseInt(W.target.value||"0")}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Box Sold"}),r.jsx("input",{type:"number",value:w.box_sale,onChange:W=>k({...w,box_sale:parseInt(W.target.value||"0")}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),r.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[r.jsx("button",{onClick:()=>{S(!1),k(null)},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"}),r.jsx("button",{onClick:we,disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:L?"Saving...":"Save"})]})]})})})]})};async function Bb(n){return(await Pe.get("/api/statements",{params:n})).data}async function Fb(n){return(await Pe.get("/api/statements/box",{params:n})).data}const Ab=()=>{const n=kt(),[l,o]=p.useState(""),[d,c]=p.useState(""),[m,f]=p.useState(""),[x,g]=p.useState(""),[y,v]=p.useState([]),[b,T]=p.useState([]),[P,N]=p.useState(0),[D,w]=p.useState(!1),[k,C]=p.useState("");p.useEffect(()=>{(async()=>{try{const Y=await Je("customers",{pageSize:1e3});v(Y.data)}catch(Y){console.error("Failed to load customers:",Y)}})()},[]);const L=(()=>{let _=0,Y=0;return b.forEach(se=>{_+=(se.box_sold||0)+(se.box_sale||0),Y+=se.box_receive||0}),{totalBoxSale:_,totalBoxReceived:Y,totalBalance:P+_-Y}})();p.useEffect(()=>{const _=async()=>{if(!l||!d||!m){T([]),C("");return}w(!0),C("");try{const se={start:l,end:d,pageSize:1e3,customer_id:Number(m)},ve=await Fb(se);T(ve.data),N(ve.openingBalance??0)}catch(se){console.error("Failed to fetch transactions:",se),C("Failed to load transaction data"),T([])}finally{w(!1)}},Y=setTimeout(()=>{_()},500);return()=>clearTimeout(Y)},[l,d,m]);const V=_=>{f(_.id),g(_.name)},R=()=>{const _=document.getElementById("printable-area");if(!_)return;const Y=window.open("","","height=600,width=800");Y&&(Y.document.title=`Box Statement - ${x||"All Customers"}`,Y.document.write("<html><head><title>Fishow - Box Statement</title>"),Y.document.write(`
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: left; }
        th { background: #f2f2f2; }
        .footer { margin-top: 20px; text-align: center; font-size: 12px; }
        .header-info { margin: 10px 0; }
      </style>
    `),Y.document.write("</head><body><h1>Fishow</h1><h2>Box Statement</h2>"),Y.document.write(`
      <div class="header-info">
        <p><strong>Date:</strong> ${l} To ${d}</p>
        ${x?`<p><strong>Customer Name:</strong> ${x}</p>`:""}

      </div>
    `),Y.document.write(_.innerHTML),Y.document.write('<div class="footer">Thank you for your business!</div>'),Y.document.write("</body></html>"),Y.document.close(),Y.focus(),Y.print(),Y.close())};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Box Statement"})}),r.jsx("button",{onClick:()=>n("/dashboard"),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Back to Dashboard"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:l,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:d,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Name"}),r.jsx(pt,{value:m,onChange:f,placeholder:"Search customer...",searchData:y.map(_=>({..._,id:String(_.id)})),onSelect:V,createRoute:"/customers/create",entityType:"customer"})]})]}),k&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4",children:r.jsx(Xi,{title:"Box Statement",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Box Statement"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:R,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6 print:block hidden",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Box Statement"}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",l," To ",d]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"})," ",x||"All Customers"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Old Balance:"})," ",P]})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Mark"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sold"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Sale"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Box Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Remark"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Balance"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:b.length>0?b.map((_,Y)=>{const se=P+b.slice(0,Y+1).reduce((ve,we)=>ve+(we.box_sold||0)+(we.box_sale||0)-(we.box_receive||0),0);return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(_.trans_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:_.party?.name||"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:_.box_sold}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:_.box_sale||0}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:_.box_receive||0}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:_.remark||""}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:se})]},_.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:D?"Loading...":"No data available"})})}),r.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Total:"}),r.jsx("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:L.totalBoxSale}),r.jsx("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:L.totalBoxReceived}),r.jsx("td",{className:"px-6 py-3 text-sm font-bold text-blue-600 dark:text-blue-400",children:L.totalBalance})]})})]})})]})]})})})]})]})},Ob=()=>{const n=kt(),[l,o]=p.useState(""),[d,c]=p.useState(""),[m,f]=p.useState(""),[x,g]=p.useState(""),[y,v]=p.useState([]),[b,T]=p.useState(null),[P,N]=p.useState(!1),[D,w]=p.useState("");p.useEffect(()=>{(async()=>{try{const L=await Je("customers",{pageSize:1e3});v(L.data)}catch(L){console.error("Failed to load customers:",L)}})()},[]),p.useEffect(()=>{const S=async()=>{if(!l||!d||!m){T(null);return}N(!0),w("");try{const V={start:l,end:d};m&&(V.customerId=m);const R=await Bb(V);T(R)}catch(V){console.error("Failed to fetch statement:",V),w("Failed to load statement data"),T(null)}finally{N(!1)}},L=setTimeout(()=>{S()},500);return()=>clearTimeout(L)},[l,d,m]);const k=S=>{f(S.id),g(S.name)},C=()=>{const S=document.getElementById("printable-area");if(!S)return;const L=window.open("","","height=600,width=800");L&&(L.document.title=`Cash Statement - ${x||"All Customers"}`,L.document.write("<html><head><title>Fishow - Statement</title>"),L.document.write(`
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: left; }
        th { background: #f2f2f2; }
        .footer { margin-top: 20px; text-align: center; font-size: 12px; }
        .header-info { margin: 10px 0; }
        .text-right { text-align: right; }
      </style>
    `),L.document.write("</head><body><h1>Fishow</h1><h2>Statement</h2>"),L.document.write(`
      <div class="header-info">
        <p><strong>From:</strong> ${l} <strong>To:</strong> ${d}</p>
        ${x?`<p><strong>Name:</strong> ${x}</p>`:""}
        ${b?.totals?`<p><strong>Old Balance:</strong> ${b.totals.balanceBeforeStart.toFixed(2)}</p>`:""}
      </div>
    `),L.document.write(S.innerHTML),L.document.write('<div class="footer">Thank you for your business!</div>'),L.document.write("</body></html>"),L.document.close(),L.focus(),L.print(),L.close())};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[r.jsx(xt,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cash Statement"})}),r.jsx("button",{onClick:()=>n("/dashboard"),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Back to Dashboard"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:l,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:d,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Name"}),r.jsx(pt,{value:m,onChange:f,placeholder:"Search customer...",searchData:y.map(S=>({...S,id:String(S.id)})),onSelect:k,createRoute:"/customers/create",entityType:"customer"})]})]}),D&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:D})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 p-4",children:r.jsx(Xi,{title:"Cash Statement",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cash Statement"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:C,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Print"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6 print:block hidden",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Popular Fish Kondotty : Statement"}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"From:"})," ",l," ",r.jsx("span",{className:"ml-4 font-medium",children:"To:"})," ",d]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"})," ",b?.customerName||x||"All Customers"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Old Balance:"})," ",b?.totals.balanceBeforeStart.toFixed(4)??"0.0000"]})]}),r.jsx("div",{id:"printable-area",className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Salesman"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:b&&b.rows.length>0?b.rows.map((S,L)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.party}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:S.item}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:S.salesman}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.boxesSold}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.price.toFixed(4)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.grandTotal.toFixed(4)})]},L)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:P?"Loading...":"No data available"})})}),r.jsxs("tfoot",{className:"bg-gray-50 dark:bg-gray-700",children:[r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Total:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:["",b?.totals.salesBetween.toFixed(4)??"0.0000"]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Old Balance:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:["",b?.totals.balanceBeforeStart.toFixed(4)??"0.0000"]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Grand Total:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-blue-600 dark:text-blue-400",children:["",((b?.totals.salesBetween||0)+(b?.totals.balanceBeforeStart||0)).toFixed(4)]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:4,className:"px-6 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:"Cash Paid:"}),r.jsxs("td",{className:"px-6 py-3 text-sm font-bold text-green-600 dark:text-green-400",children:["",b?.totals.totalCashPaid.toFixed(4)??"0.0000"]})]}),r.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-600",children:[r.jsx("td",{colSpan:4,className:"px-6 py-4 text-right text-sm font-bold text-gray-900 dark:text-white",children:"Final Balance:"}),r.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-red-600 dark:text-red-400",children:["",((b?.totals.salesBetween||0)+(b?.totals.balanceBeforeStart||0)-(b?.totals.totalCashPaid||0)).toFixed(4)]})]})]})]})})]})]})})})]})]})};function zb(){return Gx({immediate:!0}),r.jsx(Ox,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:r.jsxs(xx,{children:[r.jsx(nt,{path:"/login",element:r.jsx(zh,{})}),r.jsx(nt,{path:"/signup",element:r.jsx(jb,{})}),r.jsx(nt,{path:"/dashboard",element:r.jsx(cy,{})}),r.jsx(nt,{path:"/sales-entry",element:r.jsx(gy,{})}),r.jsx(nt,{path:"/load-wise-list",element:r.jsx(wy,{})}),r.jsx(nt,{path:"/fish-box-sent",element:r.jsx(ny,{})}),r.jsx(nt,{path:"/fish-box-received",element:r.jsx(ay,{})}),r.jsx(nt,{path:"/multiple-box-update",element:r.jsx(oy,{})}),r.jsx(nt,{path:"/box-sales-list",element:r.jsx(Qh,{})}),r.jsx(nt,{path:"/create-customer",element:r.jsx(iy,{})}),r.jsx(nt,{path:"/create-party",element:r.jsx(ub,{})}),r.jsx(nt,{path:"/create-salesman",element:r.jsx(kb,{})}),r.jsx(nt,{path:"/create-item",element:r.jsx(cb,{})}),r.jsx(nt,{path:"/cash-transactions",element:r.jsx(Rb,{})}),r.jsx(nt,{path:"/box-transactions",element:r.jsx(Lb,{})}),r.jsx(nt,{path:"/reports/:reportType",element:r.jsx(wb,{})}),r.jsx(nt,{path:"/reports/box-statement",element:r.jsx(Ab,{})}),r.jsx(nt,{path:"/reports/cash-statement",element:r.jsx(Ob,{})}),r.jsx(nt,{path:"/",element:r.jsx(fx,{to:"/login",replace:!0})})]})})})}wp.createRoot(document.getElementById("root")).render(r.jsx(p.StrictMode,{children:r.jsx(Uh,{children:r.jsx(zb,{})})}));
